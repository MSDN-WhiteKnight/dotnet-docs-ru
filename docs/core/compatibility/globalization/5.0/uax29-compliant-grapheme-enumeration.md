---
title: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ. –¢–µ–ø–µ—Ä—å StringInfo –∏ TextElementEnumerator —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å UAX29
description: –°–≤–µ–¥–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≥–ª–æ–±–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ .NET¬†5, –≥–¥–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞ StringInfo –∏ TextElementEnumerator —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–µ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ Unicode.
ms.date: 04/07/2020
ms.openlocfilehash: cf770e30bfadf1973bbe018cc9d2783ed6234723
ms.sourcegitcommit: 9c589b25b005b9a7f87327646020eb85c3b6306f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2021
ms.locfileid: "102256709"
---
# <a name="stringinfo-and-textelementenumerator-are-now-uax29-compliant"></a>–¢–µ–ø–µ—Ä—å StringInfo –∏ TextElementEnumerator —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å UAX29

–î–æ —ç—Ç–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è <xref:System.Globalization.StringInfo?displayProperty=fullName> –∏ <xref:System.Globalization.TextElementEnumerator?displayProperty=fullName> –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏ –≤—Å–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≥—Ä–∞—Ñ–µ–º—ã –±—ã–ª–∏ —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ –Ω–µ –æ–±—ä–µ–¥–∏–Ω—è–ª–∏—Å—å. –¢–µ–ø–µ—Ä—å <xref:System.Globalization.StringInfo> –∏ <xref:System.Globalization.TextElementEnumerator> –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–µ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –Æ–Ω–∏–∫–æ–¥–∞.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º–µ—Ç–æ–¥ <xref:Microsoft.VisualBasic.Strings.StrReverse%2A?displayProperty=fullName>, –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤ —Å—Ç—Ä–æ–∫–∏ –≤ Visual¬†Basic –Ω–∞ –æ–±—Ä–∞—Ç–Ω—ã–π, —Ç–µ–ø–µ—Ä—å —Ç–∞–∫–∂–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –Æ–Ω–∏–∫–æ–¥–∞ –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≥—Ä–∞—Ñ–µ–º.

## <a name="change-description"></a>–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

[–ì—Ä–∞—Ñ–µ–º–∞](https://www.unicode.org/glossary/#grapheme) –∏–ª–∏ [—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä –≥—Ä–∞—Ñ–µ–º](https://www.unicode.org/glossary/#extended_grapheme_cluster)¬†‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å–∏–º–≤–æ–ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ –Æ–Ω–∏–∫–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Ç–∞–π—Å–∫–∏–π —Å–∏–º–≤–æ–ª "–∫–∞–º" (:::no-loc text="‡∏Å‡∏≥":::), —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —Å–ª–µ–¥—É—é—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤:

- :::no-loc text="‡∏Å"::: (= '\u0e01') ‚Äî —Ç–∞–π—Å–∫–∏–π —Å–∏–º–≤–æ–ª "–∫–æ –∫–∞–π"
- :::no-loc text=" ‡∏≥"::: (= '\u0e33') ‚Äî —Ç–∞–π—Å–∫–∏–π —Å–∏–º–≤–æ–ª "—Å–∞—Ä–∞ –∞–º"

–ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —ç—Ç–∏ –¥–≤–∞ —Å–∏–º–≤–æ–ª–∞ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ (–∏–ª–∏ –≥—Ä–∞—Ñ–µ–º—ã) "–∫–∞–º" –∏–ª–∏ :::no-loc text="‡∏Å‡∏≥":::. –≠–º–æ–¥–∑–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

> [!TIP]
> –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ .NET –ø—Ä–∏ —Å—Å—ã–ª–∫–µ –Ω–∞ –≥—Ä–∞—Ñ–µ–º—É –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–µ—Ä–º–∏–Ω "—Ç–µ–∫—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç".

–ö–ª–∞—Å—Å—ã <xref:System.Globalization.StringInfo> –∏ <xref:System.Globalization.TextElementEnumerator> –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å—Ç—Ä–æ–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è –æ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤ –Ω–∏—Ö –≥—Ä–∞—Ñ–µ–º–∞—Ö. –í .NET Framework (–≤—Å–µ –≤–µ—Ä—Å–∏–∏) –∏ .NET Core 3.x –∏ –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–∏—Ö –≤–µ—Ä—Å–∏–π —ç—Ç–∏ –¥–≤–∞ –∫–ª–∞—Å—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã, –Ω–æ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç [—Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –Æ–Ω–∏–∫–æ–¥–∞](https://www.unicode.org/reports/tr29/tr29-35.html#Grapheme_Cluster_Boundaries). –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∞—Å—Å—ã <xref:System.Globalization.StringInfo> –∏ <xref:System.Globalization.TextElementEnumerator> –æ—à–∏–±–æ—á–Ω–æ —Ä–∞–∑–¥–µ–ª—è—é—Ç –æ–¥–∏–Ω —Ç–∞–π—Å–∫–∏–π —Å–∏–º–≤–æ–ª "–∫–∞–º" –Ω–∞ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö. –≠—Ç–∏ –∫–ª–∞—Å—Å—ã —Ç–∞–∫–∂–µ –æ—à–∏–±–æ—á–Ω–æ —Ä–∞–∑–±–∏–≤–∞—é—Ç —Å–∏–º–≤–æ–ª —ç–º–æ–¥–∑–∏ "ü§∑üèΩ‚Äç‚ôÄÔ∏è" –Ω–∞ —á–µ—Ç—ã—Ä–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ (–ø–æ–∂–∏–º–∞–Ω–∏–µ –ø–ª–µ—á–∞–º–∏, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–Ω–∞ –∫–æ–∂–∏, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª–∞ –∏ –Ω–µ–≤–∏–¥–∏–º—ã–π –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –±–ª–æ–∫) –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö –≤ –æ–¥–∏–Ω –∫–ª–∞—Å—Ç–µ—Ä –≥—Ä–∞—Ñ–µ–º.

–ù–∞—á–∏–Ω–∞—è —Å .NET 5 –∫–ª–∞—Å—Å—ã <xref:System.Globalization.StringInfo> –∏ <xref:System.Globalization.TextElementEnumerator> —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –Æ–Ω–∏–∫–æ–¥–∞, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ [–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –Æ–Ω–∏–∫–æ–¥ \#29, —Ä–µ–¥–∞–∫—Ü–∏—è 35, —Ä–∞–∑–¥–µ–ª 3](https://www.unicode.org/reports/tr29/tr29-35.html). –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, —Ç–µ–ø–µ—Ä—å –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç [—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –≥—Ä–∞—Ñ–µ–º](https://www.unicode.org/glossary/#extended_grapheme_cluster) –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∏—Ä—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ C#:

```csharp
using System.Globalization;

static void Main(string[] args)
{
    PrintGraphemes("‡∏Å‡∏≥");
    PrintGraphemes("ü§∑üèΩ‚Äç‚ôÄÔ∏è");
}

static void PrintGraphemes(string str)
{
    Console.WriteLine($"Printing graphemes of \"{str}\"...");
    int i = 0;

    TextElementEnumerator enumerator = StringInfo.GetTextElementEnumerator(str);
    while (enumerator.MoveNext())
    {
        Console.WriteLine($"Grapheme {++i}: \"{enumerator.Current}\"");
    }

    Console.WriteLine($"({i} grapheme(s) total.)");
    Console.WriteLine();
}
```

–í .NET Framework –∏ .NET Core 3.x –∏ –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–∏—Ö –≤–µ—Ä—Å–∏–π –≥—Ä–∞—Ñ–µ–º—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è, –∞ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```txt
Printing graphemes of "‡∏Å‡∏≥"...
Grapheme 1: "‡∏Å"
Grapheme 2: "‡∏≥"
(2 grapheme(s) total.)

Printing graphemes of "ü§∑üèΩ‚Äç‚ôÄÔ∏è"...
Grapheme 1: "ü§∑"
Grapheme 2: "üèΩ"
Grapheme 3: "‚Äç"
Grapheme 4: "‚ôÄÔ∏è"
(4 grapheme(s) total.)
```

–í .NET 5 –∏ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π –≥—Ä–∞—Ñ–µ–º—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è, –∞ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```txt
Printing graphemes of "‡∏Å‡∏≥"...
Grapheme 1: "‡∏Å‡∏≥"
(1 grapheme(s) total.)

Printing graphemes of "ü§∑üèΩ‚Äç‚ôÄÔ∏è"...
Grapheme 1: "ü§∑üèΩ‚Äç‚ôÄÔ∏è"
(1 grapheme(s) total.)
```

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω–∞—á–∏–Ω–∞—è —Å .NET 5 –º–µ—Ç–æ–¥ <xref:Microsoft.VisualBasic.Strings.StrReverse%2A?displayProperty=fullName>, –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤ —Å—Ç—Ä–æ–∫–∏ –≤ Visual¬†Basic –Ω–∞ –æ–±—Ä–∞—Ç–Ω—ã–π, —Ç–∞–∫–∂–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –Æ–Ω–∏–∫–æ–¥–∞ –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≥—Ä–∞—Ñ–µ–º.

–≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é –±–æ–ª–µ–µ –æ–±—à–∏—Ä–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è –Æ–Ω–∏–∫–æ–¥–∞ –∏ UTF-8 –≤ .NET, –≤–∫–ª—é—á–∞—è API –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≥—Ä–∞—Ñ–µ–º, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã API –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –Æ–Ω–∏–∫–æ–¥–∞, –ø–æ—è–≤–∏–≤—à–∏–µ—Å—è —Å —Ç–∏–ø–æ–º <xref:System.Text.Rune?displayProperty=fullName> –≤ .NET Core 3.0.

## <a name="version-introduced"></a>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

.NET 5.0

## <a name="recommended-action"></a>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ

–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç –≤–∞—Å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –í–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –≥–ª–æ–±–∞–ª–∏–∑–∞—Ü–∏–µ–π.

## <a name="affected-apis"></a>–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ API

- <xref:System.Globalization.StringInfo?displayProperty=fullName>
- <xref:System.Globalization.TextElementEnumerator?displayProperty=fullName>
- <xref:Microsoft.VisualBasic.Strings.StrReverse%2A?displayProperty=fullName>

<!--

### Affected APIs

- `T:System.Globalization.StringInfo`
- `T:System.Globalization.TextElementEnumerator`
- `Overload:Microsoft.VisualBasic.Strings.StrReverse`

### Category

Globalization

-->
