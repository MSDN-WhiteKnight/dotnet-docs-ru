---
title: Сравнение по промежуточного слоя с модулями и обработчиками
description: В этом разделе рассматриваются различия в структуре для приложений ASP.NET, использующих обработчики и модули с ASP.NET Core приложениями, которые определяют по промежуточного слоя для конвейеров обработки запросов.
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: 040ae49d1307ef4dcc9dbf49b20544e9cd2bc913
ms.sourcegitcommit: 42d436ebc2a7ee02fc1848c7742bc7d80e13fc2f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "102401733"
---
# <a name="compare-middleware-to-modules-and-handlers"></a>Сравнение по промежуточного слоя с модулями и обработчиками

Если существующее приложение ASP.NET MVC или веб-API использует OWIN/Katana, скорее всего, вы уже знакомы с концепцией по промежуточного слоя и переносом их в ASP.NET Core должны быть довольно простыми. Однако большинство приложений ASP.NET полагаются на HTTP-модули и обработчики HTTP, а не по промежуточного слоя. Перенос этих данных в ASP.NET Core требует дополнительных усилий.

## <a name="aspnet-modules-and-handlers"></a>Модули и обработчики ASP.NET

[Модули HTTP и обработчики HTTP](/troubleshoot/aspnet/http-modules-handlers) являются неотъемлемой частью архитектуры ASP.NET. Во время обработки запроса каждый запрос обрабатывается несколькими модулями HTTP (например, модулем проверки подлинности и модулем сеанса) и обрабатывается одним HTTP-обработчиком. После обработки запроса обработчиком запрос передается обратно через HTTP-модули.

Если приложение использует пользовательские модули HTTP или обработчики HTTP, вам потребуется план для их переноса в ASP.NET Core. Наиболее вероятной заменой в ASP.NET Core является по промежуточного слоя.

## <a name="aspnet-core-middleware"></a>По промежуточного слоя ASP.NET Core

ASP.NET Core определяет конвейер запросов в методе каждого приложения `Configure` . Этот конвейер запросов определяет способ обработки входящего запроса приложением, при этом каждый метод в конвейере вызывает следующий метод до завершения метода, а цепочка по *промежуточного слоя* завершается и возвращает резервную копию стека. По промежуточного слоя может быть нацелено на все запросы или может быть настроено на соответствие только определенным запросам в зависимости от запрошенного пути или других факторов. Его можно настроить полностью в `Configure` методе приложения или реализовать в отдельном классе.

Поведение в приложении ASP.NET MVC, использующем модули HTTP, вероятно, лучше всего подходит для [пользовательского по промежуточного слоя](/aspnet/core/fundamentals/middleware/?preserve-view=true&view=aspnetcore-3.1). Пользовательские обработчики HTTP можно заменить пользовательскими маршрутами или конечными точками, которые отвечают на один и тот же путь.

## <a name="references"></a>Ссылки

- [ASP.NET HTTP-модули и обработчики HTTP](/troubleshoot/aspnet/http-modules-handlers)
- [По промежуточного слоя ASP.NET Core](/aspnet/core/fundamentals/middleware/?preserve-view=true&view=aspnetcore-3.1)

>[!div class="step-by-step"]
>[Назад](dependency-injection-differences.md)
>[Вперед](configuration-differences.md)
