---
title: Выбор .NET 5 для контейнеров Docker
description: Архитектура микрослужб .NET для упакованных в контейнеры приложений .NET | Выбор .NET для контейнеров Docker
ms.date: 02/02/2021
ms.openlocfilehash: d0480ac43c0090b72185bd23bbd11ac7e26001e6
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99653424"
---
# <a name="when-to-choose-net-for-docker-containers"></a>Выбор .NET для контейнеров Docker

Благодаря модульности и упрощенному характеру .NET 5 идеально подходит для контейнеров. При развертывании и запуске контейнера размер его образа гораздо меньше в среде .NET 5. Напротив, при использовании .NET Framework для контейнера необходимо использовать Windows Server Core в качестве базового образа, который занимает гораздо больше места, чем образ Nano Windows Server или Linux, которые используются для .NET 5.

Кроме того, платформа .NET 5 является кроссплатформенной, поэтому вы можете разворачивать серверные приложения в Linux и Windows контейнерах. Однако при использовании традиционной .NET Framework можно развернуть только образ, основанный на Windows Server Core.

Ниже более подробно описаны преимущества .NET 5.

## <a name="developing-and-deploying-cross-platform"></a>Разработка и развертывание на различных платформах

Очевидно, что если ваша цель — приложение (веб-приложение или служба), которое можно запускать на нескольких платформах, поддерживаемых в Docker (Linux и Windows), целесообразно выбрать .NET 5, так как платформа .NET Framework поддерживает только Windows.

.NET 5 также поддерживает macOS в качестве платформы разработки. Тем не менее при развертывании контейнеров на узле Docker этот узел должен (в настоящее время) базироваться на Windows или Linux. Например, в среде разработки можно использовать виртуальную машину с Linux, запущенную на компьютере с Mac.

[Visual Studio](https://www.visualstudio.com/vs/) предоставляет интегрированную среду разработки (IDE) для Windows и поддерживает разработку с использованием Docker.

[Visual Studio для Mac](https://www.visualstudio.com/vs/visual-studio-mac/) — это интегрированная среда разработки, которая является эволюцией Xamarin Studio, выполняется в macOS и поддерживает разработку приложений на основе Docker. Этот инструмент должен быть предпочтительным вариантом для разработчиков, которые работают на компьютерах с Mac и хотят использовать мощную интегрированную среду разработки.

Редактор [Visual Studio Code](https://code.visualstudio.com/) можно также использовать в macOS, Linux и Windows. Visual Studio Code полностью поддерживает .NET 5, включая технологию IntelliSense и отладку. Так как VS Code является упрощенным редактором, для разработки контейнерных приложений на компьютере его можно использовать в сочетании с Docker CLI и [.NET CLI](../../../core/tools/index.md). Для разработки на платформе .NET 5 также можно использовать большинство сторонних редакторов, например Sublime, Emacs, vi и проект с открытым кодом OmniSharp, который также поддерживает технологию IntelliSense.

Наряду с интегрированными средами разработки и редакторами для всех поддерживаемых платформ вы можете использовать [.NET CLI](../../../core/tools/index.md).

## <a name="using-containers-for-new-green-field-projects"></a>Использование контейнеров для новых ("с нуля") проектов

Контейнеры обычно используются в сочетании с архитектурой микрослужб, хотя их также можно использовать для упаковки веб-приложений или служб, созданных на базе любого архитектурного шаблона. Среду .NET Framework можно использовать для контейнеров Windows, но упрощенный характер и модульный принцип среды .NET 5 делают ее оптимальной для контейнеров и архитектуры микрослужб. При создании и развертывании контейнера размер его образа гораздо меньше в среде .NET 5, чем в .NET Framework.

## <a name="create-and-deploy-microservices-on-containers"></a>Создание и развертывание микрослужб в контейнерах

Традиционный .NET Framework можно использовать для создания приложений на основе микрослужб (без контейнеров) с помощью простых процессов. Платформа .NET Framework уже установлена и совместно используется процессами, поэтому в этом случае процессы небольшие по размеру и быстро выполняются. Но при использовании контейнеров образы для традиционного .NET Framework основаны на Windows Server Core, что делает их слишком большими для подхода "микрослужбы в контейнерах". При этом командам требуются возможности сделать .NET Framework удобнее для пользователей. Недавно размер [образов контейнеров Windows Server Core уменьшился более чем на 40 %](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller).

С другой стороны, .NET 5 благодаря упрощенному характеру является наилучшим выбором, если вы используете ориентированную на микрослужбы систему, которая основана на контейнерах. Кроме того, связанные с NET Core образы, как для Linux, так и для Windows Nano Server, являются компактными и небольшими по размеру, что обеспечивает их быстрый запуск.

Термин "микрослужба" означает, что она должна быть настолько маленькой, насколько это возможно, чтобы обеспечивать быстрое развертывание, занимать мало места в памяти (см. статью о [проблемно-ориентированном проектировании](https://en.wikipedia.org/wiki/Domain-driven_design)), решать небольшую часть задачи и быть способной к быстрому запуску и остановке. Для выполнения этих требований необходимо использовать небольшой и быстро создаваемый образ контейнера, такой как образ контейнера .NET 5.

Архитектура микрослужб также позволяет использовать сочетание технологий за пределами службы. Благодаря этому возможна постепенная миграция на технологию .NET 5 новых служб, которые работают совместно с другими микрослужбами или со службами, разработанными с помощью Node.js, Python, Java, GoLang и других технологий.

## <a name="deploying-high-density-in-scalable-systems"></a>Развертывание с высокой плотностью в масштабируемых системах

Если для вашей системы, основанной на контейнерах, требуется максимально возможная плотность, детализация и производительность, то мы рекомендуем использовать .NET и ASP.NET Core. Среда ASP.NET Core в 10 раз быстрее, чем ASP.NET в традиционном .NET Framework, и поддерживает другие популярные отраслевые технологии микрослужб, такие как сервлеты Java, Go и Node.js.

Это особенно важно для архитектур микрослужб, где могут выполняться сотни микрослужб (контейнеров). Образы ASP.NET Core (основанные на среде выполнения .NET) на Windows Nano или Linux позволяют запустить систему с гораздо меньшим количеством серверов или виртуальных машин и, в конечном счете, снизить затраты на инфраструктуру и размещение.

>[!div class="step-by-step"]
>[Назад](general-guidance.md)
>[Вперед](net-framework-container-scenarios.md)
