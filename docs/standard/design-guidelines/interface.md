---
description: 'Узнайте подробнее о: Разработка интерфейса'
title: Разработка интерфейса
ms.date: 10/22/2008
helpviewer_keywords:
- interfaces [.NET Framework], design guidelines
- type design guidelines, interfaces
- class library design guidelines [.NET Framework], interfaces
ms.assetid: a016bd18-6710-4358-9438-9f190a295392
ms.openlocfilehash: 387f921f8bdbe6c6d398aa31dcc8a22c7da455f7
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99641984"
---
# <a name="interface-design"></a>Разработка интерфейса

Хотя большинство API-интерфейсов лучше всего моделировать с помощью классов и структур, бывают случаи, когда интерфейсы подходят больше или являются единственным вариантом.

 Среда CLR не поддерживает множественное наследование (т. е. классы CLR не могут наследовать от нескольких базовых классов), но позволяют типам реализовать один или несколько интерфейсов в дополнение к наследованию от базового класса. Поэтому интерфейсы часто используются для получения эффекта множественного наследования. Например, <xref:System.IDisposable> является интерфейсом, который позволяет типам поддерживать возможность удаления независимо от любых других иерархий наследования, в которых они хотят участвовать.

 Другая ситуация, при которой необходимо определить интерфейс, — это создание общего интерфейса, который может поддерживаться несколькими типами, включая некоторые типы значений. Типы значений не могут наследовать от типов, отличных от <xref:System.ValueType>, но они могут реализовывать интерфейсы, поэтому использование интерфейса — это единственный доступный вариант для предоставления общего базового типа.

 ✔ ОПРЕДЕЛИТЕ интерфейс, если требуется, чтобы набор типов, включая типы значений, поддерживал некоторые общие API-интерфейсы.

 ✔️ Рассмотрите возможность определения интерфейса, если требуется поддержка его функциональных возможностей для типов, которые уже наследуются от другого типа.

 ❌ Избегайте использования интерфейсов метки (интерфейсы без элементов).

 Если необходимо пометить класс как имеющий определенную характеристику (метку), как правило, используйте настраиваемый атрибут, а не интерфейс.

 ✔ ПРЕДОСТАВЬТЕ по крайней мере один тип, который является реализацией интерфейса.

 Это помогает проверить структуру интерфейса. Например, <xref:System.Collections.Generic.List%601> — это реализация интерфейса <xref:System.Collections.Generic.IList%601>.

 ✔️ ПРЕДОСТАВЬТЕ по крайней мере один API-интерфейс, который использует каждый определяемый интерфейс (метод, принимающий интерфейс в качестве параметра или свойства, типизированного как интерфейс).

 Это помогает проверить структуру интерфейса. Например, <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType> использует интерфейс <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType>.

 ❌ НЕ добавляйте элементы к интерфейсу, который уже отправлен.

 Это приведет к нарушению реализаций интерфейса. Чтобы избежать проблем с управлением версиями, необходимо создать новый интерфейс.

 За исключением ситуаций, описанных в этих рекомендациях, в целом при проектировании многократно используемых библиотек с управляемым кодом следует выбирать классы, а не интерфейсы.

 *Фрагменты: © Корпорация Майкрософт (Microsoft Corporation), 2005, 2009. Все права защищены.*

 *Перепечатано с разрешения Pearson Education, Inc. из книги [Инфраструктура программных проектов. Соглашения, идиомы и шаблоны для многократно используемых библиотек .NET (2-е издание)](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619), авторы: Кржиштоф Цвалина (Krzysztof Cwalina) и Брэд Абрамс (Brad Abrams). Книга опубликована 22 октября 2008 г. издательством Addison-Wesley Professional в рамках серии, посвященной разработке для Microsoft Windows.*

## <a name="see-also"></a>См. также

- [Рекомендации по разработке типов](type.md)
- [Рекомендации по проектированию на основе Framework](index.md)
