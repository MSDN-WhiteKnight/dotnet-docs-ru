---
description: 'Узнайте подробнее о: Запечатывание'
title: Запечатывание
ms.date: 10/22/2008
helpviewer_keywords:
- limiting extensibility
- classes [.NET Framework], sealing
- preventing customization
- sealed classes
ms.assetid: cc42267f-bb7a-427a-845e-df97408528d4
ms.openlocfilehash: 94673f793aa7373e1076e13cbda900fba83786f6
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99731725"
---
# <a name="sealing"></a>Запечатывание

Одна из возможностей объектно-ориентированных платформ состоит в том, что разработчики могут расширять и настраивать их способами, не предусмотренными конструкторами платформы. В этом заключается как мощь, так и опасность расширяемого проектирования. Поэтому при разработке платформы очень важно тщательно проектировать расширяемость, когда она необходима, и ограничивать ее, когда она может быть опасна.

 Эффективным механизмом, который предотвращает расширяемость, является запечатывание. Вы можете запечатать класс или отдельные элементы. При запечатывании класса пользователи не смогут наследовать от него. При запечатывании элемента пользователи не смогут переопределять конкретный элемент.

 ❌ Не запечатывайте классы без веской на то причины.

 Запечатывание класса из-за невозможности придумать сценарий расширяемости не является веской причиной. Пользователи платформы могут наследовать от классов по различным неочевидным причинам, например для добавления удобных элементов. Примеры неочевидных причин, по которым пользователи могут наследовать от типа, см. в статье [Незапечатанные классы](unsealed-classes.md).

 Ниже приведены веские причины для запечатывания класса.

- Класс является статическим. См. статью [Разработка статических классов](static-class.md).

- В наследуемых защищенных элементах класса хранятся важные для обеспечения безопасности секреты.

- Класс наследует множество виртуальных элементов, и запечатать их по отдельности может быть выгоднее, чем оставить класс незапечатанным.

- Класс является атрибутом, для которого требуется очень быстро выполнять поиск в среде выполнения. Уровни производительности у запечатанных атрибутов чуть выше, чем у незапечатанных. См. статью [Атрибуты](attributes.md).

 ❌ НЕ объявляйте защищенные или виртуальные элементы в запечатанных типах.

 По определению наследовать запечатанные типы невозможно. Это означает, что защищенные элементы для запечатанных типов невозможно вызвать, а виртуальные методы для запечатанных типов невозможно перезаписать.

 ✔️ РАССМОТРИТЕ возможность запечатывания элементов, которые планируете переопределить.

 Проблемы, которые могут возникнуть в результате введения виртуальных элементов (рассматриваются в статье [Виртуальные элементы](virtual-members.md)), касаются и переопределений, хоть и в немного меньшей степени. Запечатывание переопределения обеспечивает защиту от этих проблем, начиная с этой точки в иерархии наследования.

 *Фрагменты: © Корпорация Майкрософт (Microsoft Corporation), 2005, 2009. Все права защищены.*

 *Перепечатано с разрешения Pearson Education, Inc. из книги [Инфраструктура программных проектов. Соглашения, идиомы и шаблоны для многократно используемых библиотек .NET (2-е издание)](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619), авторы: Кржиштоф Цвалина (Krzysztof Cwalina) и Брэд Абрамс (Brad Abrams). Книга опубликована 22 октября 2008 г. издательством Addison-Wesley Professional в рамках серии, посвященной разработке для Microsoft Windows.*

## <a name="see-also"></a>См. также

- [Рекомендации по проектированию на основе Framework](index.md)
- [Разработка с обеспечением расширяемости](designing-for-extensibility.md)
- [Незапечатанные классы](unsealed-classes.md)
