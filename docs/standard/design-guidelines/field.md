---
description: 'Узнайте подробнее о: Разработка полей'
title: Разработка полей
ms.date: 10/22/2008
helpviewer_keywords:
- fields, design guidelines
- read-only fields
- member design guidelines, fields
ms.assetid: 7cb4b0f3-7a10-4c93-b84d-733f7134fcf8
ms.openlocfilehash: 88df60c3050035221dc65429bbd543c71d5d69b3
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99642049"
---
# <a name="field-design"></a>Разработка полей

Принцип инкапсуляции — одна из наиболее важных концепций объектно-ориентированного проектирования. Этот принцип указывает, что данные, хранящиеся внутри объекта, должны быть доступны только для этого объекта.

 Чтобы истолковать принцип, достаточно сказать, что тип должен быть спроектирован таким образом, чтобы изменения полей этого типа (изменения имени или типа) можно было выполнять без нарушения кода, не относящегося к элементам типа. Такая интерпретация подразумевает, что все поля должны быть закрытыми.

 Мы исключили константные и статические поля только для чтения из этого строгого ограничения, так как такие поля практически по определению не требуют изменения.

 ❌ НЕ следует предоставлять открытые или защищенные поля экземпляров.

 Необходимо предоставить свойства для доступа к полям вместо того, чтобы сделать их открытыми или защищенными.

 ✔️ ИСПОЛЬЗУЙТЕ константные поля для констант, которые никогда не изменятся.

 Компилятор записывает значения константных полей непосредственно в вызывающий код. Поэтому значения-константы невозможно изменить без риска нарушения совместимости.

 ✔️ ИСПОЛЬЗУЙТЕ открытые статические поля `readonly` для предопределенных экземпляров объектов.

 При наличии предопределенных экземпляров типа объявите их как открытые статические поля только для чтения самого типа.

 ❌ НЕ присваивайте полям `readonly` экземпляры изменяемых типов.

 Изменяемый тип — это тип с экземплярами, которые можно изменить после создания экземпляра. Например, массивы, большинство коллекций и потоки являются изменяемыми типами, но <xref:System.Int32?displayProperty=nameWithType>, <xref:System.Uri?displayProperty=nameWithType> и <xref:System.String?displayProperty=nameWithType> являются неизменяемыми. Модификатор только для чтения в поле ссылочного типа предотвращает замену экземпляра, хранящегося в поле, но не предотвращает изменение данных экземпляра поля путем вызова элементов, изменяющих экземпляр.

 *Фрагменты: © Корпорация Майкрософт (Microsoft Corporation), 2005, 2009. Все права защищены.*

 *Перепечатано с разрешения Pearson Education, Inc. из книги [Инфраструктура программных проектов. Соглашения, идиомы и шаблоны для многократно используемых библиотек .NET (2-е издание)](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619), авторы: Кржиштоф Цвалина (Krzysztof Cwalina) и Брэд Абрамс (Brad Abrams). Книга опубликована 22 октября 2008 г. издательством Addison-Wesley Professional в рамках серии, посвященной разработке для Microsoft Windows.*

## <a name="see-also"></a>См. также

- [Правила разработки членов](member.md)
- [Рекомендации по проектированию на основе Framework](index.md)
