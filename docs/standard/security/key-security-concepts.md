---
description: 'Дополнительные сведения: основные понятия безопасности'
title: Основные понятия безопасности
ms.date: 07/15/2020
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- unauthorized access
- permissions [.NET]
- security [.NET], about security
ms.assetid: 3cfced4f-ea02-4e66-ae98-d69286363e98
ms.openlocfilehash: 8643c87197049465371da00b2ecb70ac99d70f9e
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99685001"
---
# <a name="key-security-concepts"></a>Основные понятия безопасности

> [!NOTE]
> Эта статья относится к Windows.
>
> Дополнительные сведения о ASP.NET Core см. в разделе [Обзор безопасности ASP.NET Core](/aspnet/core/security/).

.NET предлагает безопасность на основе ролей для решения проблем безопасности в мобильном коде и предоставления поддержки, позволяющей компонентам определять, какие пользователи имеют право выполнять действия.  
  
## <a name="type-safety-and-security"></a>Безопасность типа и безопасность  

Код с безопасностью типа имеет доступ только к областям памяти, авторизованным для доступа. (В этом обсуждении тип безопасности специально относится к безопасности типа памяти, и его не следует путать с безопасностью типа в более широком смысле.) Например, строго типизированный код не может считывать значения из закрытых полей другого объекта. Он обращается к типам только строго определенными, допустимыми способами.  
  
Во время JIT-компиляции дополнительный процесс проверки проверяет метаданные и MSIL метода для JIT-компиляции в машинный код, чтобы убедиться, что они являются типобезопасными. Этот процесс не выполняется, если код имеет разрешение на пропуск проверки. Дополнительные сведения о проверке см. в разделе [Процесс управляемого выполнения](../managed-execution-process.md).  
  
Хотя проверка безопасности типа не обязательна для запуска управляемого кода, безопасность типа играет ключевую роль в изоляции сборок и обеспечении безопасности. Если код является типобезопасным, среда CLR может полностью изолировать сборки друг от друга. Эта изоляция помогает обеспечить отсутствие отрицательного влияния сборок друг на друга и повышает надежность приложений. Компоненты с безопасностью типа могут безопасно выполняться в одном процессе, даже если они имеют доверие на разных уровнях. Если код не является типобезопасным, могут возникать нежелательные побочные эффекты. Например, среда выполнения не может препятствовать вызову машинного (неуправляемого) кода со стороны управляемого кода и выполнению управляемым кодом нежелательных операций. Если код является типобезопасным, механизм обеспечения безопасности среды выполнения гарантирует, что он не будет иметь доступ к машинному коду при отсутствии соответствующего разрешения. Чтобы код без безопасности типа мог запускаться, ему необходимо предоставить разрешение <xref:System.Security.Permissions.SecurityPermission> с переданным элементом перечисления <xref:System.Security.Permissions.SecurityPermissionAttribute.SkipVerification%2A>.  
  
Дополнительные сведения см. в разделе [Code Access Security Basics](../../framework/misc/code-access-security-basics.md).  
  
## <a name="principal"></a>Основной  

Участник представляет удостоверение и роль пользователя и действует от имени пользователя. Безопасность на основе ролей в .NET поддерживает три вида участников:  
  
- Универсальные участники представляют пользователей и роли, которые существуют независимо от пользователей и ролей Windows.  
  
- Участники Windows представляют пользователей Windows и их роли (или их группы Windows). Участник Windows может олицетворять другого пользователя, что означает, что этому участнику разрешен доступ к ресурсу от имени пользователя при предоставлении удостоверения, которое принадлежит этому пользователю.  
  
- Настраиваемые участники могут определяться приложением любым способом, который необходим для данного конкретного приложения. При этом можно расширять базовое определение удостоверения и ролей участника.  
  
Дополнительные сведения см. в разделе [Объекты Principal и Identity](principal-and-identity-objects.md).  
  
## <a name="authentication"></a>Аутентификация  

Проверка подлинности (аутентификация) — это процесс обнаружения и проверки удостоверения участника путем проверки учетных данных пользователя и проверки этих учетных данных в отношении некоторого центра сертификации. Сведения, полученные во время проверки подлинности, можно напрямую использовать в коде. Можно также использовать безопасность на основе ролей .NET для проверки подлинности текущего пользователя и определить, следует ли разрешить этому субъекту доступ к коду. Примеры проверки подлинности участника для конкретных ролей см. в описании перегрузок метода <xref:System.Security.Principal.WindowsPrincipal.IsInRole%2A?displayProperty=nameWithType>. Например, можно использовать перегрузку <xref:System.Security.Principal.WindowsPrincipal.IsInRole%28System.String%29?displayProperty=nameWithType>, чтобы определить, является ли текущий пользователь членом группы «Администраторы».  
  
В настоящее время используются различные механизмы проверки подлинности, многие из которых можно использовать с безопасностью на основе ролей в .NET. Некоторые из наиболее часто используемых механизмов — это обычная проверка подлинности, дайджест-проверка подлинности, проверка подлинности по паспорту, проверка подлинности операционной системы (например, NTLM или Kerberos) или механизмы, определяемые приложением.  
  
### <a name="example"></a>Пример  

Следующий пример требует, чтобы активный участник был администратором. Параметр `name` имеет значение `null`, что позволяет любому пользователю с правами администратора проходить требование.  
  
> [!NOTE]
> В Windows Vista привилегии пользователя определяются контролем учетных записей (UAC). Члену встроенной группы "Администраторы" присваивается два маркера доступа на время выполнения: маркер доступа обычного пользователя и маркер доступа администратора. По умолчанию назначена роль обычного пользователя. Чтобы выполнить код, требующий прав администратора, необходимо сначала повысить права от прав стандартного пользователя до прав администратора. Это можно сделать при запуске приложения, , щелкнув значок приложения правой кнопкой мыши и указав, что приложение должно запускаться от имени администратора.  
  
 [!code-cpp[Classic PrincipalPermission Example#1](../../../samples/snippets/cpp/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/CPP/source.cpp#1)]
 [!code-csharp[Classic PrincipalPermission Example#1](../../../samples/snippets/csharp/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/CS/source.cs#1)]
 [!code-vb[Classic PrincipalPermission Example#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/VB/source.vb#1)]  
  
 Следующий пример демонстрирует, как определить удостоверение участника и доступные для него роли. Приложение в этом примере должно проверять, что текущий пользователь имеет роль, которая позволяет использовать приложение.  
  
 [!code-cpp[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/CPP/source.cpp#1)]
 [!code-csharp[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/CS/source.cs#1)]
 [!code-vb[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/VB/source.vb#1)]  
  
## <a name="authorization"></a>Авторизация  

Авторизация — это процесс определения, разрешено ли участнику выполнять запрошенное действие. Авторизация происходит после проверки подлинности и использует сведения об удостоверении и ролях участника, чтобы определить, к каким ресурсам имеет доступ этот участник. Для реализации авторизации можно использовать безопасность на основе ролей в .NET.

## <a name="see-also"></a>См. также

- [Безопасность ASP.NET Core](/aspnet/core/security/)
