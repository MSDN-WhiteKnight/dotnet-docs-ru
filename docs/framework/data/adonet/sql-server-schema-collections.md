---
description: 'Дополнительные сведения: SQL Server коллекции схем'
title: Коллекции схемы SQL Server
ms.date: 03/30/2017
ms.assetid: c6403cc3-d78b-4f85-bab1-ada7a3446ec5
ms.openlocfilehash: 0299daada77b6968a0b1f875956da7bd2a221322
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99718672"
---
# <a name="sql-server-schema-collections"></a>Коллекции схемы SQL Server

Поставщик данных Microsoft .NET Framework для SQL Server поддерживает дополнительные коллекции схем помимо общих коллекций. Коллекции схем незначительно меняются в зависимости от используемой версии SQL Server. Чтобы получить список поддерживаемых коллекций схем, вызовите метод **GetSchema** без аргументов или укажите имя коллекции схем "MetaDataCollections". При этом будет возвращена <xref:System.Data.DataTable> со списком поддерживаемых коллекций схем, число ограничений, которые каждая из них поддерживает, и число идентификационных частей, которые в них используются.  
  
## <a name="databases"></a>Базы данных  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|database_name|Строка|Имя базы данных.|  
|dbid|Int16|Идентификатор базы данных.|  
|create_date|DateTime|Дата создания базы данных.|  
  
## <a name="foreign-keys"></a>Внешние ключи  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|CONSTRAINT_CATALOG|Строка|Каталог, к которому принадлежит ограничение.|  
|CONSTRAINT_SCHEMA|Строка|Схема, которая содержит ограничение.|  
|CONSTRAINT_NAME|Строка|Название|  
|TABLE_CATALOG|Строка|Имя таблицы, частью которой является ограничение.|  
|TABLE_SCHEMA|Строка|Схема, которая содержит таблицу.|  
|TABLE_NAME|Строка|Имя таблицы|  
|CONSTRAINT_TYPE|Строка|Тип ограничения. Допускается только ограничение «FOREIGN KEY».|  
|IS_DEFERRABLE|Строка|Указывает, является ли ограничение допускающим задержку. Возвращает NO.|  
|INITIALLY_DEFERRED|Строка|Указывает, является ли ограничение первоначально допускающим задержку. Возвращает NO.|  
  
## <a name="indexes"></a>Индексы  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|constraint_catalog|Строка|Каталог, которому принадлежит индекс.|  
|constraint_schema|Строка|Схема, которая содержит индекс.|  
|constraint_name|Строка|Имя индекса.|  
|table_catalog|Строка|Имя таблицы, с которой связан индекс.|  
|table_schema|Строка|Схема, содержащая таблицу, с которой связан индекс.|  
|имя_таблицы|Строка|Имя таблицы.|  
|index_name|Строка|Имя индекса.|  
  
### <a name="indexes-sql-server-2008"></a>Indexes (SQL Server 2008)  

 Начиная с .NET Framework 3.5 с пакетом обновления 1 (SP1) и SQL Server 2008, в коллекцию схем Indexes для поддержки новых пространственных типов, файловых потоков и разреженных столбцов были добавлены указанные ниже столбцы. Эти столбцы не поддерживаются в предыдущих версиях .NET Framework и SQL Server.  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|type_desc|Строка|Индекс имеет один из указанных ниже типов.<br /><br /> -   HEAP<br />-   CLUSTERED<br />-   NONCLUSTERED<br />-   XML<br />-   SPATIAL|  
  
## <a name="indexcolumns"></a>IndexColumns  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|constraint_catalog|Строка|Каталог, которому принадлежит индекс.|  
|constraint_schema|Строка|Схема, которая содержит индекс.|  
|constraint_name|Строка|Имя индекса.|  
|table_catalog|Строка|Имя таблицы, с которой связан индекс.|  
|table_schema|Строка|Схема, содержащая таблицу, с которой связан индекс.|  
|имя_таблицы|Строка|Имя таблицы.|  
|column_name|Строка|Имя таблицы, с которой связан индекс.|  
|ordinal_position|Int32|Порядковая позиция столбца.|  
|KeyType|Byte|Тип объекта.|  
|index_name|Строка|Имя индекса.|  
  
## <a name="procedures"></a>Процедуры  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|SPECIFIC_CATALOG|Строка|Собственное имя для каталога.|  
|SPECIFIC_SCHEMA|Строка|Определенное имя схемы.|  
|SPECIFIC_NAME|Строка|Определенное имя каталога.|  
|ROUTINE_CATALOG|Строка|Каталог, которому принадлежит хранимая процедура.|  
|ROUTINE_SCHEMA|Строка|Схема, которая содержит хранимую процедуру.|  
|ROUTINE_NAME|Строка|Имя хранимой процедуры.|  
|ROUTINE_TYPE|Строка|Возвращает значение PROCEDURE для хранимых процедур и FUNCTION для функций.|  
|CREATED|DateTime|Время создания процедуры.|  
|LAST_ALTERED|DateTime|Время последнего изменения процедуры.|  
  
## <a name="procedure-parameters"></a>Параметры процедуры  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|SPECIFIC_CATALOG|Строка|Имя каталога процедуры, для которой это является параметром.|  
|SPECIFIC_SCHEMA|Строка|Схема, содержащая процедуру, частью которой является этот параметр.|  
|SPECIFIC_NAME|Строка|Имя процедуры, частью которой является этот параметр.|  
|ORDINAL_POSITION|Int32|Порядковый номер параметра, начиная с 1. Для возвращаемого значения процедуры - 0.|  
|PARAMETER_MODE|Строка|Возвращает значение IN для входного параметра, OUT для выходного параметра и INOUT для изменяемого входного параметра.|  
|IS_RESULT|Строка|Возвращает значение YES, если результат процедуры является результатом выполнения функции. В противном случае возвращается значение NO.|  
|AS_LOCATOR|Строка|Возвращает значение YES, если результат объявлен как указатель. В противном случае возвращается значение NO.|  
|PARAMETER_NAME|Строка|Имя параметра. Если соответствует результату выполнения функции, то возвращается значение NULL.|  
|DATA_TYPE|Строка|Тип данных, поддерживаемый системой.|  
|CHARACTER_MAXIMUM_LENGTH|Int32|Максимальная длина в символах для двоичных или символьных данных. В противном случае возвращается значение NULL.|  
|CHARACTER_OCTET_LENGTH|Int32|Максимальная длина в байтах для двоичных или символьных данных. В противном случае возвращается значение NULL.|  
|COLLATION_CATALOG|Строка|Имя каталога параметров сортировки параметра. Если введенные данные не принадлежат ни к одному из символьных типов, возвращает значение NULL.|  
|COLLATION_SCHEMA|Строка|Всегда возвращает значение NULL.|  
|COLLATION_NAME|Строка|Имя параметров сортировки параметра. Если введенные данные не принадлежат ни к одному из символьных типов, возвращает значение NULL.|  
|CHARACTER_SET_CATALOG|Строка|Имя каталога кодировки параметра. Если введенные данные не принадлежат ни к одному из символьных типов, возвращает значение NULL.|  
|CHARACTER_SET_SCHEMA|Строка|Всегда возвращает значение NULL.|  
|CHARACTER_SET_NAME|Строка|Имя кодировки параметра. Если введенные данные не принадлежат ни к одному из символьных типов, возвращает значение NULL.|  
|NUMERIC_PRECISION|Byte|Точность приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. В противном случае возвращается значение NULL.|  
|NUMERIC_PRECISION_RADIX|Int16|Основание системы счисления точности приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. В противном случае возвращается значение NULL.|  
|NUMERIC_SCALE|Int32|Масштаб приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. В противном случае возвращается значение NULL.|  
|DATETIME_PRECISION|Int16|Точность в долях секунды, если параметр имеет тип datetime или smalldatetime. В противном случае возвращается значение NULL.|  
|INTERVAL_TYPE|Строка|NULL. Зарезервировано для будущего использования в SQL Server.|  
|INTERVAL_PRECISION|Int16|NULL. Зарезервировано для будущего использования в SQL Server.|  
  
## <a name="tables"></a>Таблицы  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|TABLE_CATALOG|Строка|Каталог таблицы.|  
|TABLE_SCHEMA|Строка|Схема, которая содержит таблицу.|  
|TABLE_NAME|Строка|Имя таблицы.|  
|TABLE_TYPE|Строка|Тип таблицы. Может быть VIEW или BASE TABLE.|  
  
## <a name="columns"></a>Столбцы  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|TABLE_CATALOG|Строка|Каталог таблицы.|  
|TABLE_SCHEMA|Строка|Схема, которая содержит таблицу.|  
|TABLE_NAME|Строка|Имя таблицы.|  
|COLUMN_NAME|Строка|Имя столбца.|  
|ORDINAL_POSITION|Int32|Идентификационный номер столбца.|  
|COLUMN_DEFAULT|Строка|Значение столбца по умолчанию.|  
|IS_NULLABLE|Строка|Указывает, может ли столбец допускать значение NULL. Если для столбца допустимо значение NULL, этот столбец возвращает значение YES. Иначе возвращается значение NO.|  
|DATA_TYPE|Строка|Тип данных, поддерживаемый системой.|  
|CHARACTER_MAXIMUM_LENGTH|Int32 – Sql8, Int16 – Sql7|Максимальная длина в символах для двоичных данных, символьных данных или текстовых данных и изображений. Иначе возвращается значение NULL.|  
|CHARACTER_OCTET_LENGTH|Int32 – SQL8, Int16 – Sql7|Максимальная длина в байтах для двоичных данных, символьных данных или текстовых данных и изображений. Иначе возвращается значение NULL.|  
|NUMERIC_PRECISION|Unsigned Byte|Точность приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|NUMERIC_PRECISION_RADIX|Int16|Основание системы счисления точности приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|NUMERIC_SCALE|Int32|Масштаб приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|DATETIME_PRECISION|Int16|Код подтипа для datetime и интервальных типов данных SQL-92. Для других типов данных возвращается значение NULL.|  
|CHARACTER_SET_CATALOG|Строка|Возвращает значение «master», т. е. имя базы данных, в которой находится кодировка, если столбец имеет символьный тип данных или текстовый тип данных. Иначе возвращается значение NULL.|  
|CHARACTER_SET_SCHEMA|Строка|Всегда возвращает значение NULL.|  
|CHARACTER_SET_NAME|Строка|Возвращает уникальное имя для кодировки, если столбец содержит символьные данные или текстовые данные. Иначе возвращается значение NULL.|  
|COLLATION_CATALOG|Строка|Возвращает значение "master", т.е. имя базы данных, в которой определен параметр сортировки, если столбец имеет символьный тип данных или текстовый тип данных. В противном случае этот столбец содержит значение NULL.|  
  
### <a name="columns-sql-server-2008"></a>Columns (SQL Server 2008)  

 Начиная с .NET Framework 3.5 с пакетом обновления 1 (SP1) и SQL Server 2008, в коллекцию схем Columns для поддержки новых пространственных типов, файловых потоков и разреженных столбцов были добавлены указанные ниже столбцы. Эти столбцы не поддерживаются в предыдущих версиях .NET Framework и SQL Server.  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|IS_FILESTREAM|Строка|YES, если для столбца установлен атрибут FILESTREAM.<br /><br /> NO, если для столбца не установлен атрибут FILESTREAM.|  
|IS_SPARSE|Строка|YES, если столбец является разреженным.<br /><br /> NO, если столбец не является разреженным.|  
|IS_COLUMN_SET|Строка|YES, если столбец является набором столбцов.<br /><br /> NO, если столбец не является набором столбцов.|  
  
### <a name="allcolumns-sql-server-2008"></a>AllColumns (SQL Server 2008)  

 Начиная с .NET Framework 3.5 с пакетом обновления 1 (SP1) и SQL Server 2008, для поддержки разреженных столбцов была добавлена коллекция схем AllColumns. Коллекция схем AllColumns не поддерживается в предыдущих версиях .NET Framework и SQL Server.  
  
 Для коллекции схем AllColumns установлены те же ограничения и результирующая схема DataTable, что и для коллекции схем Columns. Единственное отличие заключается в том, что коллекция схем AllColumns включает столбцы, представляющие наборы столбцов, которые не входят в коллекцию схем Columns. Эти столбцы описаны в приведенной ниже таблице.  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|TABLE_CATALOG|Строка|Каталог таблицы.|  
|TABLE_SCHEMA|Строка|Схема, которая содержит таблицу.|  
|TABLE_NAME|Строка|Имя таблицы.|  
|COLUMN_NAME|Строка|Имя столбца.|  
|ORDINAL_POSITION|Int32|Идентификационный номер столбца.|  
|COLUMN_DEFAULT|Строка|Значение столбца по умолчанию.|  
|IS_NULLABLE|Строка|Указывает, может ли столбец допускать значение NULL. Если для столбца допустимо значение NULL, этот столбец возвращает значение YES. Иначе возвращается значение NO.|  
|DATA_TYPE|Строка|Тип данных, поддерживаемый системой.|  
|CHARACTER_MAXIMUM_LENGTH|Int32|Максимальная длина в символах для двоичных данных, символьных данных или текстовых данных и изображений. Иначе возвращается значение NULL.|  
|CHARACTER_OCTET_LENGTH|Int32|Максимальная длина в байтах для двоичных данных, символьных данных или текстовых данных и изображений. Иначе возвращается значение NULL.|  
|NUMERIC_PRECISION|Unsigned Byte|Точность приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|NUMERIC_PRECISION_RADIX|Int16|Основание системы счисления точности приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|NUMERIC_SCALE|Int32|Масштаб приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|DATETIME_PRECISION|Int16|Код подтипа для datetime и интервальных типов данных SQL-92. Для других типов данных возвращается значение NULL.|  
|CHARACTER_SET_CATALOG|Строка|Возвращает значение «master», т. е. имя базы данных, в которой находится кодировка, если столбец имеет символьный тип данных или текстовый тип данных. Иначе возвращается значение NULL.|  
|CHARACTER_SET_SCHEMA|Строка|Всегда возвращает значение NULL.|  
|CHARACTER_SET_NAME|Строка|Возвращает уникальное имя для кодировки, если столбец содержит символьные данные или текстовые данные. Иначе возвращается значение NULL.|  
|COLLATION_CATALOG|Строка|Возвращает значение "master", т.е. имя базы данных, в которой определен параметр сортировки, если столбец имеет символьный тип данных или текстовый тип данных. В противном случае этот столбец содержит значение NULL.|  
|IS_FILESTREAM|Строка|YES, если для столбца установлен атрибут FILESTREAM.<br /><br /> NO, если для столбца не установлен атрибут FILESTREAM.|  
|IS_SPARSE|Строка|YES, если столбец является разреженным.<br /><br /> NO, если столбец не является разреженным.|  
|IS_COLUMN_SET|Строка|YES, если столбец является набором столбцов.<br /><br /> NO, если столбец не является набором столбцов.|  
  
### <a name="columnsetcolumns-sql-server-2008"></a>ColumnSetColumns (SQL Server 2008)  

 Начиная с .NET Framework 3.5 с пакетом обновления 1 (SP1) и SQL Server 2008, для поддержки разреженных столбцов была добавлена коллекция схем ColumnSetColumns. Коллекция схем ColumnSetColumns не поддерживается в предыдущих версиях .NET Framework и SQL Server. Коллекция схем ColumnSetColumns возвращает схему для всех столбцов в наборе столбцов. Эти столбцы описаны в приведенной ниже таблице.  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|TABLE_CATALOG|Строка|Каталог таблицы.|  
|TABLE_SCHEMA|Строка|Схема, которая содержит таблицу.|  
|TABLE_NAME|Строка|Имя таблицы.|  
|COLUMN_NAME|Строка|Имя столбца.|  
|ORDINAL_POSITION|Int32|Идентификационный номер столбца.|  
|COLUMN_DEFAULT|Строка|Значение столбца по умолчанию.|  
|IS_NULLABLE|Строка|Указывает, может ли столбец допускать значение NULL. Если для столбца допустимо значение NULL, этот столбец возвращает значение YES. Иначе возвращается значение NO.|  
|DATA_TYPE|Строка|Тип данных, поддерживаемый системой.|  
|CHARACTER_MAXIMUM_LENGTH|Int32|Максимальная длина в символах для двоичных данных, символьных данных или текстовых данных и изображений. Иначе возвращается значение NULL.|  
|CHARACTER_OCTET_LENGTH|Int32|Максимальная длина в байтах для двоичных данных, символьных данных или текстовых данных и изображений. Иначе возвращается значение NULL.|  
|NUMERIC_PRECISION|Unsigned Byte|Точность приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|NUMERIC_PRECISION_RADIX|Int16|Основание системы счисления точности приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|NUMERIC_SCALE|Int32|Масштаб приблизительных числовых данных, точных числовых данных, целочисленных данных или денежных данных. Иначе возвращается значение NULL.|  
|DATETIME_PRECISION|Int16|Код подтипа для datetime и интервальных типов данных SQL-92. Для других типов данных возвращается значение NULL.|  
|CHARACTER_SET_CATALOG|Строка|Возвращает значение «master», т. е. имя базы данных, в которой находится кодировка, если столбец имеет символьный тип данных или текстовый тип данных. Иначе возвращается значение NULL.|  
|CHARACTER_SET_SCHEMA|Строка|Всегда возвращает значение NULL.|  
|CHARACTER_SET_NAME|Строка|Возвращает уникальное имя для кодировки, если столбец содержит символьные данные или текстовые данные. Иначе возвращается значение NULL.|  
|COLLATION_CATALOG|Строка|Возвращает значение "master", т.е. имя базы данных, в которой определен параметр сортировки, если столбец имеет символьный тип данных или текстовый тип данных. В противном случае этот столбец содержит значение NULL.|  
|IS_FILESTREAM|Строка|YES, если для столбца установлен атрибут FILESTREAM.<br /><br /> NO, если для столбца не установлен атрибут FILESTREAM.|  
|IS_SPARSE|Строка|YES, если столбец является разреженным.<br /><br /> NO, если столбец не является разреженным.|  
|IS_COLUMN_SET|Строка|YES, если столбец является набором столбцов.<br /><br /> NO, если столбец не является набором столбцов.|  
  
## <a name="users"></a>Пользователи  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|uid|Int16|Идентификатор пользователя, уникальный в этой базе данных. 1 — это владелец базы данных.|  
|имя_пользователя|Строка|Имя пользователя или имя группы, уникальные в этой базе данных.|  
|createdate|DateTime|Дата добавления этой учетной записи.|  
|updatedate|DateTime|Дата последнего изменения учетной записи.|  
  
## <a name="views"></a>Представления  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|TABLE_CATALOG|Строка|Каталог представления.|  
|TABLE_SCHEMA|Строка|Схема, которая содержит представление.|  
|TABLE_NAME|Строка|Имя представления.|  
|CHECK_OPTION|Строка|Тип инструкции WITH CHECK OPTION. CASCADE, если первоначальное представление было создано с помощью инструкции WITH CHECK OPTION. Иначе возвращается значение NONE.|  
|IS_UPDATABLE|Строка|Указывает, можно ли обновлять это представление. Всегда возвращает NO.|  
  
## <a name="viewcolumns"></a>ViewColumns  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|VIEW_CATALOG|Строка|Каталог представления.|  
|VIEW_SCHEMA|Строка|Схема, которая содержит представление.|  
|VIEW_NAME|Строка|Имя представления.|  
|TABLE_CATALOG|Строка|Каталог таблицы, которая связана с этим представлением.|  
|TABLE_SCHEMA|Строка|Schema, который содержит таблицу, связанную с этим представлением.|  
|TABLE_NAME|Строка|Имя таблицы, которая связана с представлением. Базовая таблица.|  
|COLUMN_NAME|Строка|Имя столбца.|  
  
## <a name="userdefinedtypes"></a>UserDefinedTypes  
  
|ColumnName|DataType|Описание|  
|----------------|--------------|-----------------|  
|assembly_name|Строка|Имя файла для сборки.|  
|udt_name|Строка|Имя класса для сборки.|  
|version_major|Объект|Основной номер версии.|  
|version_minor|Объект|Дополнительный номер версии.|  
|version_build|Объект|Номер сборки.|  
|version_revision|Объект|Номер редакции.|  
|culture_info|Объект|Сведения о языке и региональных параметрах, которые связаны с этим определяемым пользователем типом.|  
|public_key|Объект|Открытый ключ, используемый в этой сборке.|  
|is_fixed_length|Логическое|Указывает, является ли длина данных этого типа всегда равной значению max_length.|  
|max_length|Int16|Максимальная длина значения типа в байтах.|  
|Create_Date|DateTime|Дата создания или регистрации сборки.|  
|Permission_set_desc|Строка|Удобное в использовании имя набора разрешений и (или) уровня безопасности для сборки.|  
  
## <a name="see-also"></a>См. также раздел

- [Извлечение сведений о схеме базы данных](retrieving-database-schema-information.md)
- [Общие сведения об ADO.NET](ado-net-overview.md)
