---
title: Рекомендации относительно типов элементов управления
ms.date: 03/30/2017
helpviewer_keywords:
- inheritance [Windows Forms], Windows Forms custom controls
- user controls [Windows Forms], when to use
- custom controls [Windows Forms], types
- controls [Windows Forms], creating
ms.assetid: 5235fe9d-c36a-4c08-ae76-6cb90b50085e
ms.openlocfilehash: 5dc734997917af7ec4a20a6c12ae04825507c7ce
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59098459"
---
# <a name="control-type-recommendations"></a>Рекомендации относительно типов элементов управления
Платформа .NET Framework предоставляет возможности разработки и реализации новых элементов управления. Помимо обычных пользовательских элементов, теперь можно создавать нестандартные элементы управления с собственным оформлением, а также расширять функциональный диапазон существующих элементов управления путем наследования. Выбор типа создаваемого элемента управления может быть затруднителен. В этом разделе описываются различия между типами элементов управления, которые можно наследовать, а также даются рекомендации касательно того, как выбрать тип для конкретного проекта.  
  
> [!NOTE]
>  Если необходимо создать пользовательский элемент управления для использования в Web Forms, см. раздел [Разработка пользовательских серверных элементов управления ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/zt27tfhy(v=vs.100)).  
  
## <a name="inheriting-from-a-windows-forms-control"></a>Наследование элементов управления Windows Forms  
 Элемент управления можно унаследовать от любого существующего элемента управления Windows Forms. Такой подход позволяет сохранить все функциональные возможности элемента управления Windows Forms и расширить их путем добавления пользовательских свойств, методов или других функций. Например, можно создать элемент управления, производный от <xref:System.Windows.Forms.TextBox>, который принимает только числа и автоматически преобразует входные данные в значение. Такой элемент управления может содержать код проверки, который вызывается при каждом изменении текста в текстовом поле, и иметь дополнительное свойство Value. В некоторых элементах управления к графическому интерфейсу можно добавить пользовательское оформление путем переопределения метода <xref:System.Windows.Forms.Control.OnPaint%2A> базового класса.  
  
 Наследование элементов управления Windows Forms имеет смысл в следующих случаях:  
  
-   — если большинство необходимых функций аналогичны функциям уже существующего элемента управления Windows Forms;  
  
-   — если нестандартный графический интерфейс не требуется или необходимо разработать новый интерфейс для существующего элемента управления.  
  
## <a name="inheriting-from-the-usercontrol-class"></a>Наследование класса UserControl  
 Пользовательский элемент управления — это коллекция элементов управления Windows Forms, инкапсулированных в общий контейнер. Контейнер хранит все функциональные возможности, связанные с каждым элементом управления Windows Forms, и позволяет выборочно представлять и связывать их свойства. Примером пользовательского элемента управления может служить элемент, созданный для отображения данных адреса клиента из базы данных. Этот элемент управления может включать несколько текстовых полей для отображения каждого компонента адреса, а также кнопки для перемещения по записям. Свойства привязки к данным могут быть представлены выборочно, а весь элемент управления можно упаковать и повторно использовать в разных приложениях.  
  
 Наследование класса <xref:System.Windows.Forms.UserControl> имеет смысл в следующих случаях:  
  
-   — если нужно объединить функциональные возможности нескольких элементов управления Windows Forms в один блок для повторного использования.  
  
## <a name="inheriting-from-the-control-class"></a>Наследование класса Control  
 Другим способом разработки элемента управления является создание его практически с нуля путем наследования от класса <xref:System.Windows.Forms.Control>. Класс <xref:System.Windows.Forms.Control> обеспечивает всю основную функциональность, необходимую элементам управления (например, события), однако он не имеет функциональных возможностей для отдельных элементов управления и лишен графического интерфейса. Создание элемента управления путем наследования от класса <xref:System.Windows.Forms.Control> — гораздо более сложная задача, чем наследование от пользовательского элемента управления или существующего элемента управления Windows Forms. Разработчик должен написать код для события <xref:System.Windows.Forms.Control.OnPaint%2A> элемента управления, а также весь код, необходимый для реализации функциональных возможностей. Однако в этом случае доступны более гибкие возможности, которые позволяют настроить элемент управления в точном соответствии с требованиями. Примером нестандартного элемента управления служит элемент "Часы", который выглядит и действует аналогично часам со стрелками. Вы можете применить пользовательское оформление, чтобы заставить стрелки часов двигаться при наступлении событий <xref:System.Windows.Forms.Timer.Tick> внутреннего компонента таймера.  
  
 Наследование класса <xref:System.Windows.Forms.Control> имеет смысл в следующих случаях:  
  
-   — если требуется создать пользовательское графическое представление элемента управления;  
  
-   — если требуется реализовать пользовательские функциональные возможности, которые недоступны в стандартных элементах управления.  
  
-   [Практическое руководство. Отображение элемента управления в диалоговом окне выбора элементов панели элементов](how-to-display-a-control-in-the-choose-toolbox-items-dialog-box.md)  
  
-   [Пошаговое руководство. Сериализация коллекций стандартных типов с использованием атрибута DesignerSerializationVisibilityAttribute](serializing-collections-designerserializationvisibilityattribute.md)  
  
-   [Пошаговое руководство. Наследование элементов управления Windows Forms с помощью Visual C#](walkthrough-inheriting-from-a-windows-forms-control-with-visual-csharp.md)  
  
-   [Практическое руководство. Предоставление точечного рисунка панели элементов для элемента управления](how-to-provide-a-toolbox-bitmap-for-a-control.md)  
  
-   [Практическое руководство. Наследование существующих элементов управления Windows Forms](how-to-inherit-from-existing-windows-forms-controls.md)  
  
-   [Пошаговое руководство. Отладка пользовательских элементов управления Windows Forms во время разработки](walkthrough-debugging-custom-windows-forms-controls-at-design-time.md)  
  
-   [Практическое руководство. Наследование класса Control](how-to-inherit-from-the-control-class.md)  
  
-   [Практическое руководство. Тестирование поведения элемента UserControl во время выполнения](how-to-test-the-run-time-behavior-of-a-usercontrol.md)  
  
-   [Практическое руководство. Выравнивание элементов управления по границам формы во время выполнения](how-to-align-a-control-to-the-edges-of-forms-at-design-time.md)  
  
-   [Практическое руководство. Наследование класса UserControl](how-to-inherit-from-the-usercontrol-class.md)  
  
-   [Практическое руководство. Создание элементов управления для форм Windows Forms](how-to-author-controls-for-windows-forms.md)  
  
-   [Практическое руководство. Создание составных элементов управления](how-to-author-composite-controls.md)  
  
-   [Пошаговое руководство. Создание составного элемента управления с помощью Visual Basic](walkthrough-authoring-a-composite-control-with-visual-basic.md)  
  
-   [Пошаговое руководство. Создание составного элемента управления с помощью C#](walkthrough-authoring-a-composite-control-with-visual-csharp.md)  
  
-   [Пошаговое руководство. Наследование элементов управления Windows Forms с помощью Visual Basic](walkthrough-inheriting-from-a-windows-forms-control-with-visual-basic.md)  
  
-   [Пошаговое руководство. Создание элемента управления Windows Forms, в котором используются преимущества функций Visual Studio, применяемых во время разработки](creating-a-wf-control-design-time-features.md)  
  
-   [Практическое руководство. Создание элемента управления Windows Forms, используются преимущества функций времени разработки](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/307hck25(v=vs.120))  
  
## <a name="see-also"></a>См. также

- [Практическое руководство. Разработка простого элемента управления форм Windows Forms](how-to-develop-a-simple-windows-forms-control.md)
- [Создание собственных элементов управления](varieties-of-custom-controls.md)
