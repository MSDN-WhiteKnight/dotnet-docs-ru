---
title: Практическое руководство. Создание элементов управления для форм Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- controls [Windows Forms], creating
- UserControl class [Windows Forms], Windows Forms
- custom controls [Windows Forms], creating
ms.assetid: 7570e982-545b-4c3a-a7c7-55581d313400
ms.openlocfilehash: 844d165cef05e46d25960f113af3bf99dd35e14f
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59340338"
---
# <a name="how-to-author-controls-for-windows-forms"></a>Практическое руководство. Создание элементов управления для форм Windows Forms
Элемент управления выполняет роль визуальной связи между пользователем и программой. Он может предоставлять или обрабатывать данные, принимать входные данные пользователя, реагировать на события или выполнять любые другие функции, устанавливающие связь между пользователем и приложением. Поскольку элемент управления — это по сути компонент с графическим интерфейсом, он может выполнять любую функцию компонента и в то же время обеспечивать взаимодействие с пользователем. Элементы управления создаются для конкретных целей, и процесс их создания входит в процесс программирования. Ниже описан процесс создания элемента управления с учетом всего вышесказанного. Ссылки указывают на дополнительные сведения об отдельных этапах.  
  
> [!NOTE]
>  Если вам необходимо создать пользовательский элемент управления для использования в Web Forms, см. раздел [Разработка пользовательских серверных элементов управления ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/zt27tfhy(v=vs.100)).  
>   
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от текущих параметров или выпуска. Чтобы изменить параметры, выберите в меню **Сервис** пункт **Импорт и экспорт параметров** . Дополнительные сведения см. в разделе [Персонализация интегрированной среды разработки Visual Studio](/visualstudio/ide/personalizing-the-visual-studio-ide).  
  
### <a name="to-author-a-control"></a>Создание элемента управления  
  
1. Определите, какую функцию или роль ваш элемент управления должен выполнять в приложении. При этом необходимо учитывать следующие факторы.  
  
    -   Какого рода графический интерфейс вам требуется?  
  
    -   Какие взаимодействия с пользователем будет обрабатывать этот элемент управления?  
  
    -   Обладают ли необходимыми функциональными возможностями какие-либо из существующих элементов управления?  
  
    -   Можно ли получить необходимую функциональную возможность, объединив несколько элементов управления Windows Forms?  
  
2. Если для элемента управления требуется объектная модель, определите, каким образом функциональные возможности будут распределяться по объектной модели, и разделите их между элементом управления и подчиненными объектами. Объектная модель может пригодиться при планировании сложного элемента управления, а также в случае, если вам требуется внедрить сразу несколько функциональных возможностей.  
  
3. Определите необходимый тип элемента управления (например, пользовательский элемент управления, настраиваемый элемент управления, наследуемый элемент управления Windows Forms). Дополнительные сведения см. в разделах [Рекомендации относительно типов элементов управления](control-type-recommendations.md) и [Разновидности пользовательских элементов управления](varieties-of-custom-controls.md).  
  
4. Представьте функции в качестве свойств, методов и событий элемента управления и его подчиненных объектов или вспомогательных структур и назначьте соответствующие уровни доступа (например, public, protected и т. д.).  
  
5. Если для элемента управления необходима пользовательская отрисовка, добавьте соответствующий код. Дополнительные сведения см. в разделе [Рисование и отрисовка пользовательского элемента управления](custom-control-painting-and-rendering.md).  
  
6. Если элемент управления наследуется из <xref:System.Windows.Forms.UserControl>, можно проверить его поведение во время выполнения, построение проекта элемента управления и запустив его в **тестового контейнера UserControl**. Дополнительные сведения см. в разделе [Как Тестирование во время выполнения поведения элемента UserControl](how-to-test-the-run-time-behavior-of-a-usercontrol.md).  
  
7. Кроме того, для тестирования и отладки элемента управления можно создать новый проект, например приложение Windows, и поместив его в контейнер. Этот процесс описан в составе [Пошаговое руководство: Создание составного элемента управления с помощью Visual Basic](walkthrough-authoring-a-composite-control-with-visual-basic.md).  
  
8. При добавлении каждой функции добавляйте ее в тестовый проект для реализации новых функциональных возможностей.  
  
9. Повторите эти действия, добавив необходимые уточнения.  
  
10. Упакуйте и разверните элемент управления. Дополнительные сведения см. в разделе [Общие сведения о развертывании в Visual Studio](/visualstudio/deployment/deploying-applications-services-and-components).  
  
## <a name="see-also"></a>См. также

- [Пошаговое руководство. Создание составного элемента управления с помощью Visual Basic](walkthrough-authoring-a-composite-control-with-visual-basic.md)
- [Пошаговое руководство. Наследование элементов управления Windows Forms с помощью Visual Basic](walkthrough-inheriting-from-a-windows-forms-control-with-visual-basic.md)
- [Практическое руководство. Наследование класса UserControl](how-to-inherit-from-the-usercontrol-class.md)
- [Практическое руководство. Наследование класса Control](how-to-inherit-from-the-control-class.md)
- [Практическое руководство. Наследование существующих элементов управления Windows Forms](how-to-inherit-from-existing-windows-forms-controls.md)
- [Практическое руководство. Тестирование поведения элемента UserControl во время выполнения](how-to-test-the-run-time-behavior-of-a-usercontrol.md)
- [Создание собственных элементов управления](varieties-of-custom-controls.md)
