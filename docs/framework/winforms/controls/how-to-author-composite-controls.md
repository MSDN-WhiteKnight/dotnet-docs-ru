---
title: Практическое руководство. Создание составных элементов управления
ms.date: 03/30/2017
helpviewer_keywords:
- UserControl class [Windows Forms], creating composite controls
- user controls [Windows Forms], creating
- user controls [Windows Forms], inheriting from
- composite controls [Windows Forms], creating
ms.assetid: 79c9cf05-5ab6-4a18-886d-88a64748b098
ms.openlocfilehash: 8bb630d3fb7e064935440439f2f07816e87c77dc
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59317016"
---
# <a name="how-to-author-composite-controls"></a>Практическое руководство. Создание составных элементов управления
Составные элементы управления можно применять различным образом. Их можно создать как часть проекта приложения рабочего стола Windows и использовать только в формах проекта. Или их можно создать в проекте библиотеки элементов управления Windows, скомпилировать проект в сборку и использовать элементы управления в других проектах. Можно даже от них наследовать и использовать визуальное наследование для их быстрой настройки.  
  
> [!NOTE]
>  Если необходимо создать составной элемент управления для использования в Web Forms, см. раздел [Разработка пользовательских серверных элементов управления ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/zt27tfhy(v=vs.100)).  
>   
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от текущих параметров или выпуска. Чтобы изменить параметры, выберите в меню **Сервис** пункт **Импорт и экспорт параметров** . Дополнительные сведения см. в разделе [Персонализация интегрированной среды разработки Visual Studio](/visualstudio/ide/personalizing-the-visual-studio-ide).  
  
### <a name="to-author-a-composite-control"></a>Создание составного элемента управления  
  
1. Откройте новый проект **приложения Windows** с именем `DemoControlHost`.  
  
2. В меню **Проект** выберите команду **Добавить пользовательский элемент управления**.  
  
3. В диалоговом окне **Добавить новый элемент** присвойте файлу класса (файлу VB или CS) имя, которое должен иметь составной элемент управления.  
  
4. Выберите **добавить** кнопку, чтобы создать файл класса для составного элемента управления.  
  
5. Добавьте элементы управления с **панели элементов** на поверхность составного элемента управления.  
  
6. Поместите код в соответствующие процедуры для обработки событий, вызываемых составным элементом управления или входящими в его состав элементами управления.  
  
7. Закройте конструктор для составного элемента управления и сохраните файл по запросу.  
  
8. В меню **Сборка** выберите **Собрать решение**.  
  
     Проект необходимо собрать, чтобы пользовательские элементы управления появились на **панели элементов**.  
  
9. Для добавления экземпляров элемента управления в `Form1` используйте вкладку **DemoControlHost** на **панели элементов**.  
  
### <a name="to-author-a-control-class-library"></a>Разработка библиотеки классов элементов управления  
  
1. Откройте новый проект **библиотеки элементов управления Windows**.  
  
     По умолчанию проект содержит составной элемент управления.  
  
2. Добавьте элементы управления и код, как описано в предыдущей процедуре.  
  
3. Выберите элемент управления, который не должны изменять производные классы, и установите для свойства **Модификаторы** этого элемента управления значение **Закрытый**.  
  
4. Построение библиотеки DLL.  
  
### <a name="to-inherit-from-a-composite-control-in-a-control-class-library"></a>Наследование от составного элемента управления в библиотеке классов элементов управления  
  
1. В меню **Файл** наведите указатель мыши на **Добавить** и выберите **Новый проект** для добавления нового проекта **приложения Windows** в решение.  
  
2. В **обозревателе решений** щелкните правой кнопкой мыши папку **Ссылки** для нового проекта и выберите **Добавить ссылку**, чтобы открыть диалоговое окно **Добавить ссылку**.  
  
3. Перейдите на вкладку **Проекты** и дважды щелкните проект библиотеки элементов управления.  
  
4. В меню **Сборка** выберите **Собрать решение**.  
  
5. В **обозревателе решений** щелкните правой кнопкой мыши проект библиотеки элементов управления и выберите пункт **Добавить новый элемент** в контекстном меню.  
  
6. Выберите шаблон **Производный пользовательский элемент управления** в диалоговом окне **Добавить новый элемент**.  
  
7. В диалоговом окне **Выбор компонентов для наследования** дважды щелкните элемент управления, от которого должно производиться наследование.  
  
     В ваш проект будет добавлен новый элемент управления.  
  
8. Откройте визуальный конструктор для нового элемента управления и добавьте дополнительные вложенные элементы управления.  
  
     Вы увидите вложенные элементы управления, унаследованные от составного элемента управления в библиотеке DLL, и сможете изменить свойства элементов управления, для свойства **Модификаторы** которых установлено значение **Открытый**. Свойства элемента управления, для свойства **Модификаторы** которого установлено значение **Закрытый**, менять нельзя.  
  
## <a name="see-also"></a>См. также

- [Пошаговое руководство. Создание составного элемента управления с помощью Visual Basic](walkthrough-authoring-a-composite-control-with-visual-basic.md)
- [Пошаговое руководство. Создание составного элемента управления с помощью C#](walkthrough-authoring-a-composite-control-with-visual-csharp.md)
- [Пошаговое руководство. Наследование элементов управления Windows Forms с помощью Visual Basic](walkthrough-inheriting-from-a-windows-forms-control-with-visual-basic.md)
- [Пошаговое руководство. Наследование элементов управления Windows Forms с помощью Visual C#](walkthrough-inheriting-from-a-windows-forms-control-with-visual-csharp.md)
- [Рекомендации относительно типов элементов управления](control-type-recommendations.md)
- [Практическое руководство. Создание элементов управления для форм Windows Forms](how-to-author-controls-for-windows-forms.md)
- [Создание собственных элементов управления](varieties-of-custom-controls.md)
