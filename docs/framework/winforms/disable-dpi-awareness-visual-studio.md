---
title: Отключение поддержки определения DPI в Visual Studio
description: Описывает ограничения части конструктора Windows Forms на HDPI-мониторах и запуска Visual Studio в качестве процесса не поддерживают DPI.
ms.date: 04/05/2019
ms.prod: visual-studio-windows
ms.technology: vs-ide-designers
author: gewarren
ms.author: gewarren
ms.custom: seoapril2019
ms.openlocfilehash: e52debea382033417afe0bd47f899af1666192bc
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59181388"
---
# <a name="disable-dpi-awareness-in-visual-studio"></a>Отключение поддержки определения DPI в Visual Studio

Visual Studio является точек на дюйм (DPI) приложения, что означает отображение шкалы автоматически. Если приложение указано, что он не поддерживает определение DPI, операционная система масштабируется приложение в качестве растрового изображения. Это поведение также называется виртуализации точек на ДЮЙМ. Приложение по-прежнему считает, что он выполняется на 100% масштабирования или 96 точек на дюйм.

В этой статье рассматриваются ограничения части конструктора Windows Forms на HDPI-мониторах и ее запуске Visual Studio как процесс не поддерживают DPI.

## <a name="windows-forms-designer-on-hdpi-monitors"></a>Конструктор Windows Forms на HDPI-мониторах

**Конструктор Windows Forms** в Visual Studio не имеет масштабирования. При открытии некоторых форм, в результате проблем с отображением **конструктор Windows Forms** на большое число точек на дюйм (HDPI) мониторов. Например элементы управления могут иметь пересекаются, как показано на следующем рисунке:

![Конструктор Windows Forms на мониторе HDPI](./media/disable-dpi-awareness-visual-studio/win-forms-designer-hdpi.png)

При открытии формы в **конструктор Windows Forms** в Visual Studio на мониторе HDPI Visual Studio отображает желтый, информационные панели в верхней части конструктора:

![Информационные панели в Visual Studio, чтобы перезагрузить компьютер в режиме не поддерживают DPI](./media/disable-dpi-awareness-visual-studio/scaling-gold-bar.png)

Считывает сообщение **масштабирование на главном экране равен 200% (192 dpi). Это может вызвать проблемы отрисовки в окне конструктора.**

> [!NOTE]
> Эта информационная панель была введена в Visual Studio 2017 версии 15.8.

Если вы не работают в конструкторе, не требуется для настройки макета формы можно игнорировать информационные панели и продолжить работу в редакторе кода или в других типах конструкторов. (Вы также можете [отключение уведомлений](#disable-notifications) , чтобы информационные панели не отображаются.) Только **конструктор Windows Forms** снижается. Если вам нужно работать в **конструктор Windows Forms**, следующий раздел поможет вам [решить проблему](#to-resolve-the-display-problem).

## <a name="to-resolve-the-display-problem"></a>Для устранения проблемы отображения

Существует три способа решения проблемы отображения:

1. [Перезапустите Visual Studio как процесс не поддерживают DPI](#restart-visual-studio-as-a-dpi-unaware-process)
2. [Добавьте параметр реестра](#add-a-registry-entry)
3. [Настройте дисплей масштабирование параметр до 100%](#set-your-display-scaling-setting-to-100)

### <a name="restart-visual-studio-as-a-dpi-unaware-process"></a>Перезапустите Visual Studio как процесс не поддерживают DPI

Как процесс не поддерживают DPI можно перезапустить Visual Studio, выбрав параметр на желтый информационные панели. Это предпочтительный способ устранения проблемы.

При запуске Visual Studio как процесс не поддерживают DPI, устранения проблем макет конструктора, но шрифты могут быть нечеткими. Visual Studio отображает различные желтый информационное сообщение, когда он выполняется как процесс не поддерживают DPI, — говорит **Visual Studio выполняется как процесс не поддерживают DPI. Конструкторы WPF и XAML могут отображаться неправильно.** Информационные панели также предоставляет возможность **перезапустите Visual Studio, как поддерживающее DPI процесс**.

> [!NOTE]
> - Если извлечения окна инструментов в Visual Studio при выборе перезагрузите компьютер как процесс не поддерживают DPI, может измениться положения этих окон инструментов.
> - Если вы используете профиль Visual Basic по умолчанию, или у вас есть **сохранять новые проекты при создании** параметр выбран в **средства** > **параметры**  >  **Проекты и решения**, Visual Studio не удается восстановить проект после его перезапуска, как процесс не поддерживают DPI. Тем не менее, можно открыть проект, выбрав его в разделе **файл** > **последние проекты и решения**.

Очень важно перезапустить Visual Studio как поддерживающее DPI процесс при завершении работы **конструктор Windows Forms**. Когда он выполняется как процесс не поддерживают DPI, можно, выглядели нечеткими шрифты и могут возникнуть проблемы в других конструкторах например **конструктор XAML**. Если вы закроете и снова откройте Visual Studio при работе в режиме не поддерживают DPI, он становится дюйм еще раз. Можно также щелкнуть **перезапустите Visual Studio, как поддерживающее DPI процесс** параметр на информационные панели.

### <a name="add-a-registry-entry"></a>Добавьте параметр реестра

Visual Studio можно пометить как не поддерживающие точек на ДЮЙМ, путем изменения реестра. Откройте **редактора реестра** и добавить запись **NT\CurrentVersion\AppCompatFlags\Layers этот** подраздел:

**Запись**: В зависимости от того, используете ли вы Visual Studio 2017 или 2019 г. Используйте одно из следующих значений:

- C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\IDE\devenv.exe
- C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\devenv.exe

> [!NOTE]
> Если вы используете выпуск Visual Studio Professional или Enterprise, замените **сообщества** с **Professional** или **Enterprise** в записи. Кроме того, замените букву диска, при необходимости.

**Тип**: REG_SZ

**Значение**. DPIUNAWARE

> [!NOTE]
> Visual Studio остается в режиме не поддерживают DPI, пока вы не удалите запись в реестр.

### <a name="set-your-display-scaling-setting-to-100"></a>Настройте дисплей масштабирование параметр до 100%

Для применения вашего экрана, масштабирование параметр до 100% в Windows 10 введите **параметры отображения** в панели поиска, а затем выберите задач **изменению параметров отображения**. В **параметры** окне **изменить размер текста, приложений и других элементов** для **100%**.

Настройка вашего экрана, масштабирование до 100% может быть нежелательно, так как он может сделать пользовательский интерфейс слишком мал, чтобы можно было использовать.

## <a name="disable-notifications"></a>Отключение уведомлений

Вы можете не получать уведомления о DPI масштабирование проблемы в Visual Studio. Может потребоваться отключить уведомления, если вы не в конструкторе, например.

Чтобы отключить уведомления, выберите **средства** > **параметры** открыть **параметры** диалоговое окно. Выберите **конструктор Windows Forms** > **Общие**и задайте **уведомления масштабирование DPI** для **False**.

![Разрешение DPI, параметр уведомлений в Visual Studio](./media/disable-dpi-awareness-visual-studio/notifications-option.png)

Если требуется, чтобы позднее снова включить функцию масштабирования уведомления, присвойте свойству **True**.

## <a name="troubleshoot"></a>Устранение неполадок

Если поддержка DPI перехода не работает должным образом в Visual Studio, проверьте наличие `dpiAwareness` значение в **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Image файл выполнения Options\devenv.exe**  подразделов в редакторе реестра. Удалите значение, если он имеется.

## <a name="see-also"></a>См. также

- [Автоматическое масштабирование в Windows Forms](automatic-scaling-in-windows-forms.md)
