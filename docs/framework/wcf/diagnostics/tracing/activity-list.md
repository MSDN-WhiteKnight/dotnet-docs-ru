---
description: 'Дополнительные сведения: список действий'
title: Список действий
ms.date: 03/30/2017
ms.assetid: 5540e185-ce8e-4db3-83b0-2b9f5bf71829
ms.openlocfilehash: 656c605e81872405aa8637b647b40278b06913cb
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99770876"
---
# <a name="activity-list"></a>Список действий

В этом разделе перечислены все действия, определенные Windows Communication Foundation (WCF).  
  
> [!NOTE]
> Кроме того, действия можно определить программно для группирования пользовательских трассировок. Дополнительные сведения см. в разделе [эмиссия User-Code трассировок](emitting-user-code-traces.md).  
  
## <a name="servicemodel-activities"></a>Действия ServiceModel  

 В следующей таблице перечислены все действия для основных сценариев использования.  
  
|Метка|Activity Name|Activity Type|Описание|  
|-----------|-------------------|-------------------|-----------------|  
|A, M|Внешнее действие|Н/П (не контролируется ServiceModel)|Действие, идентификатор которого задается в протоколе TLS до каких-либо вызовов кода ServiceModel (сторона клиента или сторона сервера).<br /><br /> Пример: действие, в котором вызывается метод Open для клиента WCF или serviceHost. Open, называется.|  
|B|Конструкция<br /><br /> ChannelFactory. ContractType : '[Type]'.|Конструкция||  
|C|Открыть<br /><br /> [ClientBase&#124;ChannelFactory]. ContractType : '[Type]'.|Открыть||  
|I|Закройте [ClientBase&#124;ChannelFactory]. ContractType : '[Type]'.|Закрыть||  
|M|Построить ServiceHost. ServiceType: '[Type]'.|Конструкция||  
|Нет|Открыть ServiceHost. ServiceType: '[Type]'.|Открыть||  
|Z|Закрыть ServiceHost. ServiceType: '[Type]'.|Закрыть||  
|O|Прослушивать "[address]".|ListenAt|Это и следующие действия зависят от транспорта. Действие ListenAt представляет содержимое, которое сопоставляется с адресом, по которому прослушиватель канала ожидает передачи данных. В случае MSMQ это сама очередь, так как очередь сопоставляется с одним адресом. Данное действие ожидает передачи данных из всех входящих подключений в случае транспорта, ориентированного на подключение, или ожидает сообщения MSMQ в случае MSMQ. Это действие создается при выполнении ServiceHost.Open() и содержит трассировки, относящиеся к созданию и уничтожению прослушивателя, а также передается во все действия ReceiveBytes.|  
|P|Прием байтов по соединению "[адрес]". Прием сообщения MSMQ.|ReceiveBytes|В этом действии данные, которые в конечном итоге получат сообщение WCF, обрабатываются. В случае транспорта, ориентированного на подключение, или http ожидаются входящие байты. В случае TCP/именованного канала время существования данного действия совпадает со временем существования соединения, так как оно создается при создании соединения. В случае http время существования равно времени существования запроса сообщения, и действие создается при передаче сообщения. Это действие содержит трассировки, относящиеся к созданию и уничтожению соединения (при наличии), а также передается во все действия обработки сообщения (объекта).<br /><br /> В случае MSMQ это то действие, в котором производится извлечение сообщения MSMQ.|  
|Q|Обработка сообщения [номер]. (Обратите внимание, что значение [номер] монотонно увеличивается, начиная с 1.)|ProcessMessage|Обработка входящего сообщения. Это действие запускается, когда все данные (байты, сообщения MSMQ) получены для формирования объекта сообщения WCF. Трассировки в этом действии относятся к обработке заголовка.<br /><br /> После формирования сообщения, готового к отправке, производится поиск соответствующего идентификатора действия и переключение на действие ServiceHost ProcessAction.|  
|D, S|Process action "[действие]".|ProcessAction|Обработка сообщения в стеке "транспорт/безопасность/надежный обмен сообщениями" для передачи сообщения в пользовательский код при получении и в обратном порядке при передаче.<br /><br /> На сервере это действие использует распространенный идентификатор действия, если он отправляется в заголовке сообщения через "распространение действия"; в противном случае создается новый идентификатор GUID.<br /><br /> В этом действии также обрабатывается ответное сообщение для контрактов запрос/ответ.|  
|T|Выполнение "[IContract.Operation]".|ExecuteUserCode|Выполнение пользовательского кода после передачи серверу. Это действие обеспечивает границу для разграничения кода ServiceHost и кода, предоставленного пользователем.|  
  
## <a name="security-activities"></a>Действие по обеспечению безопасности  

 В следующей таблице перечислены все действия, связанные с безопасностью.  
  
|Activity Name|Activity Type|Описание|  
|-------------------|-------------------|-----------------|  
|Создание безопасного сеанса|SetupSecurity|Существует только на стороне клиента. Содержит все передаваемые данные RST*/SCT для проверки подлинности и установки контекста безопасности. При `propagateActivity` = `true` значении это действие объединяется с действиями соответствующего действия процесса \* /СКТ.|  
|Закрытие безопасного сеанса|SetupSecurity|Существует на стороне клиента. Содержит обмен сообщением Cancel для закрытия безопасного сеанса. Если `propagateActivity` = `true` задано значение, это действие объединяется с действием процесса "Cancel" из службы.|  
  
 В следующей таблице перечислены все действия, связанные с COM+.  
  
|Activity Name|Activity Type|Описание|  
|-------------------|-------------------|-----------------|  
|Создание экземпляра COM+|TransferToCOMPlus|1 экземпляр действия для каждого вызова COM+ из кода WCF|  
|Выполнение операции  COM+\<operation>|TransferToCOMPlus|1 экземпляр действия для каждого вызова COM+ из кода WCF|  
  
## <a name="wmi-activities"></a>Действия WMI  

 В следующей таблице перечислены все действия, связанные с WMI.  
  
|Activity Name|Activity Type|Описание|  
|-------------------|-------------------|-----------------|  
|Получить WMI|WMIGetObject|Пользователь извлекает данные из инструментария WMI.|  
|Записать WMI|WmiPutInstance|Пользователь обновляет данные с помощью инструментария WMI.|
