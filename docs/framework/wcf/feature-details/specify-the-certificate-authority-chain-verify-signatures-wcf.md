---
description: Дополнительные сведения см. в статье как указать цепочку сертификатов центра сертификации, используемую для проверки подписей (WCF).
title: Практическое руководство. Указание цепочки сертификатов центра сертификации, используемой для проверки сигнатур (WCF)
ms.date: 03/30/2017
helpviewer_keywords:
- certificates [WCF], specifying the certificate authority certificate chain
- certificates [WCF], verifying signatures
ms.assetid: 7c719355-aa41-4567-80d0-5115a8cf73fd
ms.openlocfilehash: f3bfcb378641db2a4bdba054f25042a5e7e9be07
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99793458"
---
# <a name="how-to-specify-the-certificate-authority-certificate-chain-used-to-verify-signatures-wcf"></a>Практическое руководство. Указание цепочки сертификатов центра сертификации, используемой для проверки сигнатур (WCF)

Когда Windows Communication Foundation (WCF) получает сообщение SOAP, подписанное с помощью сертификата X. 509, по умолчанию проверяет, был ли сертификат X. 509 выдан доверенным центром сертификации. Для этого выполняется поиск в хранилище сертификатов и проверяется, отмечен ли соответствующий центр сертификации как надежный. Чтобы WCF мог выполнить это определение, цепочка сертификатов центра сертификации должна быть установлена в правильном хранилище сертификатов.  
  
### <a name="to-install-a-certification-authority-certificate-chain"></a>Установка цепи сертификатов центра сертификации  
  
- Для каждого центра сертификации, которому получатель сообщения SOAP доверяет сертификатам X. 509, выданным из, установите цепочку сертификатов центра сертификации в хранилище сертификатов, которое WCF настраивает для получения сертификатов X. 509.  
  
     Например, если получатель сообщения SOAP будет считаться доверенным для сертификатов X. 509, выпущенных корпорацией Майкрософт, то цепочка сертификатов центра сертификации для Майкрософт должна быть установлена в хранилище сертификатов, в котором WCF настроена на поиск сертификатов X. 509. Хранилище сертификатов, в котором WCF ищет сертификаты X. 509, можно указать в коде или конфигурации. Например, это можно указать в коде с помощью <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> метода или в конфигурации несколькими способами, включая [\<serviceCertificate>](../../configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md) .  
  
     Поскольку Windows поставляется с комплектом цепочек сертификатов по умолчанию для надежных центров сертификации, в некоторых случаях не требуется устанавливать цепочки сертификатов для всех центров сертификации.  
  
    1. Экспорт цепи сертификатов центра сертификации.  
  
         Конкретный способ экспорта зависит от центра сертификации. Если центр сертификации работает под управлением служб сертификации Майкрософт, выберите **скачать сертификат ЦС, цепочку сертификатов или CRL**, а затем щелкните **скачать сертификат ЦС**.  
  
    2. Импорт цепи сертификатов центра сертификации.  
  
         В консоли управления (MMC), откройте оснастку диспетчера сертификатов. Для хранилища сертификатов, в котором WCF настроена для получения сертификатов X. 509 из, выберите папку **Доверенные корневые** **центры сертификации** . В папке **Доверенные корневые центры сертификации** щелкните правой кнопкой мыши папку **Сертификаты** , наведите указатель на пункт **все задачи** и выберите команду **Импорт**. Укажите файл, экспортированный на предыдущем этапе.  
  
         Дополнительные сведения об использовании оснастки "сертификаты" в консоли MMC см. в разделе [как просматривать сертификаты с помощью оснастки MMC](how-to-view-certificates-with-the-mmc-snap-in.md).  
  
## <a name="see-also"></a>См. также

- [Работа с сертификатами](working-with-certificates.md)
