---
description: 'Дополнительные сведения: Защита приложений одноранговых каналов'
title: Защита приложений одноранговых каналов
ms.date: 03/30/2017
ms.assetid: d4a0311d-3f78-4525-9c4b-5c93c4492f28
ms.openlocfilehash: cff94fe618ca25a6810d68efe8cb99b4316d95b7
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99632663"
---
# <a name="securing-peer-channel-applications"></a>Защита приложений одноранговых каналов

Как и в случае с другими привязками в WinFX, `NetPeerTcpBinding` безопасность включена по умолчанию и обеспечивает безопасность на основе транспорта и сообщений (или и то, и другое). В данном разделе обсуждаются два этих типа безопасности. Тип безопасности задается тегом режима безопасности в спецификации привязки (<xref:System.ServiceModel.NetPeerTcpBinding.Security%2A>`Mode`).  
  
## <a name="transport-based-security"></a>Безопасность на базе транспорта  

 Одноранговый канал поддерживает два типа учетных данных для проверки подлинности, обеспечивающие безопасность транспорта; оба типа требуют настройки свойства `ClientCredentialSettings.Peer` в связанной фабрике каналов `ChannelFactory`.  
  
- Пароль. Клиенты используют знание секретного пароля для проверки подлинности подключений. При использовании этого типа учетных данных `ClientCredentialSettings.Peer.MeshPassword` должен содержать действительный пароль и дополнительно экземпляр `X509Certificate2`.  
  
- Сертификат. Используется специальная проверка подлинности приложения. При использовании этого типа учетных данных необходимо использовать конкретную реализацию <xref:System.IdentityModel.Selectors.X509CertificateValidator> в проверке подлинности `ClientCredentialSettings.Peer.PeerAuthentication`.  
  
## <a name="message-based-security"></a>Безопасность на основе сообщения  

 Приложение может подписывать исходящие сообщения с помощью безопасности сообщений, чтобы все получатели могли проверить, что сообщение отправлено надежной стороной и защищено от подделки. В настоящее время одноранговый канал поддерживает только подпись сообщений с учетными данными X.509.  
  
## <a name="best-practices"></a>Рекомендации  
  
- В этом разделе приводятся рекомендации по защите приложений одноранговых каналов.  
  
### <a name="enable-security-with-peer-channel-applications"></a>Включение безопасности приложений одноранговых каналов  

 Распределенность протоколов однорангового канала затрудняет принудительное использование членства в сетке, секретности и конфиденциальности в незащищенной сетке. Важно также не забыть обеспечить безопасность связи между клиентами и службой распознавателя. В протоколе PNRP используйте безопасные имена во избежание спуфинга и других распространенных атак. Защитите пользовательскую службу распознавателя, включив безопасность на подключении, используемом клиентами для связи со службой распознавателя, включая как безопасность на основе сообщений, так и на основе транспорта.  
  
### <a name="use-the-strongest-possible-security-model"></a>Используйте самую сильную модель безопасности  

 Например, если требуется отдельно идентифицировать каждого члена сетки, используйте модель проверки подлинности на основе сертификатов. Если это невозможно, используйте проверку подлинности на основе паролей, следуя текущим рекомендациям по их защите. Для защиты паролей необходимо обмениваться паролями только с доверенными сторонами, передавать пароли только в безопасной среде передачи, часто изменять пароли и обеспечивать надежность паролей (они должны состоять как минимум из восьми символов, включать хотя бы по одному символу из обоих регистров, цифру и специальный знак).  
  
### <a name="never-accept-self-signed-certificates"></a>Никогда не принимайте самозаверяющие сертификаты  

 Никогда не принимайте учетные данные сертификата на основе имен субъекта. Обратите внимание, что любой может создать сертификат и выбрать имя, проверку которого вы осуществляете. Чтобы защититься от спуфинга, необходимо проверять сертификаты на основе учетных данных центра выдачи сертификата (доверенного издателя или корневого центра сертификации).  
  
### <a name="use-message-authentication"></a>Используйте проверку подлинности сообщения  

 Используйте проверку подлинности сообщения, чтобы проверить, что сообщение было получено из надежного источника и не было подделано во время передачи. Без проверки подлинности сообщения злонамеренному клиенту легко подделать или заменить сообщения в сетке.  
  
## <a name="peer-channel-code-examples"></a>Примеры кода одноранговых каналов  

 [Сценарии одноранговых каналов](peer-channel-scenarios.md)  
  
## <a name="see-also"></a>См. также

- [Безопасность одноранговых каналов](peer-channel-security.md)
- [Создание приложения одноранговых каналов](building-a-peer-channel-application.md)
