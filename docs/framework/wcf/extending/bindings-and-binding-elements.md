---
description: 'Дополнительные сведения: привязки и элементы привязки'
title: Привязки и элементы привязки
ms.date: 03/30/2017
helpviewer_keywords:
- binding elements [WCF]
ms.assetid: 765ff77b-7682-4ea3-90eb-e4d751e37379
ms.openlocfilehash: 0d43a676bf5b4a166a34a2d623e0f80cc9df66f0
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99756725"
---
# <a name="bindings-and-binding-elements"></a>Привязки и элементы привязки

Привязки — это коллекции специальных элементов конфигурации, называемые *элементами привязки*, которые оцениваются средой выполнения службы при каждом создании конечной точки клиента или службы. Тип и порядок элементов привязки в привязке определяют порядок выбора и расположения каналов транспорта и протокола в стеке канала конечной точки.  
  
 Как правило, привязки (в частности привязки, предоставляемые системой) также имеют множество свойств конфигурации, которые отражают часто изменяемые свойства инкапсулированных элементов привязки.  
  
 Привязка должна содержать точно один элемент привязки транспорта. Каждый элемент привязки транспорта содержит элемент привязки кодирования сообщений по умолчанию, который можно переопределить путем добавления в привязку не более одного элемента привязки кодирования сообщений. Кроме элементов привязки транспорта и кодирования, привязка может содержать любое количество элементов привязки протокола, которые совместно реализуют функции, необходимые для обработки и отправки сообщения SOAP от одной конечной точки другой. Дополнительные сведения см. [в разделе Использование привязок для настройки служб и клиентов](../using-bindings-to-configure-services-and-clients.md).  
  
## <a name="extending-bindings-and-binding-elements"></a>Расширение привязок и элементов привязок  

 Windows Communication Foundation (WCF) включает привязки, предоставляемые системой и охватывающие широкий спектр сценариев. (Дополнительные сведения см. в разделе [привязки, предоставляемые системой](../system-provided-bindings.md).) Однако иногда требуется создать и использовать привязку, которая не включена в WCF. В следующих сценариях требуется создание новой привязки.  
  
- Чтобы использовать новый элемент привязки (такой как новый элемент привязки транспорта, кодирования или протокола), необходимо создать новую привязку, содержащую такой элемент привязки. Например, для добавления пользовательского элемента `UdpTransportBindingElement` для транспорта по протоколу UDP потребуется создать новую привязку, которая будет его использовать. Сведения о выполнении этого поведения с помощью <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType> типа см. в разделе [пользовательские привязки](custom-bindings.md).  
  
- Настройка существующих элементов привязки таким образом, чтобы предоставляемые системой привязки не предоставляли открытые свойства, например, когда требуется создать новую привязку для изменения порядка выполнения операций подписания и шифрования. Сведения о выполнении этого поведения см. [в разделе как настроить привязку System-Provided](how-to-customize-a-system-provided-binding.md).  
  
- Создание стандартных корпоративных привязок, которые предоставляют только определенные параметры конфигурации, например, для создания в рамках предприятия варианта привязки <xref:System.ServiceModel.WSHttpBinding>, в которой невозможно отключить безопасность, т.е. привязки, которая имеет функциональность привязки <xref:System.ServiceModel.WSHttpBinding>, но в которой безопасность всегда включена. Дополнительные сведения см. в разделе [Создание привязок User-Defined](creating-user-defined-bindings.md).  
  
- Настройка некоторых метаданных обычно (но не обязательно) для настройки или использования пользовательского элемента привязки. Дополнительные сведения о предоставлении поддержки метаданных для привязок и элементов привязки см. в разделе [Поддержка конфигурации и метаданных](configuration-and-metadata-support.md).  

## <a name="channels-bindings-and-binding-elements"></a>Каналы, привязки и элементы привязки  

 Привязки и элементы привязки связывают модель программирования приложения, включающую атрибуты и поведения, с моделью канала, которая включает фабрики и прослушиватели, кодировщики сообщений, а также реализации транспорта и протокола. Как правило, элементы привязки и привязки реализуются для того, чтобы позволить уровню приложения использовать каналы.  
  
 Уровень канала отправляет и получает сообщения от уровня службы и передает эти сообщения между конечными точками. Уровень канала в клиенте представляет собой стек фабрик каналов, которые создают каналы к конечной точке сети. Уровень каналов в службе представляет собой стек прослушивателей каналов, которые принимают каналы, полученные конечной точкой сети.  
  
 Существует два общих типа каналов: каналы протоколов и каналы транспорта. Каналы транспорта отвечают за фактическую передачу сообщения от одной конечной точки сети к другой. Каналы транспорта должны иметь кодировщик сообщений по умолчанию и должны иметь возможность использовать альтернативный кодировщик сообщений, предоставляемый посредством элемента привязки кодировщика сообщений. Кодировщик сообщений отвечает за преобразование объекта <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> в представление для передачи и наоборот. Каналы протокола отвечают за реализацию протоколов уровня SOAP (например, WS-Security или WS-ReliableMessaging).  
  
 Основным требованием к каналам протокола и транспорта является реализацию в них необходимых интерфейсов каналов. Чтобы создать рабочий уровень канала требуются соответствующие фабрики и прослушиватели и т. д. Чтобы использовать реализации каналов из WCF, необходимо иметь связанные элементы привязки, производные от <xref:System.ServiceModel.Channels.BindingElement> для каждого канала, и должен быть связанный элемент расширения привязки для включения в файлы конфигурации, наследуемые от <xref:System.ServiceModel.Configuration.BindingElementExtensionElement> .  
  
 Как уже говорилось ранее, элементы привязки для реализаций кодировщиков сообщений, канала протокола и канала транспорта можно располагать в стеке канала, а привязка служит механизмом их упорядочения. Привязки и элементы привязки связывают модель программирования приложения с моделью канала. Реализации канала можно использовать непосредственно в коде, однако если кодировщики, транспорты и протоколы реализованы не в виде элементов привязки, их нельзя использовать в модели программирования уровня службы.  
  
 Дополнительные сведения о разработке каналов и их элементов привязки см. [в разделе Расширение канального уровня](extending-the-channel-layer.md).
