---
description: 'Дополнительные сведения: параметры размещения рабочих процессов'
title: Варианты размещения рабочего процесса
ms.date: 03/30/2017
ms.assetid: 37bcd668-9c5c-4e7c-81da-a1f1b3a16514
ms.openlocfilehash: 64d02decd3a096b4c83555729826c5fc07b13cbf
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99754892"
---
# <a name="workflow-hosting-options"></a>Варианты размещения рабочего процесса

В большинстве примеров Windows Workflow Foundation (WF) используются рабочие процессы, размещенные в консольном приложении, но это не является реалистичным сценарием для реальных рабочих процессов. Рабочие процессы в реальных бизнес-приложениях будут размещаться в постоянных процессах — либо службе Windows, созданной разработчиком, либо серверным приложением, например IIS 7,0 или AppFabric. Между этими подходами имеются следующие различия.

## <a name="hosting-workflows-in-iis-with-windows-appfabric"></a>Размещение рабочих процессов в службах IIS с Windows AppFabric

IIS с AppFabric является предпочитаемым расположением для рабочих процессов. Ведущее приложение для рабочих процессов с помощью AppFabric - служба активации Windows, которая устраняет зависимость от HTTP только по IIS.

## <a name="hosting-workflows-in-iis-alone"></a>Размещение рабочих процессов только в службах IIS

Использовать только IIS 7,0 не рекомендуется, так как существуют средства управления и мониторинга, доступные в AppFabric, которые упрощают обслуживание запущенных приложений. Рабочие процессы должны размещаться только в IIS 7,0, если есть проблемы с инфраструктурой при переходе на AppFabric.

> [!WARNING]
> IIS 7,0 периодически перезапускает пулы приложений по различным причинам. При перезапуске пула приложений IIS прекращает прием сообщений старым пулом и создает новый пул приложений, чтобы принимать новые запросы. Если рабочий процесс продолжит работать после отправки ответа, IIS 7,0 не будет знать о выполняемой работе и может перезапустить пул приложений размещения. В этом случае рабочий процесс будет прерван, а службы отслеживания запишет сообщение [1004-воркфловинстанцеабортед](1004-workflowinstanceaborted.md) с пустым полем Reason.
>
> Если используется сохраняемость, узел должен явно перезапустить прерванные экземпляры с последней точки сохраняемости.
>
> Если используется AppFabric и сохраняемость, служба управления рабочими процессами в конечном счете возобновит рабочий процесс с последней успешной точки сохраняемости. Если сохраняемость не используется и рабочий процесс выполняет операции вне шаблона «запрос-ответ», то данные будут потеряны при отмене рабочего процесса.

## <a name="hosting-a-workflow-in-a-custom-windows-service"></a>Размещение рабочего процесса в пользовательской службе Windows

Создание пользовательской службы рабочего процесса для его размещения потребует от разработчика дублирования многих функциональных возможностей, предоставляемых готовым AppFabric, однако обеспечит большую гибкость за счет дополнительных функций. Этот вариант следует рассматривать, только если AppFabric не является дополнительным средством.
