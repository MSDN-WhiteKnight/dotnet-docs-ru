---
title: Обзор использования автоматической разметки
ms.date: 03/30/2017
helpviewer_keywords:
- layout [WPF], automatic
- automatic layout [WPF]
ms.assetid: 6fed9264-18bb-4d05-8867-1fe356c6f687
ms.openlocfilehash: 5df6d39bef137bd4005316eac252ca0952df5e7f
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59098784"
---
# <a name="use-automatic-layout-overview"></a>Обзор использования автоматической разметки
В этом разделе представлены рекомендации разработчикам о написании [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] приложений с локализуемым [!INCLUDE[TLA#tla_ui#plural](../../../../includes/tlasharptla-uisharpplural-md.md)]. В прошлом локализации интерфейса пользователя было много времени. Каждый язык, на который переводился пользовательского интерфейса требовал попиксельного выравнивания. Сегодня при правом разработки и кодирования стандартов, [!INCLUDE[TLA2#tla_ui#plural](../../../../includes/tla2sharptla-uisharpplural-md.md)] могут создаваться таким образом, чтобы локализаторам требовалось выполнять меньше изменений размеров и расположений для выполнения. Подход к написанию приложений, в которых проще изменять размер и положение элементов называется автоматической разметкой и может осуществляться с помощью [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] разработки приложения.  

<a name="advantages_of_autolayout"></a>   
## <a name="advantages-of-using-automatic-layout"></a>Преимущества использования автоматической разметки  
 Так как [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] систему представления является мощной и гибкой, она предоставляет возможность размещения элементов в приложении, которое может быть настроено в соответствии с требованиями различных языков. В следующем списке отмечены преимущества автоматической разметки.  

-   Пользовательский Интерфейс отображается правильно на любом языке.  

-   Снижается необходимость перенастраивать расположение и размер элементов управления после перевода текста.  
  
-   Снижается необходимость перенастраивать размер окна.  

-   Макет пользовательского интерфейса отображается правильно на любом языке.  

-   Локализация может быть сведена не многим более чем к переводу строки.  
  
<a name="autolayout_controls"></a>   
## <a name="automatic-layout-and-controls"></a>Автоматическая разметка и элементы управления  
 Автоматическая разметка позволяет приложению устанавливать размер элемента управления автоматически. Например, элемент управления может измениться, чтобы вместить строку целиком. Эта возможность позволяет локализаторам перевести строку; больше не требуется изменять размер элемента управления, чтобы полностью отобразить переведенный текст. В следующем примере создается кнопка с текстом на английском языке.  
  
 [!code-xaml[LocalizationBtn_snip#1](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationBtn_snip/CS/Pane1.xaml#1)]  
  
 В этом примере все, что нужно сделать, чтобы подпись кнопки была на испанском языке, — это изменить текст. Например, примененная к объекту директива  
  
 [!code-xaml[LocalizationBtn#1](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationBtn/CS/Pane1.xaml#1)]  
  
 На следующем рисунке показан результат выполнения примеров кода:  
  
 ![Та же кнопка с текстовой подписью на различных языках](./media/use-automatic-layout-overview/auto-resizable-button.png)  
  
<a name="autolayout_coding"></a>   
## <a name="automatic-layout-and-coding-standards"></a>Автоматическая разметка и стандарты кодирования  
 Использование автоматической разметки требуется набор кодирования и стандартов и правил разработки для создания полностью локализуемый пользовательский Интерфейс. Следующие рекомендации предназначены для помощи в кодировании автоматической разметки.  

**Не используйте абсолютных положений**

- Не используйте <xref:System.Windows.Controls.Canvas> так, как он применяет абсолютное позиционирование элементов.

- Используйте <xref:System.Windows.Controls.DockPanel>, <xref:System.Windows.Controls.StackPanel>, и <xref:System.Windows.Controls.Grid> для размещения элементов управления.

Обсуждение различных типов панелей, см. в разделе [Общие сведения о панелях](../controls/panels-overview.md).

**Не устанавливайте фиксированный размер окна**

- Используйте ключевое слово <xref:System.Windows.Window.SizeToContent%2A?displayProperty=nameWithType>. Пример:

   [!code-xaml[LocalizationGrid#2](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationGrid/CS/Pane1.xaml#2)]

**Добавить <xref:System.Windows.FrameworkElement.FlowDirection%2A>**

- Добавить <xref:System.Windows.FrameworkElement.FlowDirection%2A> к корневому элементу приложения.

   WPF предоставляет удобный способ поддержки горизонтальной, двунаправленной и вертикальной разметки. В инфраструктуре представления <xref:System.Windows.FrameworkElement.FlowDirection%2A> свойство может использоваться для определения макета. Ниже перечислены шаблоны направления текста.
   
     - <xref:System.Windows.FlowDirection.LeftToRight?displayProperty=nameWithType> (LrTb) — горизонтальная разметка для латиницы, восточноазиатских языков и т. д.
     
     - <xref:System.Windows.FlowDirection.RightToLeft?displayProperty=nameWithType> (RlTb) — двунаправленная разметка для арабского, иврита и т. д.

**Используйте составные шрифты вместо физических шрифтов**

- С составными шрифтами <xref:System.Windows.Controls.Control.FontFamily%2A> свойство необходимо локализовать.

- Разработчики могут использовать один из следующих шрифтов или создать свой собственный.

   - Глобальный пользовательский интерфейс
   - Global San Serif
   - Global Serif

**Добавление XML: lang**

- Добавить `xml:lang` атрибут в корневом элементе пользовательского интерфейса, например `xml:lang="en-US"` для приложения на английском языке.

- Поскольку составные шрифты используют `xml:lang` для определения того, какой шрифт использовать, установите это свойство для поддержки многоязычных сценариев.

<a name="autolay_grids"></a>   
## <a name="automatic-layout-and-grids"></a>Автоматическая разметка и сетки  
 <xref:System.Windows.Controls.Grid> Элемент, полезен для автоматической разметки, так как он позволяет разработчику позиционировать элементы. Объект <xref:System.Windows.Controls.Grid> способен распределять имеющееся пространство среди своих дочерних элементов при помощи упорядочения столбцов и строк элемента управления. Элементы пользовательского интерфейса могут занимать несколько ячеек, и возможно размещение сетки внутри сетки. Сетки полезны, поскольку они позволяют создавать и позиционировать сложные пользовательского интерфейса. В следующем примере демонстрируется использование сетки для размещения нескольких кнопок и текста. Обратите внимание на то, что высоты и ширины ячейки установлено значение <xref:System.Windows.GridUnitType.Auto>; таким образом, ячейка, содержащая кнопку с изображением, изменяется в соответствии изображение.  

 [!code-xaml[LocalizationGrid#1](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationGrid/CS/Pane1.xaml#1)]  
  
 На приведенном ниже рисунке показана сетка, созданная с помощью предыдущего кода.  
  
 ![Пример сетки](./media/glob-grid.png "glob_grid")  
Grid  
  
<a name="autolay_grids_issharedsizescope"></a>   
## <a name="automatic-layout-and-grids-using-the-issharedsizescope-property"></a>Автоматическая разметка и сетки, использующие свойство IsSharedSizeScope  
 Объект <xref:System.Windows.Controls.Grid> полезен в локализуемых приложениях для создания элементов управления, чтобы вместить содержимое. Однако иногда требуется, чтобы элемент управления сохранял определенный размер, независимо от содержимого. Например, если имеются кнопки ОК, "Отмена" и "Обзор", то, возможно, не требуется выравнивать размер этих кнопок по размеру содержимого. В этом случае <xref:System.Windows.Controls.Grid.IsSharedSizeScope%2A?displayProperty=nameWithType> присоединенное свойство полезно для общего использования одного размера несколькими элементами сетки. В следующем примере демонстрируется совместное использование столбцов и строк, изменение размера данных между несколькими <xref:System.Windows.Controls.Grid> элементов.  
  
 [!code-xaml[gridIssharedsizescopeProp#2](~/samples/snippets/csharp/VS_Snippets_Wpf/gridIssharedsizescopeProp/CSharp/Window1.xaml#2)]  
  
 **Примечание** полный пример кода, см. в разделе [общей папки свойств размера между сетками](../controls/how-to-share-sizing-properties-between-grids.md)  
  
## <a name="see-also"></a>См. также

- [Глобализация для WPF](globalization-for-wpf.md)
- [Использование автоматического макета для создания кнопки](how-to-use-automatic-layout-to-create-a-button.md)
- [Использование сетки для автоматического макета](how-to-use-a-grid-for-automatic-layout.md)
