<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1044;&#1074;&#1086;&#1081;&#1085;&#1072;&#1103; &#1073;&#1091;&#1092;&#1077;&#1088;&#1080;&#1079;&#1072;&#1094;&#1080;&#1103; &#1075;&#1088;&#1072;&#1092;&#1080;&#1082;&#1080; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1044;&#1074;&#1086;&#1081;&#1085;&#1072;&#1103; &#1073;&#1091;&#1092;&#1077;&#1088;&#1080;&#1079;&#1072;&#1094;&#1080;&#1103; &#1075;&#1088;&#1072;&#1092;&#1080;&#1082;&#1080; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="double-buffered-graphics">Двойная буферизация графики</h1>

<p>Мерцание является распространенной проблемой при программировании графики. Графические операции, требующие нескольких сложных операций рисования, могут вызвать мерцание отображаемых изображений или иным образом нарушить их восприятие. Чтобы устранить эти проблемы, .NET Framework предоставляет доступ к двойной буферизации.</p>
<p>Двойная буферизация использует буфер памяти для решения проблем мерцания, связанных с несколькими операциями рисования. Если двойная буферизация включена, все операции рисования сначала обрабатываются в буфере памяти вместо области рисования на экране. После завершения всех операций рисования буфер памяти копируется непосредственно в связанную с ним область рисования. Поскольку на экране выполняется лишь одна графическая операция, удается избежать мерцания, связанного со сложными операциями рисования.</p>
<h2 id="default-double-buffering">Двойная буферизация по умолчанию</h2>
<p>Самый простой способ использования двойной буферизации в приложении — использование двойной буферизации по умолчанию для форм и элементов управления, предоставляемой .NET Framework. Вы можете включить двойную буферизацию для форм Windows и элементах управления Windows, задав <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.forms.control.doublebuffered">DoubleBuffered</a> свойства <code>true</code> или с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.forms.control.setstyle">SetStyle</a> метод. Дополнительные сведения см. в разделе <a href="how-to-reduce-graphics-flicker-with-double-buffering-for-forms-and-controls.html">Как Уменьшить мерцания изображения посредством двойной буферизации для форм и элементов управления</a>.</p>
<h2 id="manually-managing-buffered-graphics">Управление буферизацией графики вручную</h2>
<p>В более сложных сценариях буферизации, например при анимации или сложном управлении памятью, можно использовать классы .NET Framework для реализации вашей собственной логики двойной буферизации. Класс, отвечающий за выделение и управление ими отдельных буферов графики является <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> класса. Каждый домен приложения имеет свой собственный по умолчанию <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> экземпляр, который управляет всеми двойную буферизацию для этого приложения. В большинстве случаев будет существовать только один домен приложения для каждого приложения, поэтому обычно одно значение по умолчанию <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> каждого приложения. По умолчанию <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> управляет экземплярами это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicsmanager">BufferedGraphicsManager</a> класса. Можно получить ссылку на значение по умолчанию <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> экземпляра путем вызова <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicsmanager.current">Current</a>. Вы также можете создать выделенное <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> экземпляр, который может повысить производительность для насыщенных графикой приложений. Сведения о создании <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> экземпляра, см. в разделе <a href="how-to-manually-manage-buffered-graphics.html">как: Управление буферизацией графики</a>.</p>
<h2 id="manually-displaying-buffered-graphics">Вывод буферизованной графики вручную</h2>
<p>Можно использовать экземпляр <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a> класс для создания графических буферов путем вызова <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext.allocate">BufferedGraphicsContext.Allocate</a>, который возвращает экземпляр <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphics">BufferedGraphics</a> класса. Объект <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphics">BufferedGraphics</a> объекта управляет буфером памяти, который связан с областью отрисовки, например формы или элемента управления.</p>
<p>После создания его экземпляра, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphics">BufferedGraphics</a> класс управляет отрисовкой в буфере графики в памяти. Можно вывести графики в буфере памяти с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphics.graphics">Graphics</a>, который предоставляет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.graphics">Graphics</a> , непосредственно представляющий буфер памяти. Можно рисовать к этому <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.graphics">Graphics</a> объект так же, как и для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.graphics">Graphics</a> , представляющий поверхность рисования. После всей графики в буфере, можно использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphics.render">BufferedGraphics.Render</a> следует скопировать содержимое буфера на поверхность рисования на экране.</p>
<p>Дополнительные сведения об использовании <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphics">BufferedGraphics</a> , представлена в разделе <a href="how-to-manually-render-buffered-graphics.html">отрисовке буферизированной графики вручную</a>. Дополнительные сведения об отрисовке графики см. в разделе <a href="graphics-and-drawing-in-windows-forms.html">Объекты Graphics и Drawing в Windows Forms</a>.</p>
<h2 id="see-also">См. также</h2>
<ul>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphics">BufferedGraphics</a></li>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicscontext">BufferedGraphicsContext</a></li>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.drawing.bufferedgraphicsmanager">BufferedGraphicsManager</a></li>
<li><a href="how-to-manually-render-buffered-graphics.html">Практическое руководство. Отрисовка буферизированной графики вручную</a></li>
<li><a href="how-to-reduce-graphics-flicker-with-double-buffering-for-forms-and-controls.html">Практическое руководство. Уменьшение эффекта дрожания изображения посредством двойной буферизации для форм и элементов управления</a></li>
<li><a href="how-to-manually-manage-buffered-graphics.html">Практическое руководство. Управление буферизацией графики вручную</a></li>
<li><a href="graphics-and-drawing-in-windows-forms.html">Объекты Graphics и Drawing в Windows Forms</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
