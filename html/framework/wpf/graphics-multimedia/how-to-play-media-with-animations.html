<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1055;&#1088;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1042;&#1086;&#1089;&#1087;&#1088;&#1086;&#1080;&#1079;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1077; &#1084;&#1091;&#1083;&#1100;&#1090;&#1080;&#1084;&#1077;&#1076;&#1080;&#1072; &#1089; &#1072;&#1085;&#1080;&#1084;&#1072;&#1094;&#1080;&#1077;&#1081; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1055;&#1088;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1042;&#1086;&#1089;&#1087;&#1088;&#1086;&#1080;&#1079;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1077; &#1084;&#1091;&#1083;&#1100;&#1090;&#1080;&#1084;&#1077;&#1076;&#1080;&#1072; &#1089; &#1072;&#1085;&#1080;&#1084;&#1072;&#1094;&#1080;&#1077;&#1081; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="how-to-play-media-with-animations">Практическое руководство. Воспроизведение мультимедиа с анимацией</h1>

<p>В этом примере показано, как воспроизвести мультимедиа и анимацию одновременно с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.mediatimeline">MediaTimeline</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimationusingkeyframes">DoubleAnimationUsingKeyFrames</a> классы в одном <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.storyboard">Storyboard</a>.</p>
<h2 id="example">Пример</h2>
<p>Можно использовать один или несколько <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.mediatimeline">MediaTimeline</a> объекты в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.storyboard">Storyboard</a> другим <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.timeline">Timeline</a> объекты, такие как анимации.</p>
<p>В следующем примере задается <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.paralleltimeline.slipbehavior">SlipBehavior</a> свойство <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.storyboard">Storyboard</a> значение <code>Slip</code>, которое указывает, что анимация не выполняется до выполнения мультимедиа (видео в этом примере). Эта возможность может потребоваться, если воспроизведение мультимедиа задерживается из-за времени загрузки.</p>
<pre><code class="lang-xaml" name="MediaGallery_snippet#MediaTimelinePlusAnimationExampleWholePage">&lt;Page xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
  xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot; &gt;
  &lt;Canvas&gt;

    &lt;!-- Upper right hand Canvas contains the animations. --&gt;
    &lt;Border BorderBrush=&quot;Black&quot; BorderThickness=&quot;1&quot;  Canvas.Left=&quot;250&quot;&gt;
      &lt;Canvas Width=&quot;250&quot; Height=&quot;250&quot; Background=&quot;White&quot; &gt;

        &lt;!-- The two Path elements below create the purple and gold rings
             which are animated while the media is played. --&gt;
        &lt;Path Stroke=&quot;Purple&quot; StrokeThickness=&quot;5&quot;&gt;
          &lt;Path.Data&gt;
            &lt;EllipseGeometry x:Name=&quot;MyEllipseGeometry&quot; 
            Center=&quot;125,125&quot; RadiusX=&quot;15&quot; RadiusY=&quot;10&quot; /&gt;
          &lt;/Path.Data&gt;
        &lt;/Path&gt;
        &lt;Path Stroke=&quot;Gold&quot; StrokeThickness=&quot;5&quot;&gt;
          &lt;Path.Data&gt;
            &lt;EllipseGeometry x:Name=&quot;MyEllipseGeometry2&quot; 
            Center=&quot;125,125&quot; RadiusX=&quot;10&quot; RadiusY=&quot;15&quot; /&gt;
          &lt;/Path.Data&gt;
        &lt;/Path&gt;
      &lt;/Canvas&gt;
    &lt;/Border&gt;

    &lt;!-- Upper left hand Canvas contains the video. --&gt;
    &lt;Canvas Width=&quot;250&quot; Height=&quot;250&quot; Background=&quot;Green&quot;&gt;
      &lt;MediaElement Name=&quot;myvideo&quot; Width=&quot;250&quot; Height=&quot;250&quot; 
       Canvas.Left=&quot;0&quot; Canvas.Top=&quot;0&quot;&gt;
        &lt;MediaElement.Triggers&gt;
          &lt;EventTrigger RoutedEvent=&quot;MediaElement.Loaded&quot;&gt;
            &lt;EventTrigger.Actions&gt;
              &lt;BeginStoryboard&gt;

                &lt;!-- This Storyboard contains both media (video in this example) and animations. Note 
               the SlipBehavior value of &quot;Slip&quot; specifies that the animation does not progress
               until the media progresses. This might be desirable if media playback is delayed
               because of loading time. --&gt;
                &lt;Storyboard SlipBehavior=&quot;Slip&quot;&gt;

                  &lt;!-- The MediaTimeline controls the timing of the video and acts like other Timeline objects.  
                 For example, although the video clip (numbers.wmv) lasts longer, playback ends after six  
                 seconds because that is the duration of the MediaTimeline (Duration=&quot;0:0:6&quot;). --&gt;
                  &lt;MediaTimeline Source=&quot;media\numbers.wmv&quot; BeginTime=&quot;0:0:0&quot; Duration=&quot;0:0:10&quot;/&gt;

                  &lt;!-- The animations below animate the ellipses in the right hand pane. These animations are 
                 timed to correspond to the counting in the video. --&gt;

                  &lt;!-- Animate the RadiusY property of the purple ellipse. --&gt;
                  &lt;DoubleAnimationUsingKeyFrames
                    Storyboard.TargetName=&quot;MyEllipseGeometry&quot;
                    Storyboard.TargetProperty=&quot;RadiusY&quot;
                    RepeatBehavior=&quot;10x&quot;&gt;
                    &lt;DoubleAnimationUsingKeyFrames.KeyFrames&gt;
                      &lt;LinearDoubleKeyFrame Value=&quot;80&quot; KeyTime=&quot;0:0:0.4&quot; /&gt;
                      &lt;SplineDoubleKeyFrame KeySpline=&quot;0.6,0.0 0.9,0.00&quot; Value=&quot;0&quot; KeyTime=&quot;0:0:1&quot; /&gt;
                    &lt;/DoubleAnimationUsingKeyFrames.KeyFrames&gt;
                  &lt;/DoubleAnimationUsingKeyFrames&gt;

                  &lt;!-- Animate the RadiusX property of the gold ellipse. --&gt;
                  &lt;DoubleAnimationUsingKeyFrames
                    Storyboard.TargetName=&quot;MyEllipseGeometry2&quot;
                    Storyboard.TargetProperty=&quot;RadiusX&quot;
                    RepeatBehavior=&quot;10x&quot;&gt;
                    &lt;DoubleAnimationUsingKeyFrames.KeyFrames&gt;
                      &lt;LinearDoubleKeyFrame Value=&quot;80&quot; KeyTime=&quot;0:0:0.4&quot; /&gt;
                      &lt;SplineDoubleKeyFrame KeySpline=&quot;0.6,0.0 0.9,0.00&quot; Value=&quot;0&quot; KeyTime=&quot;0:0:1&quot; /&gt;
                    &lt;/DoubleAnimationUsingKeyFrames.KeyFrames&gt;
                  &lt;/DoubleAnimationUsingKeyFrames&gt;

                &lt;/Storyboard&gt;
              &lt;/BeginStoryboard&gt;
            &lt;/EventTrigger.Actions&gt;
          &lt;/EventTrigger&gt;
        &lt;/MediaElement.Triggers&gt;
      &lt;/MediaElement&gt;
    &lt;/Canvas&gt;
    
  &lt;/Canvas&gt;
&lt;/Page&gt;
</code></pre><h2 id="see-also">См. также</h2>
<ul>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.mediatimeline">MediaTimeline</a></li>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimationusingkeyframes">DoubleAnimationUsingKeyFrames</a></li>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.storyboard">Storyboard</a></li>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.paralleltimeline.slipbehavior">SlipBehavior</a></li>
<li><a href="audio-and-video-how-to-topics.html">Практические руководства</a></li>
<li><a href="storyboards-overview.html">Общие сведения о Storyboard</a></li>
<li><a href="key-frame-animations-overview.html">Общие сведения об анимации по ключевым кадрам</a></li>
<li><a href="animation-overview.html">Общие сведения об эффектах анимации</a></li>
<li><a href="index.html">Графика и мультимедиа</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
