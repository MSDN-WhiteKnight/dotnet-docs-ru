<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1055;&#1088;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1053;&#1072;&#1082;&#1072;&#1087;&#1083;&#1080;&#1074;&#1072;&#1085;&#1080;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1081; &#1072;&#1085;&#1080;&#1084;&#1072;&#1094;&#1080;&#1080; &#1074; &#1087;&#1086;&#1074;&#1090;&#1086;&#1088;&#1103;&#1102;&#1097;&#1080;&#1093;&#1089;&#1103; &#1094;&#1080;&#1082;&#1083;&#1072;&#1093; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1055;&#1088;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1053;&#1072;&#1082;&#1072;&#1087;&#1083;&#1080;&#1074;&#1072;&#1085;&#1080;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1081; &#1072;&#1085;&#1080;&#1084;&#1072;&#1094;&#1080;&#1080; &#1074; &#1087;&#1086;&#1074;&#1090;&#1086;&#1088;&#1103;&#1102;&#1097;&#1080;&#1093;&#1089;&#1103; &#1094;&#1080;&#1082;&#1083;&#1072;&#1093; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="how-to-accumulate-animation-values-during-repeat-cycles">Практическое руководство. Накапливание значений анимации в повторяющихся циклах</h1>

<p>В этом примере показано, как использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimation.iscumulative">IsCumulative</a> свойство к накоплению значений анимации в повторяющихся циклах.</p>
<h2 id="example">Пример</h2>
<p>Используйте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimation.iscumulative">IsCumulative</a> свойство к накоплению значений анимации в повторяющихся циклах. Например, если выбрать Повтор 9 раз анимации (<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.timeline.repeatbehavior">RepeatBehavior</a> = «9 x») и задать свойство для анимации в диапазоне от 10 до 15 (From = 10 = 15), свойство анимируется от 10 до 15 во время первого цикла, от 15 до 20 во время второго цикла , от 20 до 25 во время третьего цикла и т. д. Таким образом каждый цикл анимации использует конечное значение анимации из предыдущего цикла анимации в качестве базового.</p>
<p>Можно использовать <code>IsCumulative</code> свойство с большинством базовых анимаций и большинство анимации ключевого кадра. Дополнительные сведения см. в разделе <a href="animation-overview.html">Общие сведения об анимации</a> и <a href="key-frame-animations-overview.html">сведения об анимации по ключевым кадрам</a>.</p>
<p>В следующем примере показано такое поведение при анимации ширины четыре прямоугольника. Пример:</p>
<ul>
<li><p>Анимирует первый прямоугольник с <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimation">DoubleAnimation</a> и задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimation.iscumulative">IsCumulative</a> свойства <code>true</code>.</p>
</li>
<li><p>Анимирует второй прямоугольник с <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimation">DoubleAnimation</a> и задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimation.iscumulative">IsCumulative</a> присваивается значение по умолчанию <code>false</code>.</p>
</li>
<li><p>Анимирует третий прямоугольник с <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimationusingkeyframes">DoubleAnimationUsingKeyFrames</a> и задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimationusingkeyframes.iscumulative">IsCumulative</a> свойства <code>true</code>.</p>
</li>
<li><p>Анимирует последний прямоугольник с <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimationusingkeyframes">DoubleAnimationUsingKeyFrames</a> и задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimationusingkeyframes.iscumulative">IsCumulative</a> свойства <code>false</code>.</p>
</li>
</ul>
<pre><code class="lang-xaml" name="timingbehaviors_snip#IsCumulativeWholePage">&lt;Page 
  xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot; 
  xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;&gt;
  &lt;StackPanel Margin=&quot;20&quot; &gt;

    &lt;!-- This rectangle is animated with DoubleAnimation and IsCumulative set to &quot;True&quot;. --&gt;
    &lt;Rectangle Name=&quot;withIsCumulative&quot;
      Width=&quot;100&quot; Height=&quot;20&quot; Margin=&quot;12,0,0,5&quot; Fill=&quot;#AA3333FF&quot; HorizontalAlignment=&quot;Left&quot; /&gt;

    &lt;!-- This rectangle is animated with DoubleAnimation and IsCumulative set to &quot;False&quot;. --&gt;
    &lt;Rectangle Name=&quot;withoutIsCumulative&quot;
      Width=&quot;100&quot; Height=&quot;20&quot; Margin=&quot;12,0,0,5&quot; Fill=&quot;#AA3333FF&quot; HorizontalAlignment=&quot;Left&quot; /&gt;

    &lt;!-- This rectangle is animated with DoubleAnimationUsingKeyFrames and IsCumulative set to &quot;True&quot;. --&gt;
    &lt;Rectangle Name=&quot;withIsCumulativeUsingKeyFrames&quot;
      Width=&quot;100&quot; Height=&quot;20&quot; Margin=&quot;12,0,0,5&quot; Fill=&quot;#AA3333FF&quot; HorizontalAlignment=&quot;Left&quot; /&gt;

    &lt;!-- This rectangle is animated with DoubleAnimationUsingKeyFrames and IsCumulative set to &quot;False&quot;. --&gt;
    &lt;Rectangle Name=&quot;withoutIsCumulativeUsingKeyFrames&quot;
      Width=&quot;100&quot; Height=&quot;20&quot; Margin=&quot;12,0,0,5&quot; Fill=&quot;#AA3333FF&quot; HorizontalAlignment=&quot;Left&quot; /&gt;

    &lt;!-- Create a button to restart the animations. --&gt;
    &lt;Button Margin=&quot;0,30,0,0&quot; HorizontalAlignment=&quot;Left&quot;&gt;
      Restart Animations
      &lt;Button.Triggers&gt;
        &lt;EventTrigger RoutedEvent=&quot;Button.Click&quot;&gt;
          &lt;BeginStoryboard&gt;
            &lt;Storyboard&gt;

              &lt;!-- DoubleAnimation with IsCumulative set to &quot;True&quot;. Because IsCumulative is set to &quot;True&quot;, 
                   the base values of the animation will accumulate over repeat cycles. In this example, the
                   first iteration will be from 100 to 200, the second will be from 200 to 300, the third from
                   300 to 400, etc. --&gt;
              &lt;DoubleAnimation 
                Storyboard.TargetName=&quot;withIsCumulative&quot; 
                Storyboard.TargetProperty=&quot;Width&quot; 
                RepeatBehavior=&quot;4x&quot;
                AutoReverse=&quot;True&quot;
                IsCumulative=&quot;True&quot;
                Duration=&quot;0:0:3&quot; From=&quot;100&quot; To=&quot;200&quot; /&gt;

              &lt;!-- DoubleAnimation with IsCumulative set to &quot;False&quot;. The starting value 100 pixels and repeat 
                   cycles do not build on earlier ones. --&gt;
              &lt;DoubleAnimation 
                Storyboard.TargetName=&quot;withoutIsCumulative&quot; 
                Storyboard.TargetProperty=&quot;Width&quot; 
                RepeatBehavior=&quot;4x&quot;
                AutoReverse=&quot;True&quot;
                IsCumulative=&quot;False&quot;
                Duration=&quot;0:0:3&quot; From=&quot;100&quot; To=&quot;200&quot; /&gt;

              &lt;!-- DoubleAnimationUsingKeyFrames with IsCumulative set to &quot;True&quot;. Similar to the DoubleAnimation
                   above, the base value of each cycle builds on the last one. Note that the output value
                   is the total output value from all the key frames for a total output of 100 pixels. --&gt;
              &lt;DoubleAnimationUsingKeyFrames
                Storyboard.TargetName=&quot;withIsCumulativeUsingKeyFrames&quot;
                Storyboard.TargetProperty=&quot;Width&quot;
                RepeatBehavior=&quot;4x&quot;
                AutoReverse=&quot;True&quot;
                IsCumulative=&quot;True&quot; &gt;
                &lt;DoubleAnimationUsingKeyFrames.KeyFrames&gt;
                  &lt;LinearDoubleKeyFrame Value=&quot;100&quot; KeyTime=&quot;0:0:0&quot; /&gt;
                  &lt;LinearDoubleKeyFrame Value=&quot;130&quot; KeyTime=&quot;0:0:1&quot; /&gt;
                  &lt;SplineDoubleKeyFrame KeySpline=&quot;0.6,0.0 0.9,0.00&quot; Value=&quot;200&quot; KeyTime=&quot;0:0:3&quot; /&gt;
                &lt;/DoubleAnimationUsingKeyFrames.KeyFrames&gt;
              &lt;/DoubleAnimationUsingKeyFrames&gt;

              &lt;!-- DoubleAnimationUsingKeyFrames with IsCumulative set to &quot;False&quot;. The base value of each cycle
                   does not build on the last one. --&gt;
              &lt;DoubleAnimationUsingKeyFrames
                Storyboard.TargetName=&quot;withoutIsCumulativeUsingKeyFrames&quot;
                Storyboard.TargetProperty=&quot;Width&quot;
                RepeatBehavior=&quot;4x&quot;
                AutoReverse=&quot;True&quot;
                IsCumulative=&quot;False&quot; &gt;
                &lt;DoubleAnimationUsingKeyFrames.KeyFrames&gt;
                  &lt;LinearDoubleKeyFrame Value=&quot;100&quot; KeyTime=&quot;0:0:0&quot; /&gt;
                  &lt;LinearDoubleKeyFrame Value=&quot;130&quot; KeyTime=&quot;0:0:1&quot; /&gt;
                  &lt;SplineDoubleKeyFrame KeySpline=&quot;0.6,0.0 0.9,0.00&quot; Value=&quot;200&quot; KeyTime=&quot;0:0:3&quot; /&gt;
                &lt;/DoubleAnimationUsingKeyFrames.KeyFrames&gt;
              &lt;/DoubleAnimationUsingKeyFrames&gt;

            &lt;/Storyboard&gt;

          &lt;/BeginStoryboard&gt;
        &lt;/EventTrigger&gt;
      &lt;/Button.Triggers&gt;
    &lt;/Button&gt;
  &lt;/StackPanel&gt;
&lt;/Page&gt;
</code></pre><h2 id="see-also">См. также</h2>
<ul>
<li><a href="how-to-add-an-animation-output-value-to-an-animation-starting-value.html">Добавление выходного значения анимации к начальному значению анимации</a></li>
<li><a href="how-to-repeat-an-animation.html">Повторение анимации</a></li>
<li><a href="animation-overview.html">Общие сведения об эффектах анимации</a></li>
<li><a href="key-frame-animations-overview.html">Общие сведения об анимации по ключевым кадрам</a></li>
<li><a href="animation-and-timing-how-to-topics.html">Практические руководства</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
