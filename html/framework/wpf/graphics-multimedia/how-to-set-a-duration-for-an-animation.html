<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1055;&#1088;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1054;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1077; &#1076;&#1083;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;&#1089;&#1090;&#1080; &#1072;&#1085;&#1080;&#1084;&#1072;&#1094;&#1080;&#1080; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1055;&#1088;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1054;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1077; &#1076;&#1083;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;&#1089;&#1090;&#1080; &#1072;&#1085;&#1080;&#1084;&#1072;&#1094;&#1080;&#1080; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="how-to-set-a-duration-for-an-animation">Практическое руководство. Определение длительности анимации</h1>

<p>Объект <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.timeline">Timeline</a> представляет сегмент времени и длина этого сегмента определяется временной шкалы <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.duration">Duration</a>. Когда <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.timeline">Timeline</a> достигает окончания своей длительности, воспроизведение прекращается. Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.timeline">Timeline</a> имеет дочерние временные шкалы, их воспроизведение также останавливается. В случае анимации <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.duration">Duration</a> указывает, сколько требуется для анимации перехода от начального к конечному значению.</p>
<p>Можно указать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.duration">Duration</a> с определенным, ограниченным временем или специальных значений <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.duration.automatic">Automatic</a> или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.duration.forever">Forever</a>. Длительность анимации должна включать значение времени, так как анимации всегда должны иметь определенную, ограниченную длину — в противном случае анимации не известно, как выполнять переход между значениями. Временные шкалы контейнера (<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.timelinegroup">TimelineGroup</a> объекты), такие как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.storyboard">Storyboard</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.paralleltimeline">ParallelTimeline</a>, имеют по умолчанию продолжительность <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.duration.automatic">Automatic</a>, то есть они автоматически завершаются после последнего дочернего останавливает воспроизведение.</p>
<p>В следующем примере, ширину, высоту и заливки цвет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle">Rectangle</a> анимируется. Длительность, установленная для временных шкал анимации и контейнер, приводит к эффекты анимации, включая управление скоростью анимации и переопределение продолжительность дочерних шкал времени длительностью временной шкалы контейнера.</p>
<h2 id="example">Пример</h2>
<pre><code class="lang-xaml" name="timingbehaviors_snip#DurationExampleWholePage">&lt;Page 
  xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot; 
  xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;&gt;
  &lt;StackPanel Margin=&quot;20&quot;&gt;
  
    &lt;Rectangle Width=&quot;100&quot; Height=&quot;100&quot; Name=&quot;myRectangle&quot;&gt;
      &lt;Rectangle.Fill&gt;
        &lt;SolidColorBrush x:Name=&quot;MyAnimatedBrush&quot; Color=&quot;Black&quot; /&gt;
      &lt;/Rectangle.Fill&gt;
      &lt;Rectangle.Triggers&gt;
      
        &lt;!-- Animates the rectangle fill to yellow and width to 300. --&gt;
        &lt;EventTrigger RoutedEvent=&quot;Rectangle.Loaded&quot;&gt;
          &lt;BeginStoryboard&gt;

            &lt;!-- By default, TimelineGroup objects like Storyboard and ParallelTimeline have 
            a Duration of &quot;Automatic&quot;. A TimelineGroup's automatic duration encompasses its 
            last-ending child. In this example, there is only one child of the Storyboard, the
            ParallelTimeline, so when the ParallelTimeline ends, the Storyboard duration will
            automatically end. --&gt;
            &lt;Storyboard&gt;

              &lt;!-- This ParallelTimeline has overriden its default duration of &quot;Automatic&quot; with
              a finite duration of half a second. This will force this Timeline to end after half a
              second even though its child Timelines have a longer duration (2 and 4 seconds respectively). 
              This cuts off the animation prematurely and the rectangle's fill will not go all the way to 
              yellow nor will the rectangle width get all the way to 300. Again, the default duration of a
              ParallelTimeline is &quot;Automatic&quot; so if you remove the finite duration, the ParallelTimeline
              will wait for its child timelines to end before it ends. --&gt;

              &lt;!-- Note: To specify a finite time in XAML, use the syntax of &quot;days:hours:seconds&quot;. As mentioned,
              this ParallelTimeline has a duration of half a second. --&gt;
              &lt;ParallelTimeline Duration=&quot;0:0:0.5&quot;&gt;

                &lt;!-- For Animation Timelines like DoubleAnimation, the duration is one factor that
                determines the rate at which an animation appears to progress. For example, the DoubleAnimation
                below that animates the rectangle height will complete in only one second while the animation
                that animates the width willwill complete in 2 seconds which is relatively fast compared to the DoubleAnimation
                which animates the rectangle width over 4 seconds. --&gt;
                &lt;DoubleAnimation
                  Storyboard.TargetName=&quot;myRectangle&quot;
                  Storyboard.TargetProperty=&quot;Height&quot;
                  To=&quot;300&quot; Duration=&quot;0:0:1&quot; /&gt;

                &lt;DoubleAnimation
                  Storyboard.TargetName=&quot;myRectangle&quot;
                  Storyboard.TargetProperty=&quot;Width&quot;
                  To=&quot;300&quot; Duration=&quot;0:0:4&quot; /&gt;

                &lt;ColorAnimation
                  Storyboard.TargetName=&quot;MyAnimatedBrush&quot;
                  Storyboard.TargetProperty=&quot;Color&quot;
                  To=&quot;Yellow&quot; Duration=&quot;0:0:2&quot; /&gt;

              &lt;/ParallelTimeline&gt;
            &lt;/Storyboard&gt;
          &lt;/BeginStoryboard&gt;
        &lt;/EventTrigger&gt;
        
      &lt;/Rectangle.Triggers&gt;
    &lt;/Rectangle&gt;
  &lt;/StackPanel&gt;
&lt;/Page&gt;
</code></pre><h2 id="see-also">См. также</h2>
<ul>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.duration">Duration</a></li>
<li><a href="animation-overview.html">Общие сведения об эффектах анимации</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
