<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1060;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; &#1087;&#1083;&#1072;&#1074;&#1085;&#1086;&#1089;&#1090;&#1080; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1060;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; &#1087;&#1083;&#1072;&#1074;&#1085;&#1086;&#1089;&#1090;&#1080; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="easing-functions">Функции плавности</h1>

<p>Функции плавности позволяют применять к анимациям настраиваемые математические формулы. Например, требуется реалистичный отскок объекта или его поведение так, словно он подвешен на пружине. Для приблизительного воспроизведения этих эффектов можно использовать анимацию по ключевым кадрам или даже анимацию From/To/By, но это потребует значительного объема работы, и анимация будет менее точна, чем при использовании математических формул.</p>
<p>Помимо создания собственной функции плавности путем наследования от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingfunctionbase">EasingFunctionBase</a>, можно использовать один из функций плавности, предоставляемых средой выполнения для создания распространенных эффектов.</p>
<ul>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.backease">BackEase</a>: Возвращающую движение анимации немного, прежде чем она начнет выполняться по заданному пути.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.bounceease">BounceEase</a>: Создает эффект отскока.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.circleease">CircleEase</a>: Создает анимацию, которая ускоряется и замедляется с помощью тригонометрической функции.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.cubicease">CubicEase</a>: Создает анимацию, которая ускоряется и/или замедляется по формуле <em>f</em>(<em>t</em>) = <em>t</em><sup>3</sup>.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.elasticease">ElasticEase</a>: Создает анимацию, которая напоминает пружину, и обратно до до полного успокоения.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.exponentialease">ExponentialEase</a>: Создает анимацию, которая ускоряется и замедляется с помощью экспоненциальной формулы.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.powerease">PowerEase</a>: Создает анимацию, которая ускоряется и/или замедляется по формуле <em>f</em>(<em>t</em>) = <em>t</em><sup>p</sup> где p равно значению <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.powerease.power">Power</a>свойство.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quadraticease">QuadraticEase</a>: Создает анимацию, которая ускоряется и/или замедляется по формуле <em>f</em>(<em>t</em>) = <em>t</em><sup>2</sup>.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quarticease">QuarticEase</a>: Создает анимацию, которая ускоряется и/или замедляется по формуле <em>f</em>(<em>t</em>) = <em>t</em><sup>4</sup>.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quinticease">QuinticEase</a>: Создать анимацию, которая ускоряется и/или замедляется по формуле <em>f</em>(<em>t</em>) = <em>t</em><sup>5</sup>.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.sineease">SineEase</a>: Создает анимацию, которая ускоряется и/или замедляется по формуле синуса.</p>
</li>
</ul>
<p>Для применения функции плавности к анимации, используйте <code>EasingFunction</code> свойства анимации указания функции плавности для применения к анимации. В следующем примере применяется <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.bounceease">BounceEase</a> функцию для реалистичной анимации <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.doubleanimation">DoubleAnimation</a> для создания эффекта отскока.</p>
<pre><code class="lang-xaml" name="BounceEase_snippet#BounceEase">&lt;Rectangle Name=&quot;myRectangle&quot; Width=&quot;200&quot; Height=&quot;30&quot; Fill=&quot;Blue&quot;&gt;
    &lt;Rectangle.Triggers&gt;
        &lt;EventTrigger RoutedEvent=&quot;Rectangle.MouseDown&quot;&gt;
            &lt;BeginStoryboard&gt;
                &lt;Storyboard&gt;
                    &lt;Storyboard x:Name=&quot;myStoryboard&quot;&gt;
                        &lt;DoubleAnimation From=&quot;30&quot; To=&quot;200&quot; Duration=&quot;00:00:3&quot; 
                         Storyboard.TargetName=&quot;myRectangle&quot; 
                         Storyboard.TargetProperty=&quot;Height&quot;&gt;
                            &lt;DoubleAnimation.EasingFunction&gt;
                                &lt;BounceEase Bounces=&quot;2&quot; EasingMode=&quot;EaseOut&quot; 
                                 Bounciness=&quot;2&quot; /&gt;
                            &lt;/DoubleAnimation.EasingFunction&gt;
                        &lt;/DoubleAnimation&gt;
                    &lt;/Storyboard&gt;
                &lt;/Storyboard&gt;
            &lt;/BeginStoryboard&gt;
        &lt;/EventTrigger&gt;
    &lt;/Rectangle.Triggers&gt;
&lt;/Rectangle&gt;
</code></pre>
<p>В предыдущем примере функция плавности применялась к анимации From/To/By. Эти функции плавности можно применять и к анимации по ключевым кадрам. В следующем примере показано, как использовать ключевые кадры с функциями плавности для создания анимации прямоугольника, который сокращается вверх, замедляется вниз, затем расширяется вниз (как будто падает), а затем подпрыгивает до остановки.</p>
<pre><code class="lang-xaml" name="EasingFunctionDoubleKeyFrame_snippet#EasingFunctionDoubleKeyFrame">&lt;Rectangle Name=&quot;myRectangle&quot; Width=&quot;200&quot; Height=&quot;200&quot; Fill=&quot;Blue&quot;&gt;
    &lt;Rectangle.Triggers&gt;
        &lt;EventTrigger RoutedEvent=&quot;Rectangle.MouseDown&quot;&gt;
            &lt;BeginStoryboard&gt;
                &lt;Storyboard&gt;
                    &lt;DoubleAnimationUsingKeyFrames
                     Storyboard.TargetProperty=&quot;Height&quot;
                     Storyboard.TargetName=&quot;myRectangle&quot;&gt;

                        &lt;!-- This keyframe animates the ellipse up to the crest 
                             where it slows down and stops. --&gt;
                        &lt;EasingDoubleKeyFrame Value=&quot;30&quot; KeyTime=&quot;00:00:02&quot;&gt;
                            &lt;EasingDoubleKeyFrame.EasingFunction&gt;
                                &lt;CubicEase EasingMode=&quot;EaseOut&quot;/&gt;
                            &lt;/EasingDoubleKeyFrame.EasingFunction&gt;
                        &lt;/EasingDoubleKeyFrame&gt;

                        &lt;!-- This keyframe animates the ellipse back down and makes
                             it bounce. --&gt;
                        &lt;EasingDoubleKeyFrame Value=&quot;200&quot; KeyTime=&quot;00:00:06&quot;&gt;
                            &lt;EasingDoubleKeyFrame.EasingFunction&gt;
                                &lt;BounceEase Bounces=&quot;5&quot; EasingMode=&quot;EaseOut&quot;/&gt;
                            &lt;/EasingDoubleKeyFrame.EasingFunction&gt;
                        &lt;/EasingDoubleKeyFrame&gt;

                    &lt;/DoubleAnimationUsingKeyFrames&gt;
                &lt;/Storyboard&gt;
            &lt;/BeginStoryboard&gt;
        &lt;/EventTrigger&gt;
    &lt;/Rectangle.Triggers&gt;

&lt;/Rectangle&gt;
</code></pre>
<p>Можно использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingfunctionbase.easingmode">EasingMode</a> свойство для изменения, как функция плавности ведет себя, то есть изменить способ интерполяции анимации. Существует три возможных значения, можно задать для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingfunctionbase.easingmode">EasingMode</a>:</p>
<ul>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingmode#System_Windows_Media_Animation_EasingMode_EaseIn">EaseIn</a>: Интерполяция следует математической формуле, связанной с функцией плавности.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingmode#System_Windows_Media_Animation_EasingMode_EaseOut">EaseOut</a>: Интерполяция следует 100-процентную интерполяцию за вычетом выходного значения формулы, связанной с функцией плавности.</p>
</li>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingmode#System_Windows_Media_Animation_EasingMode_EaseInOut">EaseInOut</a>: Интерполяция использует <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingmode#System_Windows_Media_Animation_EasingMode_EaseIn">EaseIn</a> для первой половины анимации и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingmode#System_Windows_Media_Animation_EasingMode_EaseOut">EaseOut</a> во второй половине.</p>
</li>
</ul>
<p>На следующих диаграммах показаны различные значения <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingfunctionbase.easingmode">EasingMode</a> где <em>f</em>(<em>x</em>) обозначает ход анимации и <em>t</em> представляет время.</p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.backease">BackEase</a></p>
<p><img src="media/backease-graph.png" alt="Схемы BackEase EasingMode." title="BackEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.bounceease">BounceEase</a></p>
<p><img src="media/bounceease-graph.png" alt="Схемы BounceEase EasingMode." title="BounceEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.circleease">CircleEase</a></p>
<p><img src="media/circleease-graph.png" alt="Схемы CircleEase EasingMode." title="CircleEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.cubicease">CubicEase</a></p>
<p><img src="media/cubicease-graph.png" alt="Схемы CubicEase EasingMode." title="CubicEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.elasticease">ElasticEase</a></p>
<p><img src="media/elasticease-graph.png" alt="Схемы ElasticEase для различных значений EasingMode." title="ElasticEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.exponentialease">ExponentialEase</a></p>
<p><img src="media/exponentialease-graph.png" alt="Схемы ExponentialEase для различных значений EasingMode." title="ExponentialEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.powerease">PowerEase</a></p>
<p><img src="media/quarticease-graph.png" alt="Схемы QuarticEase для различных значений EasingMode." title="QuarticEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quadraticease">QuadraticEase</a></p>
<p><img src="media/quadraticease-graph.png" alt="Схемы QuadraticEase для различных значений EasingMode." title="QuadraticEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quarticease">QuarticEase</a></p>
<p><img src="media/quarticease-graph.png" alt="Схемы QuarticEase для различных значений EasingMode." title="QuarticEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quinticease">QuinticEase</a></p>
<p><img src="media/quinticease-graph.png" alt="Схемы QuinticEase для различных значений EasingMode." title="QuinticEase_Graph"></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.sineease">SineEase</a></p>
<p><img src="media/sineease-graph.png" alt="Схемы SineEase для различных значений EasingMode." title="SineEase_Graph"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Можно использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.powerease">PowerEase</a> создать то же поведение, что <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.cubicease">CubicEase</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quadraticease">QuadraticEase</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quarticease">QuarticEase</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.quinticease">QuinticEase</a> с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.powerease.power">Power</a> свойство. Например, если вы хотите использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.powerease">PowerEase</a> для замены <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.cubicease">CubicEase</a>, укажите <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.powerease.power">Power</a> значение 3.</p>
</div>
<p>Помимо использования функций плавности, входящих в среду выполнения, можно создать собственные функции плавности путем наследования от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingfunctionbase">EasingFunctionBase</a>. В следующем примере показано создание простой пользовательской функции плавности. Можно добавить свою собственную математическую логику для поведение функции плавности путем переопределения <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.easingfunctionbase.easeincore">EaseInCore</a> метод.</p>
<pre><code class="lang-csharp" name="CustomEasingFunction#CustomEasingFunction">namespace CustomEasingFunction
{
    public class CustomSeventhPowerEasingFunction : EasingFunctionBase
    {
        public CustomSeventhPowerEasingFunction()
            : base()
        {
        }

        // Specify your own logic for the easing function by overriding
        // the EaseInCore method. Note that this logic applies to the &quot;EaseIn&quot;
        // mode of interpolation.
        protected override double EaseInCore(double normalizedTime)
        {
            // applies the formula of time to the seventh power.
            return Math.Pow(normalizedTime, 7);
        }

        // Typical implementation of CreateInstanceCore
        protected override Freezable CreateInstanceCore()
        {

            return new CustomSeventhPowerEasingFunction();
        }
    }
}
</code></pre><div class="WARNING">
<h5>Warning</h5>
<p>It looks like the sample you are looking for does not exist.</p>
</div><pre><code class="lang-xaml" name="CustomEasingFunction#CustomEasingFunction">&lt;Window x:Class=&quot;CustomEasingFunction.Window1&quot;
        xmlns:CustomEase=&quot;clr-namespace:CustomEasingFunction&quot;
        xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
        xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
        Title=&quot;Window1&quot; Height=&quot;500&quot; Width=&quot;300&quot;&gt;
    &lt;StackPanel&gt;
        &lt;TextBlock Margin=&quot;10&quot; TextWrapping=&quot;Wrap&quot;&gt;Click on the rectangle to start the animation&lt;/TextBlock&gt;
        &lt;StackPanel x:Name=&quot;LayoutRoot&quot; Background=&quot;White&quot;&gt;

            &lt;Rectangle Name=&quot;myRectangle&quot; Width=&quot;200&quot; Height=&quot;30&quot; Fill=&quot;Blue&quot;&gt;
                &lt;Rectangle.Triggers&gt;
                    &lt;EventTrigger RoutedEvent=&quot;Rectangle.MouseDown&quot;&gt;
                        &lt;BeginStoryboard&gt;
                            &lt;Storyboard&gt;
                                &lt;DoubleAnimation From=&quot;30&quot; To=&quot;300&quot; Duration=&quot;00:00:3&quot; 
                                 Storyboard.TargetName=&quot;myRectangle&quot; 
                                 Storyboard.TargetProperty=&quot;Height&quot;&gt;
                                    &lt;DoubleAnimation.EasingFunction&gt;

                                        &lt;!-- You get the EasingMode property for free on your custom
                                             easing function.--&gt;
                                        &lt;CustomEase:CustomSeventhPowerEasingFunction EasingMode=&quot;EaseIn&quot;/&gt;
                                    &lt;/DoubleAnimation.EasingFunction&gt;
                                &lt;/DoubleAnimation&gt;
                            &lt;/Storyboard&gt;
                        &lt;/BeginStoryboard&gt;
                    &lt;/EventTrigger&gt;
                &lt;/Rectangle.Triggers&gt;

            &lt;/Rectangle&gt;

        &lt;/StackPanel&gt;
    &lt;/StackPanel&gt;

&lt;/Window&gt;
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
