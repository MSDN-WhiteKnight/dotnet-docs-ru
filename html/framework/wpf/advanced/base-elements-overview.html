<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1054;&#1073;&#1097;&#1080;&#1077; &#1089;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1103; &#1086; &#1073;&#1072;&#1079;&#1086;&#1074;&#1099;&#1093; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;&#1093; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1054;&#1073;&#1097;&#1080;&#1077; &#1089;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1103; &#1086; &#1073;&#1072;&#1079;&#1086;&#1074;&#1099;&#1093; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;&#1093; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="base-elements-overview">Общие сведения о базовых элементах</h1>

<p>Большое количество классов в Windows Presentation Foundation (WPF) являются производными от четырех классов, которые обычно называются в документации по SDK базовыми классами элементов. Эти классы являются <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkelement">FrameworkElement</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkcontentelement">FrameworkContentElement</a>. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject">DependencyObject</a> Класс также имеет отношение, так как это общий базовый класс обоих <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a></p>
<p><a name="base_apis"></a></p>
<h2 id="base-element-apis-in-wpf-classes">Интерфейсы API базовых элементов в классах WPF</h2>
<p>Оба <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a> являются производными от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject">DependencyObject</a>, через несколько различных путей. Разбиение на этом уровне имеет дело с тем, как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a> используются в пользовательском интерфейсе и какой целью они применяются в приложении. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> также имеет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a> в своей иерархии класс — это класс, который предоставляет низкоуровневые графические основной поддержки Windows Presentation Foundation (WPF). <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a> предоставляет платформу для отображения, определяя независимые прямоугольные области экрана. На практике <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> для элементов, поддерживающих модель больших объектов, для отрисовки и макетов в областях, которые можно описать как прямоугольные области экрана, и где модель содержимого намеренно более открыта, чтобы разрешить разные сочетания элементов. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a> является производным от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a>; его модель <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a> потреблял бы что-то еще, скажем, для чтения или просмотра, который затем будет интерпретировать элементы и создавать полный <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a> для Windows Presentation Foundation (WPF) для использования. Определенные <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> классы предназначены для размещения содержимого: они обеспечивают размещение и отображение для одного или нескольких <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a> классы (<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.documentviewer">DocumentViewer</a> является примером такого класса). <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a> используется как базовый класс для элементов с меньшими объектными моделями и текста, сведения или содержимого документов, которые могут размещаться в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a>.</p>
<h3 id="framework-level-and-core-level">Уровень платформы и уровень ядра</h3>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> служит базовым классом для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkelement">FrameworkElement</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a> служит базовым классом для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkcontentelement">FrameworkContentElement</a>. Назначением этого следующего уровня классов является поддержка уровня ядра WPF, существующего отдельно от уровня платформы WPF. Аналогичное разделение существуют в API, где разделены между собой сборки PresentationCore и PresentationFramework. Уровень платформы WPF предоставляет более полное удовлетворение потребностей основного приложения, включая реализацию диспетчера макетов для представления. Уровень ядра WPF позволяет использовать по максимуму возможности WPF, не прибегая к затратам на дополнительные сборки. Различия между этими уровнями обычно не имеют значения в типичных сценариях разработки приложений, и в целом следует рассматривать WPF API как единое целое. Различия между уровнем платформы WPF и уровнем ядра не должны волновать разработчиков. Различия в уровнях следует учитывать в том случае, если при разработке приложения решено заменить значительное количество функций уровня платформы WPF, например если общее решение уже имеет свои собственные реализации композиции и макета UI .</p>
<p><a name="subclassing_elements"></a></p>
<h2 id="choosing-which-element-to-derive-from">Выбор элемента для наследования</h2>
<p>Наиболее удобным способом создания другого класса, расширяющего возможности WPF, является наследование от одного из классов WPF. Тогда вы получаете максимально возможное количество наследуемых функций благодаря существующей иерархии классов. В этом разделе перечислены возможности, предоставляемые тремя наиболее важными классами элементов. Эти сведения помогут вам решить, какой класс использовать для наследования.</p>
<p>При реализации элемента управления, который в действительности является одним из наиболее распространенных причин для создания производного от WPF класса, может потребоваться являются производными от класса, который является практическим управления семейства базовый класс элемента управления, или на как минимум <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.control">Control</a> базового класса. Некоторые рекомендации и практические примеры см. в разделе <a href="../controls/control-authoring-overview.html">Общие сведения о разработке элементов управления</a>.</p>
<p>Если вы не создаете элемент управления, а хотите создать производный класс от класса, который находится выше по иерархии, в следующих разделах вы найдете рекомендации по определению характеристик для каждого базового класса элементов.</p>
<p>Если вы создаете класс, производный от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject">DependencyObject</a>, вы наследуете следующие функциональные возможности:</p>
<ul>
<li><p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject.getvalue">GetValue</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject.setvalue">SetValue</a> поддержки и общая системная поддержка свойств.</p>
</li>
<li><p>Возможность использования свойств зависимостей и вложенных свойств, которые реализуются как свойства зависимостей.</p>
</li>
</ul>
<p>Если вы создаете класс, производный от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a>, вы наследуете следующие функциональные возможности, предоставляемые <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject">DependencyObject</a>:</p>
<ul>
<li><p>Базовая поддержка для анимируемых значений свойств. Более подробную информацию см. в разделе <a href="../graphics-multimedia/animation-overview.html">Общие сведения об эффектах анимации</a>.</p>
</li>
<li><p>Базовая поддержка событий ввода и поддержка команд. Дополнительные сведения см. в разделе <a href="input-overview.html">Общие сведения о вводе данных</a> и <a href="commanding-overview.html">Общие сведения о системе команд</a>.</p>
</li>
<li><p>Виртуальные методы, которые можно переопределить для передачи данных в систему макета.</p>
</li>
</ul>
<p>Если вы создаете класс, производный от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkelement">FrameworkElement</a>, вы наследуете следующие функциональные возможности, предоставляемые <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a>:</p>
<ul>
<li><p>Поддержка стилей и раскадровок. Дополнительные сведения см. в разделе <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.style">Style</a> и <a href="../graphics-multimedia/storyboards-overview.html">Общие сведения о раскадровках</a>.</p>
</li>
<li><p>Поддержка привязки данных. Более подробную информацию см. в разделе <a href="../data/data-binding-overview.html">Общие сведения о связывании данных</a>.</p>
</li>
<li><p>Поддержка ссылок на динамические ресурсы. Дополнительные сведения см. в разделе <a href="xaml-resources.html">Ресурсы XAML</a>.</p>
</li>
<li><p>Поддержка наследования значений свойств и других флагов в метаданных, которые помогают передавать сведения о состоянии свойств в службы платформы, такие как привязка данных, управление стилями и реализация структуры макета. Дополнительные сведения см. в разделе <a href="framework-property-metadata.html">Метаданные свойств платформы</a>.</p>
</li>
<li><p>Понятие логического дерева. Дополнительные сведения см. в разделе <a href="trees-in-wpf.html">Деревья в WPF</a>.</p>
</li>
<li><p>Поддержка практической реализации уровня платформы WPF система макета, включая <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkelement.onpropertychanged">OnPropertyChanged</a> переопределения, которое может обнаружить изменения в свойствах, влияющих на макет.</p>
</li>
</ul>
<p>Если вы создаете класс, производный от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a>, вы наследуете следующие функциональные возможности, предоставляемые <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject">DependencyObject</a>:</p>
<ul>
<li><p>Поддержка анимации. Более подробную информацию см. в разделе <a href="../graphics-multimedia/animation-overview.html">Общие сведения об эффектах анимации</a>.</p>
</li>
<li><p>Базовая поддержка событий ввода и поддержка команд. Дополнительные сведения см. в разделе <a href="input-overview.html">Общие сведения о вводе данных</a> и <a href="commanding-overview.html">Общие сведения о системе команд</a>.</p>
</li>
</ul>
<p>Если вы создаете класс, производный от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkcontentelement">FrameworkContentElement</a>, вы получаете следующие функциональные возможности, предоставляемые <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.contentelement">ContentElement</a>:</p>
<ul>
<li><p>Поддержка стилей и раскадровок. Дополнительные сведения см. в разделе <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.style">Style</a> и <a href="../graphics-multimedia/animation-overview.html">Общие сведения об анимации</a>.</p>
</li>
<li><p>Поддержка привязки данных. Более подробную информацию см. в разделе <a href="../data/data-binding-overview.html">Общие сведения о связывании данных</a>.</p>
</li>
<li><p>Поддержка ссылок на динамические ресурсы. Дополнительные сведения см. в разделе <a href="xaml-resources.html">Ресурсы XAML</a>.</p>
</li>
<li><p>Поддержка наследования значений свойств и других флагов в метаданных, которые помогают передавать сведения о состоянии свойств в службы платформы, такие как привязка данных, управление стилями и реализация структуры макета. Дополнительные сведения см. в разделе <a href="framework-property-metadata.html">Метаданные свойств платформы</a>.</p>
</li>
<li><p>Вы не наследуете доступ к изменениям системы макета (таких как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkelement.arrangeoverride">ArrangeOverride</a>). Реализации системы макета доступны только на <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkelement">FrameworkElement</a>. Однако вы наследуете <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworkelement.onpropertychanged">OnPropertyChanged</a> переопределения, которое может обнаружить изменения в свойства, которые влияют на макет и о них любым узлам содержимого.</p>
</li>
</ul>
<p>Модели содержимого описаны в документации для различных классов. Модель содержимого, принятая для класса, возможно, является тем фактором, который следует рассмотреть при выборе подходящего класса для наследования. Дополнительные сведения см. в разделе <a href="../controls/wpf-content-model.html">Модель содержимого WPF</a>.</p>
<p><a name="other_base_classes"></a></p>
<h2 id="other-base-classes">Другие базовые классы</h2>
<h3 id="dispatcherobject">DispatcherObject</h3>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.threading.dispatcherobject">DispatcherObject</a> обеспечивает поддержку для WPF модели и включает все объекты, созданные для работы с потоками WPF приложений, которым будет связана <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.threading.dispatcher">Dispatcher</a>. Даже если вы не являются производными от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dependencyobject">DependencyObject</a>, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a>, рекомендуется наследование от <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.threading.dispatcherobject">DispatcherObject</a> для получения поддержки потоковой модели. Дополнительные сведения см. в разделе <a href="threading-model.html">Модель потоков</a>.</p>
<h3 id="visual">Визуальный элемент</h3>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a> реализует концепцию двумерного объекта, который обычно требует визуального представления в приблизительно прямоугольной области. Реальное отображение объекта <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a> происходит в других классах (не автономный), но <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a> класс предоставляет известный тип, который используется в процессах отображения на разных уровнях. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a> реализует проверку попадания курсора, но он не предоставляет события, сообщающие положительных результатах проверки (они находятся в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a>). Дополнительные сведения см. в разделе <a href="../graphics-multimedia/visual-layer-programming.html">Программирование визуального слоя</a>.</p>
<h3 id="freezable">Freezable</h3>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.freezable">Freezable</a> имитирует постоянство в изменяемом объекте, предоставляя средства для создания копий объекта, когда требуется постоянный объект или необходим для повышения производительности. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.freezable">Freezable</a> Тип обеспечивает общую основу для определенных графических элементов, таких геометрических объектов и кисти, а также анимации. В частности <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.freezable">Freezable</a> не <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.visual">Visual</a>; он может содержать свойства, которые становятся дочерними свойствами при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.freezable">Freezable</a> применяется для заполнения значения свойства другого объекта, и эти дочерние свойства могут влиять на отрисовку. Дополнительные сведения см. в разделе <a href="freezable-objects-overview.html">Общие сведения об объектах класса Freezable</a>.</p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.animatable">Animatable</a></p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.animation.animatable">Animatable</a> является <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.freezable">Freezable</a> производного класса, который специально добавляет уровень управления анимацией и некоторые служебные члены таким образом, в настоящее время анимационные свойства можно отличить свойства от неанимированных.</p>
<h3 id="control">Элемент управления</h3>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.control">Control</a> является предполагаемым базовым классом для типа объекта, который называется элемент управления или компонент, в зависимости от технологии. Как правило, классы элементов управления WPF — это классы, которые либо непосредственно представляют элемент управления пользовательского интерфейса, либо близко участвуют в его композиции. Основные функциональные возможности, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.control">Control</a> включает является шаблон элемента управления.</p>
<h2 id="see-also">См. также</h2>
<ul>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.control">Control</a></li>
<li><a href="dependency-properties-overview.html">Общие сведения о свойствах зависимости</a></li>
<li><a href="../controls/control-authoring-overview.html">Общие сведения о разработке элементов управления</a></li>
<li><a href="wpf-architecture.html">Архитектура WPF</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
