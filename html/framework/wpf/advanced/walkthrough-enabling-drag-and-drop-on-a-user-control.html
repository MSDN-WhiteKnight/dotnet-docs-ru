<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1055;&#1086;&#1096;&#1072;&#1075;&#1086;&#1074;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1042;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077; &#1087;&#1077;&#1088;&#1077;&#1090;&#1072;&#1089;&#1082;&#1080;&#1074;&#1072;&#1085;&#1080;&#1103; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1086;&#1075;&#1086; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072; &#1091;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1055;&#1086;&#1096;&#1072;&#1075;&#1086;&#1074;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1042;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077; &#1087;&#1077;&#1088;&#1077;&#1090;&#1072;&#1089;&#1082;&#1080;&#1074;&#1072;&#1085;&#1080;&#1103; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1086;&#1075;&#1086; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072; &#1091;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="walkthrough-enabling-drag-and-drop-on-a-user-control">Пошаговое руководство. Включение перетаскивания для пользовательского элемента управления</h1>

<p>В этом пошаговом руководстве демонстрируется создание настраиваемого пользовательского элемента управления, который может участвовать в переносе данных путем перетаскивания в Windows Presentation Foundation (WPF).</p>
<p>В этом пошаговом руководстве вы создадите настраиваемый элемент управления WPF <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.usercontrol">UserControl</a> , представляющий круг. Вы реализуете в этом элементе управления функциональность, позволяющую переносить данные посредством перетаскивания. Например, при перетаскивании из одного элемента управления Circle в другой данные цвета заливки копируются из исходного круга в целевой. Если перетащить элемент управления Circle на <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>, строковое представление цвета заливки копируется в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>. Вы также создадите небольшое приложение, которое содержит два элемента управления панели и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a> для тестирования функциональности перетаскивания и вставки. Вы напишете код, позволяющий панелям обрабатывать перемещенные перетаскиванием данные Circle, в результате чего элементы управления Circle можно будет перемещать или копировать из дочерней коллекции на одной панели в другую.</p>
<p>В данном пошаговом руководстве рассмотрены следующие задачи:</p>
<ul>
<li><p>Создание настраиваемого пользовательского элемента управления.</p>
</li>
<li><p>Включение пользовательского элемента управления в качестве источника перетаскивания.</p>
</li>
<li><p>Включение пользовательского элемента управления в качестве целевого объекта перетаскивания.</p>
</li>
<li><p>Включение панели для получения данных, перемещенных перетаскиванием из пользовательского элемента управления.</p>
</li>
</ul>
<h2 id="prerequisites">Предварительные требования</h2>
<p>Для выполнения шагов, описанных в этом руководстве, вам понадобится Visual Studio.</p>
<h2 id="create-the-application-project">Создание проекта приложения</h2>
<p>В этом разделе вы создадите инфраструктуру приложения, которая включает главную страницу с двумя панелями и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
<ol>
<li><p>Создайте проект приложения WPF на Visual Basic или Visual C# с именем <code>DragDropExample</code>. Дополнительные сведения см. в разделе <a href="../getting-started/walkthrough-my-first-wpf-desktop-application.html">Пошаговое руководство: Создание первого классического приложения WPF</a>.</p>
</li>
<li><p>Откройте файл MainWindow.xaml.</p>
</li>
<li><p>Добавьте следующую разметку между открывающим и закрывающим <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.grid">Grid</a> теги.</p>
<p>Эта разметка создает пользовательский интерфейс для тестового приложения.</p>
<pre><code class="lang-xaml" name="DragDropWalkthrough#PanelsStep1XAML">&lt;Grid.ColumnDefinitions&gt;
    &lt;ColumnDefinition /&gt;
    &lt;ColumnDefinition /&gt;
&lt;/Grid.ColumnDefinitions&gt;
&lt;StackPanel Grid.Column=&quot;0&quot;
            Background=&quot;Beige&quot;&gt;
    &lt;TextBox Width=&quot;Auto&quot; Margin=&quot;2&quot;
             Text=&quot;green&quot;/&gt;
&lt;/StackPanel&gt;
&lt;StackPanel Grid.Column=&quot;1&quot;
            Background=&quot;Bisque&quot;&gt;
&lt;/StackPanel&gt;
</code></pre></li>
</ol>
<h2 id="add-a-new-user-control-to-the-project">Добавьте в проект новый пользовательский элемент управления</h2>
<p>В этом разделе вы добавите в проект новый пользовательский элемент управления.</p>
<ol>
<li><p>В меню &quot;Проект&quot; выберите пункт <strong>Добавить пользовательский элемент управления</strong>.</p>
</li>
<li><p>В <strong>Добавление нового элемента</strong> диалоговом окне измените имя на <code>Circle.xaml</code>и нажмите кнопку <strong>добавить</strong>.</p>
<p>Circle.xaml и его код программной части добавляются в проект.</p>
</li>
<li><p>Откройте файл Circle.xaml.</p>
<p>Этот файл будет содержать элементы пользовательского интерфейса пользовательского элемента управления.</p>
</li>
<li><p>Добавьте следующую разметку в корневой каталог <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.grid">Grid</a> создать простой пользовательский элемент управления, который представлен синим кругом, пользовательский интерфейс.</p>
<pre><code class="lang-xaml" name="DragDropWalkthrough#EllipseXAML">&lt;Ellipse x:Name=&quot;circleUI&quot; 
         Height=&quot;100&quot; Width=&quot;100&quot;
         Fill=&quot;Blue&quot; /&gt;
</code></pre></li>
<li><p>Откройте файл Circle.xaml.cs или Circle.xaml.vb.</p>
</li>
<li><p>В C# добавьте следующий код после конструктора по умолчанию, чтобы создать конструктор копии. В Visual Basic добавьте следующий код, чтобы создать конструктор по умолчанию и конструктор копии.</p>
<p>Чтобы разрешить копирование пользовательского элемента управления, нужно добавить метод конструктора копии в файле кода программной части. В упрощенном пользовательском элементе управления Circle копируются только свойства Fill и размер пользовательского элемента управления.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#CopyCtor">public Circle(Circle c)
{
    InitializeComponent();
    this.circleUI.Height = c.circleUI.Height;
    this.circleUI.Width = c.circleUI.Height;
    this.circleUI.Fill = c.circleUI.Fill;
}
</code></pre></li>
</ol>
<h2 id="add-the-user-control-to-the-main-window">Добавление пользовательского элемента управления в главное окно</h2>
<ol>
<li><p>Откройте файл MainWindow.xaml.</p>
</li>
<li><p>Добавьте следующий XAML в открывающий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.window">Window</a> тег, чтобы создать ссылку на пространство имен XML для текущего приложения.</p>
<pre><code>xmlns:local=&quot;clr-namespace:DragDropExample&quot;
</code></pre>
</li>
<li><p>В первом <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.stackpanel">StackPanel</a>, добавьте следующий XAML для создания двух экземпляров пользовательского элемента управления Circle на первой панели.</p>
<pre><code class="lang-xaml" name="DragDropWalkthrough#CirclesXAML">&lt;local:Circle Margin=&quot;2&quot; /&gt;
&lt;local:Circle Margin=&quot;2&quot; /&gt;
</code></pre>
<p>Полный код XAML для панели выглядит следующим образом.</p>
<pre><code class="lang-xaml" name="DragDropWalkthrough#PanelsStep2XAML">&lt;StackPanel Grid.Column=&quot;0&quot;
            Background=&quot;Beige&quot;&gt;
    &lt;TextBox Width=&quot;Auto&quot; Margin=&quot;2&quot;
             Text=&quot;green&quot;/&gt;
    &lt;local:Circle Margin=&quot;2&quot; /&gt;
    &lt;local:Circle Margin=&quot;2&quot; /&gt;
&lt;/StackPanel&gt;
&lt;StackPanel Grid.Column=&quot;1&quot;
            Background=&quot;Bisque&quot;&gt;
&lt;/StackPanel&gt;
</code></pre></li>
</ol>
<h2 id="implement-drag-source-events-in-the-user-control">Реализация событий источника перетаскивания для пользовательского элемента управления</h2>
<p>В этом разделе будут переопределены <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.onmousemove">OnMouseMove</a> метод и инициирует операцию перетаскивания и вставки.</p>
<p>Если перетаскивание начато (нажата кнопка мыши и перемещение мыши), позволяющий преобразовывать данные будут передаваться в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dataobject">DataObject</a>. В данном случае элемент управления Circle упаковывает три элемента данных; строковое представление цвета заливки, двойное представление высоты и копию самого себя.</p>
<h3 id="to-initiate-a-drag-and-drop-operation">Запуск операции перетаскивания</h3>
<ol>
<li><p>Откройте файл Circle.xaml.cs или Circle.xaml.vb.</p>
</li>
<li><p>Добавьте следующий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.onmousemove">OnMouseMove</a> переопределение, чтобы обеспечить обработку класса для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.mousemove">MouseMove</a> событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#OnMouseMove">protected override void OnMouseMove(MouseEventArgs e)
{
    base.OnMouseMove(e);
    if (e.LeftButton == MouseButtonState.Pressed)
    {
        // Package the data.
        DataObject data = new DataObject();
        data.SetData(DataFormats.StringFormat, circleUI.Fill.ToString());
        data.SetData(&quot;Double&quot;, circleUI.Height);
        data.SetData(&quot;Object&quot;, this);

        // Inititate the drag-and-drop operation.
        DragDrop.DoDragDrop(this, data, DragDropEffects.Copy | DragDropEffects.Move);
    }
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.onmousemove">OnMouseMove</a> переопределение выполняет следующие задачи:</p>
<ul>
<li><p>Проверяет, нажата ли левая кнопка мыши при перемещении мыши.</p>
</li>
<li><p>Упаковывает данные Circle в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dataobject">DataObject</a>. В данном случае элемент управления Circle упакует три элемента данных; строковое представление цвета заливки, двойное представление высоты и копию самого себя.</p>
</li>
<li><p>Вызывает статический <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdrop.dodragdrop">DragDrop.DoDragDrop</a> метода для инициации операции перетаскивания и вставки. Передайте следующие три параметра для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdrop.dodragdrop">DoDragDrop</a> метод:</p>
<ul>
<li><p><code>dragSource</code> — Ссылка на этот элемент управления.</p>
</li>
<li><p><code>data</code> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dataobject">DataObject</a> Созданный в предыдущем коде.</p>
</li>
<li><p><code>allowedEffects</code> Разрешенные операции перетаскивания и вставки, которые являются <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdropeffects#System_Windows_DragDropEffects_Copy">Copy</a> или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdropeffects#System_Windows_DragDropEffects_Move">Move</a>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Нажмите клавишу <strong>F5</strong>, чтобы выполнить сборку приложения и запустить его.</p>
</li>
<li><p>Выберите один из элементов управления Circle и перетащите его над панелями, другим элементом Circle и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>. При перетаскивании над <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>, курсор изменяется, обозначая перемещение.</p>
</li>
<li><p>При перетаскивании элемента управления Circle над <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>, нажмите клавишу <strong>Ctrl</strong> ключ. Обратите внимание на то, как изменится курсор, обозначая копирование.</p>
</li>
<li><p>Перетащите элемент управления Circle на <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>. Строковое представление цвета заливки элемента управления Circle добавляется к <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
<p><img src="media/dragdrop-colorstring.png" alt="Строковое представление цвета заливки элемента управления Circle" title="DragDrop_ColorString"></p>
</li>
</ol>
<p>По умолчанию курсор изменяется во время операции перетаскивания, чтобы указать, какой результат даст перетаскивание данных в ту или иную точку. Можно настроить получаемую пользователем путем обработки <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.givefeedback">GiveFeedback</a> событий и настройки другого курсора.</p>
<h2 id="give-feedback-to-the-user">Отправить отзыв для пользователя</h2>
<ol>
<li><p>Откройте файл Circle.xaml.cs или Circle.xaml.vb.</p>
</li>
<li><p>Добавьте следующий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ongivefeedback">OnGiveFeedback</a> переопределение, чтобы обеспечить обработку класса для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.givefeedback">GiveFeedback</a> событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#OnGiveFeedback">protected override void OnGiveFeedback(GiveFeedbackEventArgs e)
{
    base.OnGiveFeedback(e);
    // These Effects values are set in the drop target's
    // DragOver event handler.
    if (e.Effects.HasFlag(DragDropEffects.Copy))
    {
        Mouse.SetCursor(Cursors.Cross);
    }
    else if (e.Effects.HasFlag(DragDropEffects.Move))
    {
        Mouse.SetCursor(Cursors.Pen);
    }
    else
    {
        Mouse.SetCursor(Cursors.No);
    }
    e.Handled = true;
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ongivefeedback">OnGiveFeedback</a> переопределение выполняет следующие задачи:</p>
<ul>
<li><p>Проверяет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.givefeedbackeventargs.effects">Effects</a> значения, заданные в цели перетаскивания <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> обработчик событий.</p>
</li>
<li><p>Задает пользовательский курсор на основе <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.givefeedbackeventargs.effects">Effects</a> значение. Курсор предназначен для предоставления визуальной обратной связи пользователю о том, какой результат будет иметь перетаскивание данных.</p>
</li>
</ul>
</li>
<li><p>Нажмите клавишу <strong>F5</strong>, чтобы выполнить сборку приложения и запустить его.</p>
</li>
<li><p>Перетащите один из круга управляет над панелями, другим элементом Circle, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>. Обратите внимание, что курсоры созданы пользовательские курсоры, которые указаны в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ongivefeedback">OnGiveFeedback</a> переопределить.</p>
<p><img src="media/dragdrop-customcursor.png" alt="Перетаскивание с использованием пользовательских курсоров" title="DragDrop_CustomCursor"></p>
</li>
<li><p>Выделите текст <code>green</code> из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
</li>
<li><p>Перетащите текст <code>green</code> в элемент управления Circle. Обратите внимание, что отображаются курсоры по умолчанию: они указывают на результаты операции перетаскивания. Курсор обратной связи всегда задается источником перетаскивания.</p>
</li>
</ol>
<h2 id="implement-drop-target-events-in-the-user-control">Реализация событий целевого объекта перетаскивания для пользовательского элемента управления</h2>
<p>Изучая этот раздел, вы укажете, что пользовательский элемент управления является целевым объектом перетаскивания, переопределите методы, позволяющие пользовательскому элементу управления функционировать в качестве целевого объекта перетаскивания, и обработаете перемещенные в него данные.</p>
<h3 id="to-enable-the-user-control-to-be-a-drop-target">Чтобы включить пользовательский элемент управления в качестве целевого объекта перетаскивания, выполните следующие действия.</h3>
<ol>
<li><p>Откройте файл Circle.xaml.</p>
</li>
<li><p>В открывающем <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.usercontrol">UserControl</a> , добавьте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.allowdrop">AllowDrop</a> свойство и присвойте ему значение <code>true</code>.</p>
<pre><code class="lang-xaml" name="DragDropWalkthrough#UCTagXAML">&lt;UserControl x:Class=&quot;DragDropWalkthrough.Circle&quot;
             xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
             xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot; 
             xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot; 
             mc:Ignorable=&quot;d&quot; 
             d:DesignHeight=&quot;300&quot; d:DesignWidth=&quot;300&quot;
             AllowDrop=&quot;True&quot;&gt;
</code></pre></li>
</ol>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondrop">OnDrop</a> Метод вызывается, когда <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.allowdrop">AllowDrop</a> свойству <code>true</code> и удалении данных из источника перетаскивания в пользовательский элемент управления Circle. В этом методе вы обработаете перемещенные данные и примените их к элементу управления Circle.</p>
<h3 id="to-process-the-dropped-data">Обработка вставляемых данных</h3>
<ol>
<li><p>Откройте файл Circle.xaml.cs или Circle.xaml.vb.</p>
</li>
<li><p>Добавьте следующий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondrop">OnDrop</a> переопределение, чтобы обеспечить обработку класса для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#OnDrop">protected override void OnDrop(DragEventArgs e)
{
    base.OnDrop(e);

    // If the DataObject contains string data, extract it.
    if (e.Data.GetDataPresent(DataFormats.StringFormat))
    {
        string dataString = (string)e.Data.GetData(DataFormats.StringFormat);

        // If the string can be converted into a Brush,
        // convert it and apply it to the ellipse.
        BrushConverter converter = new BrushConverter();
        if (converter.IsValid(dataString))
        {
            Brush newFill = (Brush)converter.ConvertFromString(dataString);
            circleUI.Fill = newFill;

            // Set Effects to notify the drag source what effect
            // the drag-and-drop operation had.
            // (Copy if CTRL is pressed; otherwise, move.)
            if (e.KeyStates.HasFlag(DragDropKeyStates.ControlKey))
            {
                e.Effects = DragDropEffects.Copy;
            }
            else
            {
                e.Effects = DragDropEffects.Move;
            }
        }
    }
    e.Handled = true;
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondrop">OnDrop</a> переопределение выполняет следующие задачи:</p>
<ul>
<li><p>Использует <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dataobject.getdatapresent">GetDataPresent</a> метод, чтобы проверить наличие перемещенные данные строковый объект.</p>
</li>
<li><p>Использует <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dataobject.getdata">GetData</a> метод для извлечения строковых данных в том случае, если он имеется.</p>
</li>
<li><p>Использует <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.brushconverter">BrushConverter</a> для строки, преобразованные в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.brush">Brush</a>.</p>
</li>
<li><p>Если преобразование прошло успешно, применяет кисть к <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.ellipse">Ellipse</a> , предоставляет пользовательский Интерфейс элемента управления Circle.</p>
</li>
<li><p>Метки <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> событие как обработанное. Событие сброса необходимо пометить как обработанное, чтобы другие элементы, которые получают это событие, знали, что событие было обработано пользовательским элементом управления Circle.</p>
</li>
</ul>
</li>
<li><p>Нажмите клавишу <strong>F5</strong>, чтобы выполнить сборку приложения и запустить его.</p>
</li>
<li><p>Выделите текст <code>green</code> в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
</li>
<li><p>Перетащите текст в элемент управления Circle. Элемент управления Circle поменяет цвет с синего на зеленый.</p>
<p><img src="media/dragdrop-dropgreentext.png" alt="Преобразование строки в кисть" title="DragDrop_DropGreenText"></p>
</li>
<li><p>Введите текст <code>green</code> в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
</li>
<li><p>Выделите текст <code>gre</code> в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
</li>
<li><p>Перетащите его в элемент управления Circle. Обратите внимание, что курсор изменяется, чтобы указать, что перенос разрешен, но цвет элемента управления Circle не меняется, потому что <code>gre</code> — недопустимый цвет.</p>
</li>
<li><p>Выполните перетаскивание с зеленого элемента управления Circle на синий. Элемент управления Circle поменяет цвет с синего на зеленый. Обратите внимание, что отображается курсор, который зависит от того <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a> или элемент управления Circle является источником перетаскивания.</p>
</li>
</ol>
<p>Установка <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.allowdrop">AllowDrop</a> свойства <code>true</code> и обработка перенесенных данных — все, что требуется для включения элемента в качестве целевого объекта перетаскивания. Тем не менее, для повышения удобства работы пользователя, необходимо также обрабатывать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragenter">DragEnter</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragleave">DragLeave</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> события. В этих событиях можно выполнять проверки и предоставлять дополнительную обратную связь пользователю до сброса данных.</p>
<p>При перетаскивании данных над пользовательским элементом управления Circle элемент управления должен уведомить источник перетаскивания, может ли он обработать переносимые данные. Если элемент управления не знает, как обрабатывать данные, он должен отклонить перетаскивание. Чтобы сделать это, будет обрабатывать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> событий и набор <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.drageventargs.effects">Effects</a> свойство.</p>
<h3 id="to-verify-that-the-data-drop-is-allowed">Проверка допустимости сброса данных</h3>
<ol>
<li><p>Откройте файл Circle.xaml.cs или Circle.xaml.vb.</p>
</li>
<li><p>Добавьте следующий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragover">OnDragOver</a> переопределение, чтобы обеспечить обработку класса для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#OnDragOver">protected override void OnDragOver(DragEventArgs e)
{
    base.OnDragOver(e);
    e.Effects = DragDropEffects.None;

    // If the DataObject contains string data, extract it.
    if (e.Data.GetDataPresent(DataFormats.StringFormat))
    {
        string dataString = (string)e.Data.GetData(DataFormats.StringFormat);

        // If the string can be converted into a Brush, allow copying or moving.
        BrushConverter converter = new BrushConverter();
        if (converter.IsValid(dataString))
        {
            // Set Effects to notify the drag source what effect
            // the drag-and-drop operation will have. These values are
            // used by the drag source's GiveFeedback event handler.
            // (Copy if CTRL is pressed; otherwise, move.)
            if (e.KeyStates.HasFlag(DragDropKeyStates.ControlKey))
            {
                e.Effects = DragDropEffects.Copy;
            }
            else
            {
                e.Effects = DragDropEffects.Move;
            }
        }
    }
    e.Handled = true;
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragover">OnDragOver</a> переопределение выполняет следующие задачи:</p>
<ul>
<li><p>Задает для свойства <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.drageventargs.effects">Effects</a> значение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdropeffects#System_Windows_DragDropEffects_None">None</a>.</p>
</li>
<li><p>Выполняет те же проверки, выполняемые в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondrop">OnDrop</a> метод, чтобы определить, может ли пользовательский элемент управления Circle обработать перенесенные данные.</p>
</li>
<li><p>Если пользовательский элемент управления может обработать данные, задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.drageventargs.effects">Effects</a> свойства <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdropeffects#System_Windows_DragDropEffects_Copy">Copy</a> или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdropeffects#System_Windows_DragDropEffects_Move">Move</a>.</p>
</li>
</ul>
</li>
<li><p>Нажмите клавишу <strong>F5</strong>, чтобы выполнить сборку приложения и запустить его.</p>
</li>
<li><p>Выделите текст <code>gre</code> в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
</li>
<li><p>Перетащите текст в элемент управления Circle. Обратите внимание, что курсор изменяется, чтобы указать, что перетаскивание не разрешено, потому что <code>gre</code> не является допустимым цветом.</p>
</li>
</ol>
<p>Использование предварительного просмотра при перетаскивании повышает удобство работы пользователей. Для пользовательского элемента управления Circle переопределяются <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragenter">OnDragEnter</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragleave">OnDragLeave</a> методы. Когда данные перетаскиваются над элементом управления, текущий фон <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> сохраняется в переменной-заполнителе. Затем строка преобразуется в кисть и применяется к <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.ellipse">Ellipse</a> , предоставляющий окружности пользовательского интерфейса. Если данные перетаскиваются за элемент управления Circle без сброса, исходное <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> значение повторно применить к элементу управления Circle.</p>
<h3 id="to-preview-the-effects-of-the-drag-and-drop-operation">Предварительный просмотр результатов операции перетаскивания</h3>
<ol>
<li><p>Откройте файл Circle.xaml.cs или Circle.xaml.vb.</p>
</li>
<li><p>В классе Circle объявите закрытую <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.brush">Brush</a> переменную с именем <code>_previousFill</code> и инициализируйте его, чтобы <code>null</code>.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#Brush">public partial class Circle : UserControl
{
    private Brush _previousFill = null;
</code></pre></li>
<li><p>Добавьте следующий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragenter">OnDragEnter</a> переопределение, чтобы обеспечить обработку класса для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragenter">DragEnter</a> событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#OnDragEnter">protected override void OnDragEnter(DragEventArgs e)
{
    base.OnDragEnter(e);
    // Save the current Fill brush so that you can revert back to this value in DragLeave.
    _previousFill = circleUI.Fill;

    // If the DataObject contains string data, extract it.
    if (e.Data.GetDataPresent(DataFormats.StringFormat))
    {
        string dataString = (string)e.Data.GetData(DataFormats.StringFormat);

        // If the string can be converted into a Brush, convert it.
        BrushConverter converter = new BrushConverter();
        if (converter.IsValid(dataString))
        {
            Brush newFill = (Brush)converter.ConvertFromString(dataString.ToString());
            circleUI.Fill = newFill;
        }
    }
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragenter">OnDragEnter</a> переопределение выполняет следующие задачи:</p>
<ul>
<li><p>Сохраняет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> свойство <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.ellipse">Ellipse</a> в <code>_previousFill</code> переменной.</p>
</li>
<li><p>Выполняет те же проверки, выполняемые в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondrop">OnDrop</a> метод, чтобы определить, может быть преобразован в данных <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.brush">Brush</a>.</p>
</li>
<li><p>Если данные преобразуются в допустимый <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.brush">Brush</a>, применяемое к <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.ellipse">Ellipse</a>.</p>
</li>
</ul>
</li>
<li><p>Добавьте следующий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragleave">OnDragLeave</a> переопределение, чтобы обеспечить обработку класса для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragleave">DragLeave</a> событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#OnDragLeave">protected override void OnDragLeave(DragEventArgs e)
{
    base.OnDragLeave(e);
    // Undo the preview that was applied in OnDragEnter.
    circleUI.Fill = _previousFill;
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ondragleave">OnDragLeave</a> переопределение выполняет следующие задачи:</p>
<ul>
<li>Применяет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.brush">Brush</a> сохранен в <code>_previousFill</code> переменной <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.ellipse">Ellipse</a> , предоставляющий пользовательского интерфейса пользовательского элемента управления Circle.</li>
</ul>
</li>
<li><p>Нажмите клавишу <strong>F5</strong>, чтобы выполнить сборку приложения и запустить его.</p>
</li>
<li><p>Выделите текст <code>green</code> в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
</li>
<li><p>Перетащите текст над элементом управления Circle, не сбрасывая его. Элемент управления Circle поменяет цвет с синего на зеленый.</p>
<p><img src="media/dragdrop-previeweffects.png" alt="Предварительный просмотр результатов операции перетаскивания" title="DragDrop_PreviewEffects"></p>
</li>
<li><p>Перетащите текст от элемента управления Circle. Элемент управления Circle изменится с зеленого на синий.</p>
</li>
</ol>
<h2 id="enable-a-panel-to-receive-dropped-data">Включение панели для получения перетаскиваемых данных</h2>
<p>В этом разделе описано как разрешить панелей, на которых размещены пользовательские элементы управления Circle в качестве целевых объектов перетаскивания для перемещенных данных Circle. Вы реализуете код, который позволяет переместить элемент Circle с одной панели в другую или скопировать элемент управления Circle, удерживая нажатой <strong>Ctrl</strong> ключа во время перетаскивания круг.</p>
<ol>
<li><p>Откройте файл MainWindow.xaml.</p>
</li>
<li><p>Как показано в следующем XAML, в каждом из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.stackpanel">StackPanel</a> элементы управления, добавьте обработчики для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> события. Имя <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> обработчик событий <code>panel_DragOver</code>и назовите <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> обработчик событий <code>panel_Drop</code>.</p>
<pre><code class="lang-xaml" name="DragDropWalkthrough#PanelsXAML">&lt;StackPanel Grid.Column=&quot;0&quot;
            Background=&quot;Beige&quot;
            AllowDrop=&quot;True&quot;
            DragOver=&quot;panel_DragOver&quot;
            Drop=&quot;panel_Drop&quot;&gt;
    &lt;TextBox Width=&quot;Auto&quot; Margin=&quot;2&quot;
             Text=&quot;green&quot;/&gt;
    &lt;local:Circle Margin=&quot;2&quot; /&gt;
    &lt;local:Circle Margin=&quot;2&quot; /&gt;
&lt;/StackPanel&gt;
&lt;StackPanel Grid.Column=&quot;1&quot;
            Background=&quot;Bisque&quot;
            AllowDrop=&quot;True&quot;
            DragOver=&quot;panel_DragOver&quot;
            Drop=&quot;panel_Drop&quot;&gt;
&lt;/StackPanel&gt;
</code></pre></li>
<li><p>Откройте файл MainWindows.xaml.cs или MainWindow.xaml.vb.</p>
</li>
<li><p>Добавьте следующий код для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> обработчик событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#PanelDragOver">private void panel_DragOver(object sender, DragEventArgs e)
{
    if (e.Data.GetDataPresent(&quot;Object&quot;))
    {
        // These Effects values are used in the drag source's
        // GiveFeedback event handler to determine which cursor to display.
        if (e.KeyStates == DragDropKeyStates.ControlKey)
        {
            e.Effects = DragDropEffects.Copy;
        }
        else
        {
            e.Effects = DragDropEffects.Move;
        }
    }
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.dragover">DragOver</a> обработчик событий выполняет следующие задачи:</p>
<ul>
<li><p>Проверяет, что перетаскиваемые данные с данными «Объект», было упаковано в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dataobject">DataObject</a> с пользовательским элементом управления Circle и переданы в вызове <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdrop.dodragdrop">DoDragDrop</a>.</p>
</li>
<li><p>Если данные «Объект» отсутствует, проверяет ли <strong>Ctrl</strong> клавиши.</p>
</li>
<li><p>Если <strong>Ctrl</strong> клавиша нажата, задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.drageventargs.effects">Effects</a> свойства <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdropeffects#System_Windows_DragDropEffects_Copy">Copy</a>. В противном случае значение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.drageventargs.effects">Effects</a> свойства <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdropeffects#System_Windows_DragDropEffects_Move">Move</a>.</p>
</li>
</ul>
</li>
<li><p>Добавьте следующий код для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> обработчик событий.</p>
<pre><code class="lang-csharp" name="DragDropWalkthrough#PanelDrop">private void panel_Drop(object sender, DragEventArgs e)
{
    // If an element in the panel has already handled the drop,
    // the panel should not also handle it.
    if (e.Handled == false)
    {
        Panel _panel = (Panel)sender;
        UIElement _element = (UIElement)e.Data.GetData(&quot;Object&quot;);

        if (_panel != null &amp;&amp; _element != null)
        {
            // Get the panel that the element currently belongs to,
            // then remove it from that panel and add it the Children of
            // the panel that its been dropped on.
            Panel _parent = (Panel)VisualTreeHelper.GetParent(_element);

            if (_parent != null)
            {
                if (e.KeyStates == DragDropKeyStates.ControlKey &amp;&amp;
                    e.AllowedEffects.HasFlag(DragDropEffects.Copy))
                {
                    Circle _circle = new Circle((Circle)_element);
                    _panel.Children.Add(_circle);
                    // set the value to return to the DoDragDrop call
                    e.Effects = DragDropEffects.Copy;
                }
                else if (e.AllowedEffects.HasFlag(DragDropEffects.Move))
                {
                    _parent.Children.Remove(_element);
                    _panel.Children.Add(_element);
                    // set the value to return to the DoDragDrop call
                    e.Effects = DragDropEffects.Move;
                }
            }
        }
    }
}
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> обработчик событий выполняет следующие задачи:</p>
<ul>
<li><p>Проверяет ли <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> уже было обработано событие. Например, если элемент управления Circle перетаскивается на другом круг которого дескрипторы <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> событий, требуется панель, содержащую круг его.</p>
</li>
<li><p>Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> событие не обработано, проверяет ли <strong>Ctrl</strong> клавиши.</p>
</li>
<li><p>Если <strong>Ctrl</strong> при нажатии клавиши <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.drop">Drop</a> происходит, создает копию круга управления и добавьте его в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.panel.children">Children</a> коллекцию <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.stackpanel">StackPanel</a>.</p>
</li>
<li><p>Если <strong>Ctrl</strong> клавиша не нажата, перемещает элемент управления Circle из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.panel.children">Children</a> коллекцию его родительской панели <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.panel.children">Children</a> коллекцию на панели, который был сброшен.</p>
</li>
<li><p>Наборы <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.drageventargs.effects">Effects</a> свойства для уведомления <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.dragdrop.dodragdrop">DoDragDrop</a> метод ли была выполнена операция перемещения или копирования.</p>
</li>
</ul>
</li>
<li><p>Нажмите клавишу <strong>F5</strong>, чтобы выполнить сборку приложения и запустить его.</p>
</li>
<li><p>Выделите текст <code>green</code> из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textbox">TextBox</a>.</p>
</li>
<li><p>Перетащите текст над элементом управления Circle и опустите его на элемент.</p>
</li>
<li><p>Перетащите элемент управления Circle из левой панели в правую панель и опустите его. Элемент управления Circle удаляется из <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.panel.children">Children</a> коллекции левой панели и добавляется в коллекцию дочерних элементов на правой панели.</p>
</li>
<li><p>Перетащите элемент управления Circle из панели, он находится в на другую панель и опустите его удерживая нажатой клавишу <strong>Ctrl</strong> ключ. Элемент управления Circle копируется, и копия добавляется <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.panel.children">Children</a> коллекцию принимающей панели.</p>
<p><img src="media/dragdrop-paneldrop.png" alt="Перетаскивание элемента управления Circle с нажатой клавишей CTRL" title="DragDrop_PanelDrop"></p>
</li>
</ol>
<h2 id="see-also">См. также</h2>
<ul>
<li><a href="drag-and-drop-overview.html">Общие сведения о перетаскивании</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
