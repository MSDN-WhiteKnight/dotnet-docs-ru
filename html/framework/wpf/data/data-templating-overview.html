<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1054;&#1073;&#1097;&#1080;&#1077; &#1089;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1103; &#1086; &#1096;&#1072;&#1073;&#1083;&#1086;&#1085;&#1072;&#1093; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1054;&#1073;&#1097;&#1080;&#1077; &#1089;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1103; &#1086; &#1096;&#1072;&#1073;&#1083;&#1086;&#1085;&#1072;&#1093; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="data-templating-overview">Общие сведения о шаблонах данных</h1>

<p>Модель шаблонов данных WPF предоставляет большую гибкость при определении представления данных. Элементы управления WPF имеют встроенные функции для поддержки настройки представления данных. В этом разделе сначала демонстрируется определение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> , а затем предоставляются другие возможности шаблонов данных, такие как выбор шаблона на основе пользовательской логики и поддержка отображения иерархических данных.</p>
<p><a name="Prerequisites"></a></p>
<h2 id="prerequisites">Предварительные требования</h2>
<p>В этом разделе рассматриваются функции шаблонов данных. Здесь отсутствуют общие сведения о понятиях привязки данных. Сведения о базовых концепциях привязки данных содержатся в разделе <a href="data-binding-overview.html">Обзор привязки данных</a>.</p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> является представлением данных и является одним из многих функций, предоставляемых моделью стилей и шаблонов WPF. Общие сведения о WPF Стилизация и использование шаблонов модели, например, как использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.style">Style</a> для задания свойств элементов управления, см. в разделе <a href="../controls/styling-and-templating.html">Стилизация и использование шаблонов</a> раздела.</p>
<p>Кроме того, важно понимать <code>Resources</code>, которые по сути являются что включать объекты, такие как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.style">Style</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> для повторного использования. Дополнительные сведения о ресурсах см. в разделе <a href="../advanced/xaml-resources.html">Ресурсы XAML</a>.</p>
<p><a name="DataTemplating_Basic"></a></p>
<h2 id="data-templating-basics">Основные сведения о шаблонах данных</h2>
<p>Чтобы продемонстрировать важность <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> важно, давайте разберем пример привязки данных. В этом примере у нас есть <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> , привязанный к списку <code>Task</code> объектов. Каждому <code>Task</code> объекту соответствует <code>TaskName</code> (строка), <code>Description</code> (строка), <code>Priority</code> (int) и свойство типа <code>TaskType</code>, которое является <code>Enum</code> со значениями <code>Home</code> и <code>Work</code>.</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#Resources">&lt;Window x:Class=&quot;SDKSample.Window1&quot;
  xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
  xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
  xmlns:local=&quot;clr-namespace:SDKSample&quot;
  Title=&quot;Introduction to Data Templating Sample&quot;&gt;
  &lt;Window.Resources&gt;
    &lt;local:Tasks x:Key=&quot;myTodoList&quot;/&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro_snip#UI1">
&lt;/Window.Resources&gt;
  &lt;StackPanel&gt;
    &lt;TextBlock Name=&quot;blah&quot; FontSize=&quot;20&quot; Text=&quot;My Task List:&quot;/&gt;
    &lt;ListBox Width=&quot;400&quot; Margin=&quot;10&quot;
             ItemsSource=&quot;{Binding Source={StaticResource myTodoList}}&quot;/&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro_snip#UI2">  &lt;/StackPanel&gt;
&lt;/Window&gt;
</code></pre>
<p><a name="without_a_datatemplate"></a></p>
<h3 id="without-a-datatemplate">Без шаблона данных DataTemplate</h3>
<p>Без <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>наш <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> в данный момент выглядит следующим образом:</p>
<p><img src="media/datatemplatingintro-fig1.png" alt="Снимок экрана шаблонов данных" title="DataTemplatingIntro_fig1"></p>
<p>Что происходит: без конкретных инструкций <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> по умолчанию вызывает <code>ToString</code> при попытке отображения объектов в коллекции. Таким образом Если <code>Task</code> переопределяет метод <code>ToString</code> метод, то <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> отображает строковое представление каждого исходного объекта в базовой коллекции.</p>
<p>Например, если класс <code>Task</code> переопределяет метод <code>ToString</code> таким образом, что <code>name</code> — поле для <code>TaskName</code> свойства:</p>
<pre><code class="lang-csharp" name="DataTemplatingIntro_snip#ToString">public override string ToString()
{
    return name.ToString();
}
</code></pre><div class="WARNING">
<h5>Warning</h5>
<p>It looks like the sample you are looking for does not exist.</p>
</div>
<p>Затем <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> выглядит следующим образом:</p>
<p><img src="media/datatemplatingintro-fig2.png" alt="Снимок экрана шаблонов данных" title="DataTemplatingIntro_fig2"></p>
<p>Тем не менее это характеризуется ограниченностью и негибкостью. Кроме того, если выполняется привязка к даннымXML, невозможно переопределить <code>ToString</code>.</p>
<p><a name="defining_simple_datatemplate"></a></p>
<h3 id="defining-a-simple-datatemplate">Определение простого шаблона DataTemplate</h3>
<p>Решением является определение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>. Один из способов это сделать, — присвоить <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemtemplate">ItemTemplate</a> свойство <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>. Укажите в вашей <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> , становится визуальной структурой вашего объекта данных. Следующие <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> достаточно прост. Мы зададим инструкции, которые каждый элемент отображается как три <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textblock">TextBlock</a> элементы внутри <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.stackpanel">StackPanel</a>. Каждый <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textblock">TextBlock</a> элемент привязывается к свойству <code>Task</code> класса.</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#Inline">&lt;ListBox Width=&quot;400&quot; Margin=&quot;10&quot;
         ItemsSource=&quot;{Binding Source={StaticResource myTodoList}}&quot;&gt;
   &lt;ListBox.ItemTemplate&gt;
     &lt;DataTemplate&gt;
       &lt;StackPanel&gt;
         &lt;TextBlock Text=&quot;{Binding Path=TaskName}&quot; /&gt;
         &lt;TextBlock Text=&quot;{Binding Path=Description}&quot;/&gt;
         &lt;TextBlock Text=&quot;{Binding Path=Priority}&quot;/&gt;
       &lt;/StackPanel&gt;
     &lt;/DataTemplate&gt;
   &lt;/ListBox.ItemTemplate&gt;
 &lt;/ListBox&gt;
</code></pre>
<p>Базовые данные в примерах этого раздела — это совокупность объектов CLR. Если выполнить привязку к данным XML, основные понятия схожи, но есть незначительные синтаксические различия. Например, вместо того, <code>Path=TaskName</code>, необходимо установить <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.data.binding.xpath">XPath</a> для <code>@TaskName</code> (если <code>TaskName</code> является атрибутом вашего XML узла).</p>
<p>Теперь наши <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> выглядит следующим образом:</p>
<p><img src="media/datatemplatingintro-fig3.png" alt="Снимок экрана шаблонов данных" title="DataTemplatingIntro_fig3"></p>
<p><a name="defining_datatemplate_as_a_resource"></a></p>
<h3 id="creating-the-datatemplate-as-a-resource">Создание шаблона DataTemplate как ресурса</h3>
<p>В приведенном выше примере мы определили <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> встроенный. Обычно его определяют в разделе ресурсов, чтобы его можно было повторно использовать, как в следующем примере:</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#R1">&lt;Window.Resources&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro_snip#AsResource">&lt;DataTemplate x:Key=&quot;myTaskTemplate&quot;&gt;
  &lt;StackPanel&gt;
    &lt;TextBlock Text=&quot;{Binding Path=TaskName}&quot; /&gt;
    &lt;TextBlock Text=&quot;{Binding Path=Description}&quot;/&gt;
    &lt;TextBlock Text=&quot;{Binding Path=Priority}&quot;/&gt;
  &lt;/StackPanel&gt;
&lt;/DataTemplate&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro_snip#R2">&lt;/Window.Resources&gt;
</code></pre>
<p>Теперь вы можете использовать <code>myTaskTemplate</code> в качестве ресурса, как показано в следующем примере:</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#MyTaskTemplate">&lt;ListBox Width=&quot;400&quot; Margin=&quot;10&quot;
         ItemsSource=&quot;{Binding Source={StaticResource myTodoList}}&quot;
         ItemTemplate=&quot;{StaticResource myTaskTemplate}&quot;/&gt;
</code></pre>
<p>Так как <code>myTaskTemplate</code> является ресурсом, теперь можно использовать его для других элементов управления, которые имеют свойства, которое принимает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> типа. Как показано выше, для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol">ItemsControl</a> объекты, такие как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a>, это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemtemplate">ItemTemplate</a> свойство. Для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol">ContentControl</a> объектов, это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol.contenttemplate">ContentTemplate</a> свойство.</p>
<p><a name="Styling_DataType"></a></p>
<h3 id="the-datatype-property">Свойство DataType</h3>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> Класс имеет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate.datatype">DataType</a> свойство, которое очень похоже на <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.style.targettype">TargetType</a> свойство <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.style">Style</a> класса. Таким образом, вместо указания <code>x:Key</code> для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> в приведенном выше примере можно сделать следующее:</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#DataType">&lt;DataTemplate DataType=&quot;{x:Type local:Task}&quot;&gt;
  &lt;StackPanel&gt;
    &lt;TextBlock Text=&quot;{Binding Path=TaskName}&quot; /&gt;
    &lt;TextBlock Text=&quot;{Binding Path=Description}&quot;/&gt;
    &lt;TextBlock Text=&quot;{Binding Path=Priority}&quot;/&gt;
  &lt;/StackPanel&gt;
&lt;/DataTemplate&gt;
</code></pre>
<p>Это <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> автоматически применяется ко всем <code>Task</code> объектов. Обратите внимание, что в этом случае <code>x:Key</code> устанавливается неявно. Таким образом при назначении этого <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> <code>x:Key</code> значение, вы переопределяете явное <code>x:Key</code> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> не будет применяться автоматически.</p>
<p>При связывании <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol">ContentControl</a> на коллекцию <code>Task</code> объектов, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol">ContentControl</a> не используйте указанные выше <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> автоматически. Это обусловлено привязки на <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol">ContentControl</a> требуется больше информации для различения ли вы хотите выполнить привязку ко всей коллекции или отдельные объекты. Если ваш <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol">ContentControl</a> отслеживает выбор <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol">ItemsControl</a> типа, можно задать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.data.binding.path">Path</a> свойство <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol">ContentControl</a> привязка к &quot;<code>/</code>&quot; для указания, что вы заинтересованы в текущем элементе. Для примера см. <a href="how-to-bind-to-a-collection-and-display-information-based-on-selection.html">Выполнение привязки к коллекции и вывод сведений в зависимости от выделенного элемента</a>. В противном случае необходимо указать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> явным образом задав <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentcontrol.contenttemplate">ContentTemplate</a> свойство.</p>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate.datatype">DataType</a> Свойство особенно полезно при наличии <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.data.compositecollection">CompositeCollection</a> различных типов объектов данных. Пример см. в разделе <a href="how-to-implement-a-compositecollection.html">Реализация CompositeCollection</a>.</p>
<p><a name="adding_more_to_datatemplate"></a></p>
<h2 id="adding-more-to-the-datatemplate">Добавление дополнительных данных в DataTemplate</h2>
<p>В настоящее время данные содержат необходимую информацию, но определенно это можно улучшить. Давайте улучшим представление, добавив <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.border">Border</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.grid">Grid</a>и некоторые <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.textblock">TextBlock</a> элементы, описывающие данные, отображается.</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro#AddingMore">
&lt;DataTemplate x:Key=&quot;myTaskTemplate&quot;&gt;
  &lt;Border Name=&quot;border&quot; BorderBrush=&quot;Aqua&quot; BorderThickness=&quot;1&quot;
          Padding=&quot;5&quot; Margin=&quot;5&quot;&gt;
    &lt;Grid&gt;
      &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition/&gt;
        &lt;RowDefinition/&gt;
        &lt;RowDefinition/&gt;
      &lt;/Grid.RowDefinitions&gt;
      &lt;Grid.ColumnDefinitions&gt;
        &lt;ColumnDefinition /&gt;
        &lt;ColumnDefinition /&gt;
      &lt;/Grid.ColumnDefinitions&gt;
      &lt;TextBlock Grid.Row=&quot;0&quot; Grid.Column=&quot;0&quot; Text=&quot;Task Name:&quot;/&gt;
      &lt;TextBlock Grid.Row=&quot;0&quot; Grid.Column=&quot;1&quot; Text=&quot;{Binding Path=TaskName}&quot; /&gt;
      &lt;TextBlock Grid.Row=&quot;1&quot; Grid.Column=&quot;0&quot; Text=&quot;Description:&quot;/&gt;
      &lt;TextBlock Grid.Row=&quot;1&quot; Grid.Column=&quot;1&quot; Text=&quot;{Binding Path=Description}&quot;/&gt;
      &lt;TextBlock Grid.Row=&quot;2&quot; Grid.Column=&quot;0&quot; Text=&quot;Priority:&quot;/&gt;
      &lt;TextBlock Grid.Row=&quot;2&quot; Grid.Column=&quot;1&quot; Text=&quot;{Binding Path=Priority}&quot;/&gt;
    &lt;/Grid&gt;
  &lt;/Border&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro#AddingMore2">&lt;/DataTemplate&gt;
</code></pre>
<p>На следующем снимке экрана показан <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> с этим измененным <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>:</p>
<p><img src="media/datatemplatingintro-fig4.png" alt="Снимок экрана шаблонов данных" title="DataTemplatingIntro_fig4"></p>
<p>Можно установить <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.control.horizontalcontentalignment">HorizontalContentAlignment</a> для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.horizontalalignment#System_Windows_HorizontalAlignment_Stretch">Stretch</a> на <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> чтобы убедиться, что ширина элементов занимает все пространство:</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#Stretch">&lt;ListBox Width=&quot;400&quot; Margin=&quot;10&quot;
     ItemsSource=&quot;{Binding Source={StaticResource myTodoList}}&quot;
     ItemTemplate=&quot;{StaticResource myTaskTemplate}&quot; 
     HorizontalContentAlignment=&quot;Stretch&quot;/&gt;
</code></pre>
<p>С помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.control.horizontalcontentalignment">HorizontalContentAlignment</a> свойство значение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.horizontalalignment#System_Windows_HorizontalAlignment_Stretch">Stretch</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> теперь выглядит следующим образом:</p>
<p><img src="media/datatemplatingintro-fig5.png" alt="Снимок экрана шаблонов данных" title="DataTemplatingIntro_fig5"></p>
<p><a name="DataTrigger_to_Apply_Property_Values"></a></p>
<h3 id="use-datatriggers-to-apply-property-values">Использование триггеров данных для применения значений свойств</h3>
<p>В настоящей презентации не говорится о том, является ли <code>Task</code> домашней задачей или офисной. Помните, что объект <code>Task</code> имеет свойство <code>TaskType</code> типа <code>TaskType</code>, который является перечислением со значениями <code>Home</code> и <code>Work</code>.</p>
<p>В следующем примере <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatrigger">DataTrigger</a> задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.border.borderbrush">BorderBrush</a> элемента с именем <code>border</code> для <code>Yellow</code> Если <code>TaskType</code> свойство <code>TaskType.Home</code>.</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro#DT">&lt;DataTemplate x:Key=&quot;myTaskTemplate&quot;&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro#DataTrigger">&lt;DataTemplate.Triggers&gt;
  &lt;DataTrigger Binding=&quot;{Binding Path=TaskType}&quot;&gt;
    &lt;DataTrigger.Value&gt;
      &lt;local:TaskType&gt;Home&lt;/local:TaskType&gt;
    &lt;/DataTrigger.Value&gt;
    &lt;Setter TargetName=&quot;border&quot; Property=&quot;BorderBrush&quot; Value=&quot;Yellow&quot;/&gt;
  &lt;/DataTrigger&gt;
&lt;/DataTemplate.Triggers&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro#AddingMore2">&lt;/DataTemplate&gt;
</code></pre>
<p>Наше приложение теперь выглядит следующим образом. Домашние задачи отображаются с желтой границей, а офисные — с синей границей:</p>
<p><img src="media/datatemplatingintro-fig6.png" alt="Снимок экрана шаблонов данных" title="DataTemplatingIntro_fig6"></p>
<p>В этом примере <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatrigger">DataTrigger</a> использует <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.setter">Setter</a> для задания значения свойства. Классы триггера также имеют <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.triggerbase.enteractions">EnterActions</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.triggerbase.exitactions">ExitActions</a> свойства, позволяющие запускать ряд действий, например анимацию. Кроме того, имеется также <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.multidatatrigger">MultiDataTrigger</a> , позволяющий применять изменения на основе значений нескольких свойств с привязкой к данным.</p>
<p>Альтернативным способом достижения такого же эффекта является привязка <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.border.borderbrush">BorderBrush</a> свойства <code>TaskType</code> и использование преобразователя значения для возврата цвета на основе <code>TaskType</code> значение. Создание вышеупомянутого эффекта с помощью преобразователя является немного более эффективным с точки зрения производительности. Кроме того, создание собственных преобразователей обеспечивает большую гибкость, так как вы предоставляете свою собственную логику. В конечном счете выбор техники зависит от сценария и предпочтений. Сведения о том, как написать преобразователь см. в разделе <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.data.ivalueconverter">IValueConverter</a>.</p>
<p><a name="what_belongs_in_datatemplate"></a></p>
<h3 id="what-belongs-in-a-datatemplate">Что входит в DataTemplate?</h3>
<p>В предыдущем примере мы разместили триггер в <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>.<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate.triggers">Triggers</a> . <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.setter">Setter</a> Триггера задает значение свойства элемента ( <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.border">Border</a> элемент), находится в пределах <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>. Тем не менее если свойства, ваш <code>Setters</code> интересует не являются свойствами элементов, которые находятся в текущем <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>, возможно, больше подойдет задание свойств с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.style">Style</a> , предназначенная для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listboxitem">ListBoxItem</a> класса (если элемент управления, связывании <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a>). Например, если вы хотите, чтобы ваши <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.trigger">Trigger</a> для анимации <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.opacity">Opacity</a> значение элемента при наведении указателя мыши на элемент, определите триггеры <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listboxitem">ListBoxItem</a> стиля. Пример см. в разделе <a href="https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&amp;%20Templates/IntroToStylingAndTemplating">Вводная часть примера стилизации и использования шаблонов</a>.</p>
<p>Как правило, имейте в виду, что <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> , применяется к каждому созданного <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listboxitem">ListBoxItem</a> (Дополнительные сведения о том, как и где он фактически применяется см. в разделе <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemtemplate">ItemTemplate</a> страницы.). Ваш <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> отвечает только за презентацию и внешний вид объектов данных. В большинстве случаев все другие аспекты представления, например как элемент выглядит при его выборе или как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> размещает элементы, не входящие в определение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>. Пример см. в разделе <a href="#DataTemplating_ItemsControl">Стилизация и использование шаблонов для ItemsControl</a>.</p>
<p><a name="Styling_StyleSelection"></a></p>
<h2 id="choosing-a-datatemplate-based-on-properties-of-the-data-object">Выбор DataTemplate на основе свойств объекта данных</h2>
<p>В разделе <a href="#Styling_DataType">Свойство DataType</a> мы говорили о том, что можно определить различные шаблоны данных для различных объектов данных. Это особенно полезно при наличии <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.data.compositecollection">CompositeCollection</a> различных типов или коллекций с элементами различных типов. В <a href="#DataTrigger_to_Apply_Property_Values">использование триггеров данных для применения значений свойств</a> разделе было показано, что если у вас есть коллекция объектов данных одного типа можно создать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> и затем использовать триггеры для применения изменений на основании значений свойств Каждый объект данных. Тем не менее, хотя триггеры позволяют применить значения свойств или запустить анимацию, они не предоставляют гибкость, достаточную для реконструкции структуры объектов данных. Некоторые сценарии могут потребовать создания различных <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> для данных объектов, которые имеют тот же тип, но разные свойства.</p>
<p>Например, если объект <code>Task</code> имеет значение <code>Priority</code> свойства <code>1</code>, вы можете задать совершенно другой вид для него, чтобы сделать его сигналом оповещения. В этом случае создается <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> для отображения с высоким приоритетом <code>Task</code> объектов. Давайте добавим следующий <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> в раздел ресурсов:</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#ImportantTemplate">&lt;DataTemplate x:Key=&quot;importantTaskTemplate&quot;&gt;
  &lt;DataTemplate.Resources&gt;
    &lt;Style TargetType=&quot;TextBlock&quot;&gt;
      &lt;Setter Property=&quot;FontSize&quot; Value=&quot;20&quot;/&gt;
    &lt;/Style&gt;
  &lt;/DataTemplate.Resources&gt;
  &lt;Border Name=&quot;border&quot; BorderBrush=&quot;Red&quot; BorderThickness=&quot;1&quot;
          Padding=&quot;5&quot; Margin=&quot;5&quot;&gt;
    &lt;DockPanel HorizontalAlignment=&quot;Center&quot;&gt;
      &lt;TextBlock Text=&quot;{Binding Path=Description}&quot; /&gt;
      &lt;TextBlock&gt;!&lt;/TextBlock&gt;
    &lt;/DockPanel&gt;
  &lt;/Border&gt;
&lt;/DataTemplate&gt;
</code></pre>
<p>Обратите внимание, что в этом примере используется <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>.<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.frameworktemplate.resources">Resources</a> . Ресурсы, определенные в этом разделе, являются общими для элементов внутри <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a>.</p>
<p>Чтобы задать логику выбирать, какие <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> для использования на основе <code>Priority</code> значение объекта данных, создать подкласс <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.datatemplateselector">DataTemplateSelector</a> и переопределить <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.datatemplateselector.selecttemplate">SelectTemplate</a> метод. В следующем примере <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.datatemplateselector.selecttemplate">SelectTemplate</a> метод предоставляет логику для возвращения соответствующего шаблона на основе значения из <code>Priority</code> свойство. Возвращаемый шаблон находится в ресурсах <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.window">Window</a> элемент.</p>
<pre><code class="lang-csharp" name="DataTemplatingIntro_snip#DTSClass">using System.Windows;
using System.Windows.Controls;

namespace SDKSample
{
    public class TaskListDataTemplateSelector : DataTemplateSelector
    {
        public override DataTemplate
            SelectTemplate(object item, DependencyObject container)
        {
            FrameworkElement element = container as FrameworkElement;

            if (element != null &amp;&amp; item != null &amp;&amp; item is Task)
            {
                Task taskitem = item as Task;

                if (taskitem.Priority == 1)
                    return
                        element.FindResource(&quot;importantTaskTemplate&quot;) as DataTemplate;
                else
                    return
                        element.FindResource(&quot;myTaskTemplate&quot;) as DataTemplate;
            }

            return null;
        }
    }
}
</code></pre><div class="WARNING">
<h5>Warning</h5>
<p>It looks like the sample you are looking for does not exist.</p>
</div>
<p>Затем можно объявить <code>TaskListDataTemplateSelector</code> как ресурс:</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#R1">&lt;Window.Resources&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro_snip#DTS">&lt;local:TaskListDataTemplateSelector x:Key=&quot;myDataTemplateSelector&quot;/&gt;
</code></pre><pre><code class="lang-xaml" name="DataTemplatingIntro_snip#R2">&lt;/Window.Resources&gt;
</code></pre>
<p>Для использования ресурса выбора шаблона, назначьте его <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemtemplateselector">ItemTemplateSelector</a> свойство <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a>. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> Вызовы <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.datatemplateselector.selecttemplate">SelectTemplate</a> метод <code>TaskListDataTemplateSelector</code> для каждого элемента в базовой коллекции. Вызов передает объект данных в качестве параметра элемента. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> , Возвращаемый метод применяется к объекту данных.</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#ItemTemplateSelector">&lt;ListBox Width=&quot;400&quot; Margin=&quot;10&quot;
         ItemsSource=&quot;{Binding Source={StaticResource myTodoList}}&quot;
         ItemTemplateSelector=&quot;{StaticResource myDataTemplateSelector}&quot;
         HorizontalContentAlignment=&quot;Stretch&quot;/&gt;
</code></pre>
<p>С помощью выбора шаблона на месте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.listbox">ListBox</a> теперь выглядит следующим образом:</p>
<p><img src="media/datatemplatingintro-fig7.png" alt="Снимок экрана шаблонов данных" title="DataTemplatingIntro_fig7"></p>
<p>Это заключительный шаг нашего обсуждения данного примера. Полный пример см. в разделе <a href="https://github.com/Microsoft/WPF-Samples/tree/master/Data%20Binding/DataTemplatingIntro">Вводная часть примера стилизации и использования шаблонов</a>.</p>
<p><a name="DataTemplating_ItemsControl"></a></p>
<h2 id="styling-and-templating-an-itemscontrol">Стилизация и использование шаблонов для ItemsControl</h2>
<p>Несмотря на то что <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol">ItemsControl</a> не является единственным типом элемента управления, который можно использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> , это очень распространенный сценарий для привязки <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol">ItemsControl</a> в коллекцию. В <a href="#what_belongs_in_datatemplate">что входит в DataTemplate</a> разделе мы рассмотрели, что определение вашего <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> должен быть только за презентационный уровень данных. Чтобы узнать, когда это не подходит для использования <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.datatemplate">DataTemplate</a> важно понимать различные свойства стиля и шаблона, предоставляемые <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol">ItemsControl</a>. Следующий пример предназначен для демонстрации функции каждого из этих свойств. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol">ItemsControl</a> В этом примере, привязан к той же <code>Tasks</code> коллекции, как показано в предыдущем примере. Для демонстрационных целей все стили и шаблоны в этом примере объявлены встроенными.</p>
<pre><code class="lang-xaml" name="DataTemplatingIntro_snip#ItemsControlProperties">&lt;ItemsControl Margin=&quot;10&quot;
              ItemsSource=&quot;{Binding Source={StaticResource myTodoList}}&quot;&gt;
  &lt;!--The ItemsControl has no default visual appearance.
      Use the Template property to specify a ControlTemplate to define
      the appearance of an ItemsControl. The ItemsPresenter uses the specified
      ItemsPanelTemplate (see below) to layout the items. If an
      ItemsPanelTemplate is not specified, the default is used. (For ItemsControl,
      the default is an ItemsPanelTemplate that specifies a StackPanel.--&gt;
  &lt;ItemsControl.Template&gt;
    &lt;ControlTemplate TargetType=&quot;ItemsControl&quot;&gt;
      &lt;Border BorderBrush=&quot;Aqua&quot; BorderThickness=&quot;1&quot; CornerRadius=&quot;15&quot;&gt;
        &lt;ItemsPresenter/&gt;
      &lt;/Border&gt;
    &lt;/ControlTemplate&gt;
  &lt;/ItemsControl.Template&gt;
  &lt;!--Use the ItemsPanel property to specify an ItemsPanelTemplate
      that defines the panel that is used to hold the generated items.
      In other words, use this property if you want to affect
      how the items are laid out.--&gt;
  &lt;ItemsControl.ItemsPanel&gt;
    &lt;ItemsPanelTemplate&gt;
      &lt;WrapPanel /&gt;
    &lt;/ItemsPanelTemplate&gt;
  &lt;/ItemsControl.ItemsPanel&gt;
  &lt;!--Use the ItemTemplate to set a DataTemplate to define
      the visualization of the data objects. This DataTemplate
      specifies that each data object appears with the Proriity
      and TaskName on top of a silver ellipse.--&gt;
  &lt;ItemsControl.ItemTemplate&gt;
    &lt;DataTemplate&gt;
      &lt;DataTemplate.Resources&gt;
        &lt;Style TargetType=&quot;TextBlock&quot;&gt;
          &lt;Setter Property=&quot;FontSize&quot; Value=&quot;18&quot;/&gt;
          &lt;Setter Property=&quot;HorizontalAlignment&quot; Value=&quot;Center&quot;/&gt;
        &lt;/Style&gt;
      &lt;/DataTemplate.Resources&gt;
      &lt;Grid&gt;
        &lt;Ellipse Fill=&quot;Silver&quot;/&gt;
        &lt;StackPanel&gt;
          &lt;TextBlock Margin=&quot;3,3,3,0&quot;
                     Text=&quot;{Binding Path=Priority}&quot;/&gt;
          &lt;TextBlock Margin=&quot;3,0,3,7&quot;
                     Text=&quot;{Binding Path=TaskName}&quot;/&gt;
        &lt;/StackPanel&gt;
      &lt;/Grid&gt;
    &lt;/DataTemplate&gt;
  &lt;/ItemsControl.ItemTemplate&gt;
  &lt;!--Use the ItemContainerStyle property to specify the appearance
      of the element that contains the data. This ItemContainerStyle
      gives each item container a margin and a width. There is also
      a trigger that sets a tooltip that shows the description of
      the data object when the mouse hovers over the item container.--&gt;
  &lt;ItemsControl.ItemContainerStyle&gt;
    &lt;Style&gt;
      &lt;Setter Property=&quot;Control.Width&quot; Value=&quot;100&quot;/&gt;
      &lt;Setter Property=&quot;Control.Margin&quot; Value=&quot;5&quot;/&gt;
      &lt;Style.Triggers&gt;
        &lt;Trigger Property=&quot;Control.IsMouseOver&quot; Value=&quot;True&quot;&gt;
          &lt;Setter Property=&quot;Control.ToolTip&quot;
                  Value=&quot;{Binding RelativeSource={x:Static RelativeSource.Self},
                          Path=Content.Description}&quot;/&gt;
        &lt;/Trigger&gt;
      &lt;/Style.Triggers&gt;
    &lt;/Style&gt;
  &lt;/ItemsControl.ItemContainerStyle&gt;
&lt;/ItemsControl&gt;
</code></pre>
<p>Ниже приведен снимок экрана примера при его просмотре:</p>
<p><img src="media/databinding-itemscontrolproperties.png" alt="Снимок экрана примера ItemsControl" title="DataBinding_ItemsControlProperties"></p>
<p>Обратите внимание, что вместо использования <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemtemplate">ItemTemplate</a>, можно использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemtemplateselector">ItemTemplateSelector</a>. Пример см. в предыдущем разделе. Аналогичным образом, вместо использования <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemcontainerstyle">ItemContainerStyle</a>, у вас есть возможность использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.itemcontainerstyleselector">ItemContainerStyleSelector</a>.</p>
<p>Два других относящихся к стилю свойства <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol">ItemsControl</a> , не отображаются, вот <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.groupstyle">GroupStyle</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.itemscontrol.groupstyleselector">GroupStyleSelector</a>.</p>
<p><a name="DataTemplating_HeirarchicalDataTemplate"></a></p>
<h2 id="support-for-hierarchical-data">Поддержка иерархических данных</h2>
<p>Пока мы только рассматривали как привязывать и отображать одну коллекцию. Иногда встречается коллекция, содержащая другие коллекции. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.hierarchicaldatatemplate">HierarchicalDataTemplate</a> Класс предназначен для использования с <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.headereditemscontrol">HeaderedItemsControl</a> типы для отображения таких данных. В следующем примере <code>ListLeagueList</code> является списком объектов <code>League</code>. Каждый объект <code>League</code> содержит <code>Name</code> и коллекцию объектов <code>Division</code>. Каждый <code>Division</code> содержит <code>Name</code> и коллекцию объектов <code>Team</code>, и каждый объект <code>Team</code> содержит <code>Name</code>.</p>
<pre><code class="lang-xaml" name="HierarchicalDataTemplateSnippet#HDT">&lt;Window x:Class=&quot;SDKSample.Window1&quot;
  xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
  xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
  Title=&quot;HierarchicalDataTemplate Sample&quot;
  xmlns:src=&quot;clr-namespace:SDKSample&quot;&gt;
  &lt;DockPanel&gt;
    &lt;DockPanel.Resources&gt;
      &lt;src:ListLeagueList x:Key=&quot;MyList&quot;/&gt;

      &lt;HierarchicalDataTemplate DataType    = &quot;{x:Type src:League}&quot;
                                ItemsSource = &quot;{Binding Path=Divisions}&quot;&gt;
        &lt;TextBlock Text=&quot;{Binding Path=Name}&quot;/&gt;
      &lt;/HierarchicalDataTemplate&gt;

      &lt;HierarchicalDataTemplate DataType    = &quot;{x:Type src:Division}&quot;
                                ItemsSource = &quot;{Binding Path=Teams}&quot;&gt;
        &lt;TextBlock Text=&quot;{Binding Path=Name}&quot;/&gt;
      &lt;/HierarchicalDataTemplate&gt;

      &lt;DataTemplate DataType=&quot;{x:Type src:Team}&quot;&gt;
        &lt;TextBlock Text=&quot;{Binding Path=Name}&quot;/&gt;
      &lt;/DataTemplate&gt;
    &lt;/DockPanel.Resources&gt;

    &lt;Menu Name=&quot;menu1&quot; DockPanel.Dock=&quot;Top&quot; Margin=&quot;10,10,10,10&quot;&gt;
        &lt;MenuItem Header=&quot;My Soccer Leagues&quot;
                  ItemsSource=&quot;{Binding Source={StaticResource MyList}}&quot; /&gt;
    &lt;/Menu&gt;

    &lt;TreeView&gt;
      &lt;TreeViewItem ItemsSource=&quot;{Binding Source={StaticResource MyList}}&quot; Header=&quot;My Soccer Leagues&quot; /&gt;
    &lt;/TreeView&gt;

  &lt;/DockPanel&gt;
&lt;/Window&gt;
</code></pre>
<p>Пример показывает, что с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.hierarchicaldatatemplate">HierarchicalDataTemplate</a>, можно отобразить данные списка, содержащего другие списки. Ниже приведен снимок экрана примера.</p>
<p><img src="media/databinding-hierarchicaldatatemplate.png" alt="Снимок экрана примера HierarchicalDataTemplate" title="DataBinding_HierarchicalDataTemplate"></p>
<h2 id="see-also">См. также</h2>
<ul>
<li><a href="../advanced/optimizing-performance-data-binding.html">Привязка данных</a></li>
<li><a href="how-to-find-datatemplate-generated-elements.html">Поиск элементов, созданных с использованием шаблона DataTemplate</a></li>
<li><a href="../controls/styling-and-templating.html">Стилизация и использование шаблонов</a></li>
<li><a href="data-binding-overview.html">Общие сведения о привязке данных</a></li>
<li><a href="../controls/gridview-column-header-styles-and-templates-overview.html">Общие сведения о стилях заголовков столбцов GridView и шаблонах</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
