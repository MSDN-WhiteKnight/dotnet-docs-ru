<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1054;&#1073;&#1097;&#1080;&#1077; &#1089;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1103; &#1086; &#1090;&#1086;&#1087;&#1086;&#1083;&#1086;&#1075;&#1080;&#1080; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1086;&#1074; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1054;&#1073;&#1097;&#1080;&#1077; &#1089;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1103; &#1086; &#1090;&#1086;&#1087;&#1086;&#1083;&#1086;&#1075;&#1080;&#1080; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1086;&#1074; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="navigation-topologies-overview">Общие сведения о топологии переходов</h1>

<p><a name="introduction"></a> Данный обзор представляет введение в топологии навигации в WPF. Последовательно рассматриваются три общие топологии навигации с примерами.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Перед прочтением этого раздела следует ознакомиться с концепцией структурной навигации в WPF с помощью страничных функций. Дополнительные сведения по этим темам см. в разделе <a href="structured-navigation-overview.html">Общие сведения о структурной навигации</a>.</p>
</div>
<p>В этом разделе содержатся следующие подразделы.</p>
<ul>
<li><p><a href="#Navigation_Topologies">Топологии навигации</a></p>
</li>
<li><p><a href="#Structured_Navigation_Topologies">Топологии структурной навигации</a></p>
</li>
<li><p><a href="#Navigation_over_a_Fixed_Linear_Topology">Навигация при фиксированной линейной топологии</a></p>
</li>
<li><p><a href="#Dynamic_Navigation_over_a_Fixed_Hierarchical_Topology">Динамическая навигация при фиксированной иерархической топологии</a></p>
</li>
<li><p><a href="#Navigation_over_a_Dynamically_Generated_Topology">Навигация при динамически создаваемой топологии</a></p>
</li>
</ul>
<p><a name="Navigation_Topologies"></a></p>
<h2 id="navigation-topologies">Топологии навигации</h2>
<p>В WPF, навигация обычно состоит из страниц (<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.page">Page</a>) с гиперссылками (<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.documents.hyperlink">Hyperlink</a>), перейти на другие страницы, при щелчке. Посещенные страницы определяются по универсальные идентификаторы ресурсов (URI) (см. в разделе <a href="pack-uris-in-wpf.html">URI типа Pack в WPF</a>). Рассмотрим следующий простой пример, показывающий страницы, гиперссылки и универсальные идентификаторы ресурсов (URI):</p>
<pre><code class="lang-xaml" name="NavigationTopologiesOverviewSnippets#Page1">&lt;Page xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot; WindowTitle=&quot;Page1&quot;&gt;
  &lt;Hyperlink NavigateUri=&quot;Page2.xaml&quot;&gt;Navigate to Page2&lt;/Hyperlink&gt;
&lt;/Page&gt;
</code></pre><pre><code class="lang-xaml" name="NavigationTopologiesOverviewSnippets#Page2">&lt;Page xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot; WindowTitle=&quot;Page2&quot;&gt;
  &lt;Hyperlink NavigateUri=&quot;Page1.xaml&quot;&gt;Navigate to Page1&lt;/Hyperlink&gt;
&lt;/Page&gt;
</code></pre>
<p>Эти страницы располагаются в <em>топологии навигации</em> структура которой определяется, как переходы между страницами. Эта конкретная топология навигации подходит для простых сценариев, хотя навигация может требовать более сложные топологии, некоторые из которых могут быть определены только при запуске приложения.</p>
<p>В этом разделе рассматриваются три общие топологии навигации: <em>Фиксированная линейная</em>, <em>фиксированная иерархическая</em>, и <em>динамически создаваемого</em>. Каждая топология навигации демонстрируется на примере, который имеет UI как показано на следующем рисунке:</p>
<p><img src="media/navigation-topologies-overview/navigation-topology-data-items.png" alt="Страницы задач с элементами данных и кнопки навигации."></p>
<p><a name="Structured_Navigation_Topologies"></a></p>
<h2 id="structured-navigation-topologies">Топологии структурной навигации</h2>
<p>Существует два широко известных типа топологии навигации.</p>
<ul>
<li><p><strong>Фиксированная топология</strong>: определяется во время компиляции и не изменяется во время выполнения. Фиксированные топологии полезны для перехода по фиксированной последовательности страниц в линейном или иерархическом порядке.</p>
</li>
<li><p><strong>Динамическая топология</strong>: определяется во время выполнения на основе входных данных, собираемых от пользователей, приложений или системы. Динамические топологии полезны в тех случаях, когда на страницы можно переходить в разных последовательностях.</p>
</li>
</ul>
<p>Хотя возможно создание топологии навигации с помощью страниц, в примерах используются страничные функции, поскольку они предоставляют дополнительные возможности, которые упрощают поддержку передачи и возврата данных по страницам топологии.</p>
<p><a name="Navigation_over_a_Fixed_Linear_Topology"></a></p>
<h2 id="navigation-over-a-fixed-linear-topology">Навигация при фиксированной линейной топологии</h2>
<p>Фиксированная линейная топология является аналогом структуры мастера с одной или несколькими страницами, по которым можно переходить в фиксированной последовательности. На следующем рисунке показана высокоуровневая структура и поток мастера с фиксированной линейной топологии.</p>
<p><img src="media/navigation-topologies-overview/navigation-topology-fixed-linear.png" alt="Схема, показывающая фиксированной линейной топологии."></p>
<p>Типичные варианты поведения для навигации по фиксированной линейной топологии могут быть следующие.</p>
<ul>
<li><p>Переход из вызывающей страницы на страницу средства запуска, которое инициализирует мастер и переходит к первой странице мастера. Страница запуска ( UI-меньше <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.navigation.pagefunction-1">PageFunction&lt;T&gt;</a>) не является обязательным, поскольку вызывающая страница может напрямую вызывать первую страницу мастера. Однако используя страницу средства запуска, можно упростить инициализацию мастера, особенно если инициализация сложна.</p>
</li>
<li><p>Пользователи могут переходить между страницами с помощью кнопок &quot;Назад&quot; и &quot;Вперед&quot; (или гиперссылок).</p>
</li>
<li><p>Пользователи могут переходить по страницам с помощью журнала.</p>
</li>
<li><p>Пользователи могут отменить работу мастера на любой странице, нажав кнопку &quot;Отмена&quot;.</p>
</li>
<li><p>Пользователи могут принять работу мастера на последней странице, нажав кнопку &quot;Готово&quot;.</p>
</li>
<li><p>Если мастер отменяется, то он возвращает соответствующий результат и не возвращает никаких данных.</p>
</li>
<li><p>Если пользователь принимает работу мастера, мастер возвращает соответствующий результат и возвращает собранные им данные.</p>
</li>
<li><p>По завершении мастера (принятия или отмены) страницы, которые составляли мастер, будут удалены из журнала. Это сохраняет каждый экземпляр мастера изолированным, тем самым позволяя избежать потенциальных ошибок данных или состояния.</p>
</li>
</ul>
<p><a name="Dynamic_Navigation_over_a_Fixed_Hierarchical_Topology"></a></p>
<h2 id="dynamic-navigation-over-a-fixed-hierarchical-topology">Динамическая навигация при фиксированной иерархической топологии</h2>
<p>В некоторых приложениях страницы позволяют осуществлять переход на две или более страниц, как показано на следующем рисунке:</p>
<p><img src="media/navigation-topologies-overview/navigation-topology-multiple-pages.png" alt="Схема, показывающая страница, на которой можно перейти на несколько страниц."></p>
<p>Эта структура называется фиксированной иерархической топологией, и последовательность обхода иерархии часто определяется во время выполнения приложением или пользователем. Во время выполнения каждая страница в иерархии, позволяющая выполнять переходы на несколько страниц, собирает данные, необходимые для определения страниц для перехода. На следующем рисунке показано одно из нескольких возможных последовательностей переходов на основе предыдущего рисунка:</p>
<p><img src="media/navigation-topologies-overview/navigation-topology-fixed-hierarchical.png" alt="Схема, показывающая последовательность возможных переходов."></p>
<p>Несмотря на то, что последовательность переходов по страницам в фиксированной иерархической структуре определяется во время выполнения, взаимодействие с пользователем такое же, как в фиксированной линейной топологии.</p>
<ul>
<li><p>Переход из вызывающей страницы на страницу средства запуска, которое инициализирует мастер и переходит к первой странице мастера. Страница запуска ( UI-меньше <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.navigation.pagefunction-1">PageFunction&lt;T&gt;</a>) не является обязательным, поскольку вызывающая страница может напрямую вызывать первую страницу мастера. Однако используя страницу средства запуска, можно упростить инициализацию мастера, особенно если инициализация сложна.</p>
</li>
<li><p>Пользователи могут переходить между страницами с помощью кнопок &quot;Назад&quot; и &quot;Вперед&quot; (или гиперссылок).</p>
</li>
<li><p>Пользователи могут переходить по страницам с помощью журнала.</p>
</li>
<li><p>Пользователи могут изменять последовательность навигации, если они перемещаются назад по журналу.</p>
</li>
<li><p>Пользователи могут отменить работу мастера на любой странице, нажав кнопку &quot;Отмена&quot;.</p>
</li>
<li><p>Пользователи могут принять работу мастера на последней странице, нажав кнопку &quot;Готово&quot;.</p>
</li>
<li><p>Если мастер отменяется, то он возвращает соответствующий результат и не возвращает никаких данных.</p>
</li>
<li><p>Если пользователь принимает работу мастера, мастер возвращает соответствующий результат и возвращает собранные им данные.</p>
</li>
<li><p>По завершении мастера (принятия или отмены) страницы, которые составляли мастер, будут удалены из журнала. Это сохраняет каждый экземпляр мастера изолированным, тем самым позволяя избежать потенциальных ошибок данных или состояния.</p>
</li>
</ul>
<p><a name="Navigation_over_a_Dynamically_Generated_Topology"></a></p>
<h2 id="navigation-over-a-dynamically-generated-topology">Навигация при динамически создаваемой топологии</h2>
<p>В некоторых приложениях последовательность, в которой осуществляется переход на две или более страниц, может быть определена только во время выполнения пользователем, приложением или внешними данными. Следующий рисунок иллюстрирует набор страниц с неопределенной последовательностью навигации:</p>
<p><img src="media/navigation-topologies-overview/navigation-topology-dynamically-generated.png" alt="Набор страниц с неопределенной последовательностью навигации."></p>
<p>На следующем рисунке показана последовательность навигации, которая была выбрана пользователем во время выполнения:</p>
<p><img src="media/navigation-topologies-overview/navigation-topology-sequence-chosen-run-time.png" alt="Схема, показывающая последовательность навигации, выбранный во время выполнения."></p>
<p>Эта последовательность навигации называется динамически создаваемой топологией. Взаимодействие с пользователем такое же, как и в предыдущих топологиях навигации.</p>
<ul>
<li><p>Переход из вызывающей страницы на страницу средства запуска, которое инициализирует мастер и переходит к первой странице мастера. Страница запуска ( UI-меньше <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.navigation.pagefunction-1">PageFunction&lt;T&gt;</a>) не является обязательным, поскольку вызывающая страница может напрямую вызывать первую страницу мастера. Однако используя страницу средства запуска, можно упростить инициализацию мастера, особенно если инициализация сложна.</p>
</li>
<li><p>Пользователи могут переходить между страницами с помощью кнопок &quot;Назад&quot; и &quot;Вперед&quot; (или гиперссылок).</p>
</li>
<li><p>Пользователи могут переходить по страницам с помощью журнала.</p>
</li>
<li><p>Пользователи могут отменить работу мастера на любой странице, нажав кнопку &quot;Отмена&quot;.</p>
</li>
<li><p>Пользователи могут принять работу мастера на последней странице, нажав кнопку &quot;Готово&quot;.</p>
</li>
<li><p>Если мастер отменяется, то он возвращает соответствующий результат и не возвращает никаких данных.</p>
</li>
<li><p>Если пользователь принимает работу мастера, мастер возвращает соответствующий результат и возвращает собранные им данные.</p>
</li>
<li><p>По завершении мастера (принятия или отмены) страницы, которые составляли мастер, будут удалены из журнала. Это сохраняет каждый экземпляр мастера изолированным, тем самым позволяя избежать потенциальных ошибок данных или состояния.</p>
</li>
</ul>
<h2 id="see-also">См. также</h2>
<ul>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.page">Page</a></li>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.navigation.pagefunction-1">PageFunction&lt;T&gt;</a></li>
<li><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.navigation.navigationservice">NavigationService</a></li>
<li><a href="structured-navigation-overview.html">Общие сведения о структурной навигации</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
