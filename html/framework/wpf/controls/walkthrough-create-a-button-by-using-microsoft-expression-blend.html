<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1055;&#1086;&#1096;&#1072;&#1075;&#1086;&#1074;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; Microsoft Expression Blend | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1055;&#1086;&#1096;&#1072;&#1075;&#1086;&#1074;&#1086;&#1077; &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1086;. &#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; Microsoft Expression Blend | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="walkthrough-create-a-button-by-using-microsoft-expression-blend">Пошаговое руководство. Создание кнопки с помощью Microsoft Expression Blend</h1>

<p>В этом пошаговом руководстве пошагово продемонстрирует процесс создания WPF настраиваемая кнопка, с помощью Microsoft Expression Blend.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>Microsoft Expression Blend работает путем создания Язык XAML , который затем компилируется для получения исполняемой программы. Если работать с Язык XAML напрямую, есть другой Пошаговое руководство, которое создает то же приложение, как это, используя Язык XAML с Visual Studio, а не в Blend. См. в разделе <a href="walkthrough-create-a-button-by-using-xaml.html">Создание кнопки с помощью XAML</a> Дополнительные сведения.</p>
</div>
<p>На следующем рисунке настраиваемая кнопка вы создадите.</p>
<p><img src="media/custom-button-blend-intro.jpg" alt="Настраиваемая кнопка, которая будет создан" title="custom_button_blend_Intro"></p>
<h2 id="convert-a-shape-to-a-button">Преобразование фигуры в кнопку</h2>
<p>В первой части этого пошагового руководства вы создадите пользовательский вид настраиваемой кнопки. Чтобы сделать это, сначала преобразуйте прямоугольник к кнопке. После этого добавить дополнительные фигуры к шаблону кнопки, создание более сложных внешнего вида кнопки. Почему бы не начать с обычной кнопки и ее настраивать? Поскольку кнопка имеет встроенные функции, не требуется; для пользовательских кнопок проще начать с прямоугольника.</p>
<h4 id="to-create-a-new-project-in-expression-blend">Чтобы создать новый проект в Expression Blend</h4>
<ol>
<li><p>Запустите Expression Blend. (Щелкните <strong>запустить</strong>, пункты <strong>все программы</strong>, пункты <strong>Microsoft Expression</strong>, а затем нажмите кнопку <strong>Microsoft Expression Blend</strong>.)</p>
</li>
<li><p>Разверните приложение, при необходимости.</p>
</li>
<li><p>В меню <strong>Файл</strong> выберите пункт <strong>Создать проект</strong>.</p>
</li>
<li><p>Выберите <strong>стандартное приложение (.exe)</strong>.</p>
</li>
<li><p>Назовите проект <code>CustomButton</code> и нажмите клавишу <strong>ОК</strong>.</p>
</li>
</ol>
<p>На этом этапе имеется пустой WPF проекта. Можно нажать F5, чтобы запустить приложение. Как можно догадаться, приложение состоит из пустое окно. Затем создайте прямоугольник с закругленными углами и преобразовать его в кнопку.</p>
<h4 id="to-convert-a-rectangle-to-a-button">Преобразуемый прямоугольник к кнопке</h4>
<ol>
<li><p><strong>Задайте для свойства фона окна на черный.</strong> Выберите окно, нажмите кнопку <strong>вкладка &quot;Свойства&quot;</strong> и задайте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.control.background">Background</a> свойства <code>Black</code>.</p>
<p><img src="media/custom-button-blend-changebackground.png" alt="Как задать фоновый цвет кнопки на черный" title="custom_button_blend_ChangeBackground"></p>
</li>
<li><p><strong>Нарисуйте прямоугольник приблизительного размера кнопки в окне:</strong> Выберите прямоугольник на панели инструментов слева и перетащите прямоугольник в окне.</p>
<p><img src="media/custom-button-blend-drawrect.png" alt="Рисование прямоугольника" title="custom_button_blend_DrawRect"></p>
</li>
<li><p><strong>Скруглите углы прямоугольника:</strong> Перетащите контрольные точки прямоугольника или непосредственная установка <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusx">RadiusX</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusy">RadiusY</a> свойства. Задайте значения свойств <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusx">RadiusX</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusy">RadiusY</a> до 20.</p>
<p><img src="media/custom-button-blend-roundcorners.png" alt="Как сделать углов прямоугольника round" title="custom_button_blend_RoundCorners"></p>
</li>
<li><p><strong>Измените прямоугольник в кнопке:</strong> Выберите прямоугольник. На <strong>средства</strong> меню, щелкните <strong>создать кнопку</strong>.</p>
<p><img src="media/custom-button-blend-makebutton.png" alt="Как сделать фигуры в кнопку" title="custom_button_blend_MakeButton"></p>
</li>
<li><p><strong>Укажите область стиля или шаблона:</strong> Откроется диалоговое окно следующим образом.</p>
<p><img src="media/custom-button-blend-makebutton2.gif" alt="Диалоговое окно «Создание ресурса стиля»" title="custom_button_blend_MakeButton2"></p>
<p>Для <strong>имя ресурса (ключ)</strong> выберите <strong>применить ко всем</strong>.  Это сделает полученного стиля и шаблона кнопки, которые применяются ко всем объектам, которые являются кнопками. Для <strong>определить в</strong>выберите <strong>приложения</strong>. Это сделает полученного стиля и шаблона кнопки имеют область видимости отказа всего приложения. Этот шаблон используется при задании значений в этих двух полей, стиля и шаблона применяются ко всем кнопкам в приложении и любой кнопки, создаваемые в приложении, по умолчанию.</p>
</li>
</ol>
<h2 id="edit-the-button-template">Изменение шаблона кнопки</h2>
<p>Теперь у вас есть прямоугольник, который был изменен на кнопке. В этом разделе вы измените шаблон кнопки и настроить его внешний вид.</p>
<h4 id="to-edit-the-button-template-to-change-the-button-appearance">Чтобы изменить шаблон кнопки, чтобы изменить внешний вид кнопки</h4>
<ol>
<li><p><strong>Перейдите в представление редактирования шаблона:</strong> Чтобы настроить внешний вид кнопки, необходимо изменить шаблон кнопки. Этот шаблон был создан в результате преобразования прямоугольника в кнопку. Чтобы изменить шаблон кнопки, правой кнопкой мыши и выберите <strong>изменить части элемента управления (шаблон)</strong> и затем <strong>изменить шаблон</strong>.</p>
<p><img src="media/custom-button-blend-edittemplate.jpg" alt="Изменение шаблона" title="custom_button_blend_EditTemplate"></p>
<p>В редакторе шаблона, обратите внимание на то, что теперь делятся на кнопки <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle">Rectangle</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentpresenter">ContentPresenter</a>. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentpresenter">ContentPresenter</a> Используется для представления содержимого кнопки (например, строка «Кнопка»). Оба прямоугольника и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentpresenter">ContentPresenter</a> располагаются внутри <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.grid">Grid</a>.</p>
<p><img src="media/custom-button-blend-templatepanel.png" alt="Компоненты в представлении прямоугольника" title="custom_button_blend_TemplatePanel"></p>
</li>
<li><p><strong>Измените имена компонентов шаблона:</strong> Щелкните правой кнопкой мыши прямоугольник в перечне шаблона, изменение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle">Rectangle</a> имя из «[прямоугольник]» на «скопировав outerRectangle» и измените «[ContentPresenter]» на «myContentPresenter».</p>
<p><img src="media/custom-button-blend-renamecomponents.png" alt="Переименование компонента шаблона" title="custom_button_blend_RenameComponents"></p>
</li>
<li><p><strong>ALTER прямоугольника, так как это пустой внутри (например, кольцо):</strong> Выберите <strong>скопировав outerRectangle</strong> и задайте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> «Transparent» и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.strokethickness">StrokeThickness</a> до 5.</p>
<p><img src="media/custom-button-blend-changerectproperties.png" alt="Как сделать пустым прямоугольник" title="custom_button_blend_ChangeRectProperties"></p>
<p>Затем установите <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.stroke">Stroke</a> все, что шаблон будет цвету. Для этого щелкните небольшой белый квадрат рядом <strong>Stroke</strong>выберите <strong>CustomExpression</strong>и введите «{TemplateBinding фона}» в диалоговом окне.</p>
<p><img src="media/custom-button-blend-templatestroke.png" alt="Как задать использование цвета шаблона" title="custom_button_blend_TemplateStroke"></p>
</li>
<li><p><strong>Создайте внутренний прямоугольник:</strong> Теперь создайте другого прямоугольника (назовите его «innerRectangle») и разместите его симметрично внутри <strong>скопировав outerRectangle</strong> . Для такой работы может потребоваться установить масштаб увеличить кнопку в области редактирования.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Прямоугольник может выглядеть отличается от того, на рисунке (например, он может иметь скругленные углы).</p>
</div>
<p><img src="media/custom-button-blend-innerrectangleproperties.png" alt="Создание прямоугольника в прямоугольнике" title="custom_button_blend_innerRectangleProperties"></p>
</li>
<li><p><strong>Переместите вверх ContentPresenter:</strong> На этом этапе вполне возможно, что текст «Button» не будет отображаться больше. Если Да, это обусловлено <strong>innerRectangle</strong> — на основе <strong>myContentPresenter</strong>. Чтобы устранить эту проблему, перетащите <strong>myContentPresenter</strong> ниже <strong>innerRectangle</strong>. Изменить положение прямоугольников и <strong>myContentPresenter</strong> чтобы выглядеть аналогично приведенному ниже.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Кроме того, можно также разместить <strong>myContentPresenter</strong> в верхней части, щелкнув его и нажав клавишу <strong>отправить Далее</strong>.</p>
</div>
<p><img src="media/custom-button-blend-innerrectangle2.png" alt="Перемещение одной кнопки на другую" title="custom_button_blend_innerRectangle2"></p>
</li>
<li><p><strong>Изменение внешнего вида innerRectangle:</strong> Задайте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusx">RadiusX</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusy">RadiusY</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.strokethickness">StrokeThickness</a> значения до 20. Кроме того, задайте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> фона для шаблона с помощью пользовательского выражения «{TemplateBinding фона}») и задайте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.stroke">Stroke</a> для «прозрачный». Обратите внимание, что параметры для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.stroke">Stroke</a> из <strong>innerRectangle</strong> противоположны для <strong>скопировав outerRectangle</strong>.</p>
<p><img src="media/custom-button-blend-glassrectangleproperties1.png" alt="Как изменить внешний вид прямоугольника" title="custom_button_blend_glassRectangleProperties1"></p>
</li>
<li><p><strong>Добавьте прозрачный слой в верхней части:</strong> Заключительная часть настройки внешнего вида кнопки является добавление прозрачный слой в верхней части. Этот прозрачный слой состоит из третьего прямоугольника. Так как прозрачный будут рассмотрены всю кнопку, прозрачный прямоугольник аналогична по измерения, которые необходимо <strong>скопировав outerRectangle</strong>. Таким образом, создать прямоугольник, просто копию <strong>скопировав outerRectangle</strong>. Выделите <strong>скопировав outerRectangle</strong> и используйте сочетание клавиш CTRL + C и CTRL + V для создания копии. Назовите этот новый прямоугольник «glassCube».</p>
</li>
<li><p><strong>При необходимости изменить положение glassCube:</strong> Если <strong>glassCube</strong> — еще не находится, чтобы он охватывал весь кнопки, перетащите его в нужное место.</p>
</li>
<li><p><strong>Присвойте glassCube немного другой форме по сравнению скопировав outerRectangle:</strong> Изменение свойств <strong>glassCube</strong>. Начните с изменения <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusx">RadiusX</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle.radiusy">RadiusY</a> свойства до 10 и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.strokethickness">StrokeThickness</a> до 2.</p>
<p><img src="media/custom-button-blend-glasscubeappearance.gif" alt="Параметры отображения для glassCube" title="custom_button_blend_GlassCubeAppearance"></p>
</li>
<li><p><strong>Сделайте glassCube стекла следующий вид:</strong> Задайте <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> для стеклянного вида с помощью линейного градиента, который составляет 75% непрозрачный и переключается между белым и прозрачным более чем 6 примерно равномерно расположенных интервалов времени. Это, какое значение позиции градиента:</p>
<ul>
<li><p>Ступень градиента 1: Белый цвет с альфа-значение 75%</p>
</li>
<li><p>Ограничение градиента 2: Прозрачный</p>
</li>
<li><p>Ограничение градиента 3: Белый цвет с альфа-значение 75%</p>
</li>
<li><p>Ограничение градиента 4: Прозрачный</p>
</li>
<li><p>Ограничение градиента 5: Белый цвет с альфа-значение 75%</p>
</li>
<li><p>Ограничение градиента 6: Прозрачный</p>
</li>
</ul>
<p>При этом создается вид «волнистой» прозрачного стекла.</p>
<p><img src="media/custom-button-blend-glassrectangleproperties2.png" alt="Прямоугольник, который выглядит как стекла" title="custom_button_blend_glassRectangleProperties2"></p>
</li>
<li><p><strong>Скрыть прозрачный слой:</strong> Теперь, когда вы видите, как выглядит стеклянного слоя, перейдите в <strong>внешний вид области</strong> из <strong>панель &quot;Свойства&quot;</strong> и установить прозрачность 0%, чтобы скрыть его. В разделах мы будем использовать триггеры свойств и событий для отображения и управления прозрачный слой.</p>
<p><img src="media/custom-button-glassrectangleproperties3.gif" alt="Как скрыть прозрачный прямоугольник" title="custom_button_glassRectangleProperties3"></p>
</li>
</ol>
<h2 id="customize-the-button-behavior">Настройте поведение кнопки</h2>
<p>На этом этапе вы уже настроили представление кнопки, изменив его шаблона, но кнопка не реагирует на действия пользователя как обычные кнопки (например, изменение внешнего вида при наведении, получает фокус и щелкнув.) В следующих двух процедурах показано как построить таким поведением, как их в настраиваемой кнопки. Мы начнем с простых триггеров свойства и затем добавление триггеров событий и анимации.</p>
<h4 id="to-set-property-triggers">Чтобы задать триггеры свойств</h4>
<ol>
<li><p><strong>Создайте новый триггер свойства:</strong> С помощью <strong>glassCube</strong> , щелкните <strong>+ свойство</strong> в <strong>триггеры</strong> панели (см. в разделе к рисунку, который следует за следующий шаг). Это создает триггер свойства с триггером свойства по умолчанию.</p>
</li>
<li><p><strong>Создайте свойство IsMouseOver, используемое триггером:</strong> Измените значение свойства на <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ismouseover">IsMouseOver</a>. В результате при активации триггера свойств <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ismouseover">IsMouseOver</a> свойство <code>true</code> (при наведении указателя мыши на кнопку мыши).</p>
<p><img src="media/custom-button-blend-ismousedoverpropertytrigger.png" alt="Практическое задание триггера свойства" title="custom_button_blend_IsMousedOverPropertyTrigger"></p>
</li>
<li><p><strong>Непрозрачность 100% для glassCube триггеров IsMouseOver:</strong> Обратите внимание, что <strong>записи триггера</strong> (см. предыдущий рисунок). Это означает, что любые изменения, внесенные в значения свойств <strong>glassCube</strong> во время записи станет действие, происходящее при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ismouseover">IsMouseOver</a> является <code>true</code>. Во время записи, изменить <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.opacity">Opacity</a> из <strong>glassCube</strong> до 100%.</p>
<p><img src="media/custom-button-blend-ismousedoverpropertytrigger2.gif" alt="Как задать прозрачность кнопки" title="custom_button_blend_IsMousedOverPropertyTrigger2"></p>
<p>Вы создали первый триггер свойства. Обратите внимание, что <strong>панель &quot;триггеры&quot;</strong> записанные редактора <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.opacity">Opacity</a> изменен на 100%.</p>
<p><img src="media/custom-button-blend-propertytriggerinfo.png" alt="Панель “Триггеры”" title="custom_button_blend_PropertyTriggerInfo"></p>
<p>Нажмите клавишу F5, чтобы запустить приложение и наведите указатель мыши над и кнопки включения и выключения. Вы должны увидеть прозрачный слой отображается, когда вы Наведение указателя мыши для кнопки и исчезают, когда указатель покидает.</p>
</li>
<li><p><strong>Изменение значения штриха триггеров IsMouseOver:</strong> Давайте свяжем некоторые другие действия с <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ismouseover">IsMouseOver</a> триггера. Во время записи, переключение сделанный выбор из <strong>glassCube</strong> для <strong>скопировав outerRectangle</strong>. Затем установите <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.stroke">Stroke</a> из <strong>скопировав outerRectangle</strong> на пользовательское выражение «{DynamicResource {x: Static SystemColors.HighlightBrushKey}}». Этот параметр задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.stroke">Stroke</a> чтобы типичное выделите цвет кнопок. Нажмите клавишу F5, чтобы увидеть результат, когда указатель мыши находится над кнопкой.</p>
<p><img src="media/custom-button-blend-ismousedoverpropertytrigger3.png" alt="Установка штриха цвет выделения для" title="custom_button_blend_IsMousedOverPropertyTrigger3"></p>
</li>
<li><p><strong>Размытый текст триггеров IsMouseOver:</strong> Давайте свяжем одного дополнительные действия для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ismouseover">IsMouseOver</a> триггер свойства. Сделайте содержимое кнопки быть немного нечеткими, когда появляется прозрачный над ней. Чтобы сделать это, мы применяем размытия <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.effects.bitmapeffect">BitmapEffect</a> для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contentpresenter">ContentPresenter</a> (<strong>myContentPresenter</strong>).</p>
<p><img src="media/custom-button-blend-propertytriggerwithbitmapeffect.png" alt="Размытие содержимого кнопки" title="custom_button_blend_PropertyTriggerWithBitMapEffect"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Для возврата <strong>панель &quot;Свойства&quot;</strong> обратно которое он имел до вас поиск <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.media.effects.bitmapeffect">BitmapEffect</a>, удалите текст из <strong>поле поиска</strong>.</p>
</div>
<p>На этом этапе мы использовали триггер свойства с несколькими связанными действиями для создания поведения для, когда указатель мыши входит и покидает область кнопок. Другим обычным поведением для кнопки — Выделить с фокусом (например, после щелчка). Мы можем добавить такое поведение, добавив еще один триггер свойства для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.isfocused">IsFocused</a> свойство.</p>
</li>
<li><p><strong>Создание триггера свойств для IsFocused:</strong> Используя ту же процедуру, что и для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.ismouseover">IsMouseOver</a> (см. первый шаг в этом разделе), создайте другой триггер свойства для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.isfocused">IsFocused</a> свойство. Хотя <strong>записи триггера</strong>, добавьте следующие действия в триггер:</p>
<ul>
<li><p><strong>glassCube</strong> получает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.opacity">Opacity</a> 100%.</p>
</li>
<li><p><strong>скопировав outerRectangle</strong> получает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.stroke">Stroke</a> пользовательское выражение значения «{DynamicResource {x: Static SystemColors.HighlightBrushKey}}».</p>
</li>
</ul>
</li>
</ol>
<p>Завершающем этапе в этом пошаговом руководстве мы добавим анимации к кнопке. Эти анимации будет вызвано событиями, в частности, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.mouseenter">MouseEnter</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.buttonbase.click">Click</a> события.</p>
<h4 id="to-use-event-triggers-and-animations-to-add-interactivity">Использование триггеров событий и анимации для обеспечения интерактивности</h4>
<ol>
<li><p><strong>Создание триггера события MouseEnter:</strong> Добавьте новый триггер события и выберите <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.mouseenter">MouseEnter</a> как событие для использования в триггере.</p>
<p><img src="media/custom-button-blend-mouseovereventtrigger.png" alt="Создание триггера события MouseEnter" title="custom_button_blend_MouseOverEventTrigger"></p>
</li>
<li><p><strong>Создайте временную шкалу анимации.</strong> Теперь необходимо связать временную шкалу анимации для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement.mouseenter">MouseEnter</a> событий.</p>
<p><img src="media/custom-button-blend-mouseovereventtrigger2.png" alt="Как добавить временную шкалу анимации на событие" title="custom_button_blend_MouseOverEventTrigger2"></p>
<p>После нажатия клавиши <strong>ОК</strong> для создания новой временной шкалы, <strong>временная шкала</strong> отображается и «Временная шкала записи» отображается в панели конструктора. Это означает, что мы можем запустить записи изменений свойств на временной шкале (изменения свойств анимации).</p>
<div class="NOTE">
<h5>Note</h5>
<p>Может потребоваться изменить размер окна и/или панели для просмотра отображения.</p>
</div>
<p><img src="media/custom-button-blend-mouseovereventtrigger3.png" alt="Временная шкала" title="custom_button_blend_MouseOverEventTrigger3"></p>
</li>
<li><p><strong>Создание опорного кадра:</strong> Для создания анимации, выделите объект, который вы хотите анимировать, создание двух или более опорные кадры на временной шкале, а также для этих опорных кадров, задайте значения свойств, анимация для интерполяции. Следующий рисунок поможет выполнить создание опорного кадра.</p>
<p><img src="media/custom-button-blend-mouseovereventtrigger4.png" alt="Создание опорного кадра" title="custom_button_blend_MouseOverEventTrigger4"></p>
</li>
<li><p><strong>Сжать glassCube в данного опорного кадра:</strong> Второй ключевой кадр выбран, уменьшить размер <strong>glassCube</strong> 90 процентов от его полный размер с помощью <strong>преобразования размер</strong>.</p>
<p><img src="media/custom-button-blend-sizetransform.png" alt="Как уменьшить размер кнопки" title="custom_button_blend_SizeTransform"></p>
<p>Нажмите клавишу F5 для запуска приложения. Наведите указатель мыши на кнопку. Обратите внимание, что прозрачный слой сжимается поверх кнопки.</p>
</li>
<li><p><strong>Создайте еще один триггер события и свяжите с ним другой анимации:</strong> Давайте добавим одну анимацию. Используйте аналогичную процедуру, чтобы вы использовали для создания предыдущей анимации триггера события:</p>
<ol>
<li><p>Создать новый триггер события с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.buttonbase.click">Click</a> событий.</p>
</li>
<li><p>Связать новую временную шкалу с <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.buttonbase.click">Click</a> событий.</p>
</li>
</ol>
<p><img src="media/custom-button-blend-clickeventtrigger1.png" alt="Как создать новую временную шкалу" title="custom_button_blend_ClickEventTrigger1"></p>
<ol>
<li><p>Для этой временной шкалы создайте двумя опорными кадрами, один на 0,0 секунде, а второй на 0.3 секунде.</p>
</li>
<li><p>Ключевой кадр на 0,3 секунде, установите <strong>угол поворота преобразования</strong> до 360 градусов.</p>
</li>
</ol>
<p><img src="media/custom-button-blend-rotatetransform.gif" alt="Создание преобразования вращения" title="custom_button_blend_RotateTransform"></p>
<ol>
<li>Нажмите клавишу F5 для запуска приложения. Нажмите кнопку. Обратите внимание, что прозрачный слой вращается.</li>
</ol>
</li>
</ol>
<h2 id="conclusion">Заключение</h2>
<p>Завершена настройка кнопки. Вы сделали, это с помощью шаблона кнопки, которая была применена ко всем кнопкам в приложении. Если оставить режим редактирования шаблонов (см. следующий рисунок) и создать дополнительные кнопки, вы увидите, что они выглядят и ведут себя подобно настраиваемой кнопки, а не как кнопка по умолчанию.</p>
<p><img src="media/custom-button-blend-scopeup.gif" alt="Шаблон настраиваемой кнопки" title="custom_button_blend_ScopeUp"></p>
<p><img src="media/custom-button-blend-createmultiplebuttons.png" alt="Несколько кнопок, использующих тот же шаблон" title="custom_button_blend_CreateMultipleButtons"></p>
<p>Нажмите клавишу F5 для запуска приложения. Нажмите кнопки и обратите внимание на то, как все они ведут себя одинаково.</p>
<p>Помните, хотя Настройка шаблона, установить <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.fill">Fill</a> свойство <strong>innerRectangle</strong> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.shape.stroke">Stroke</a> свойство <strong>скопировав outerRectangle</strong> шаблона фона ({} TemplateBinding фона}). По этой причине при установке цвет фона отдельных кнопок, фон будет использоваться для соответствующих свойств. Попробуйте изменить фон сейчас. На рисунке ниже используются различные градиенты. Таким образом несмотря на то, что шаблон полезен для общей настройки элементов управления, таких как кнопки, элементы управления с помощью шаблонов можно по-прежнему изменить чтобы они отличались друг от друга.</p>
<p><img src="media/custom-button-blend-blendconclusion.jpg" alt="Кнопки с общим шаблоном, найдите другой" title="custom_button_blend_BlendConclusion"></p>
<p>В заключение процедуру настройки шаблона кнопки вы узнали, как для выполните следующие действия в Microsoft Expression Blend:</p>
<ul>
<li><p>Настройте внешний вид элемента управления.</p>
</li>
<li><p>Установка триггеров свойств. Триггеры свойств очень полезны, так как они могут использоваться для большинства объектов, а не только для элементов управления.</p>
</li>
<li><p>Установка триггеров событий. Триггеры событий очень полезны, так как они могут использоваться для большинства объектов, а не только для элементов управления.</p>
</li>
<li><p>Создание анимаций.</p>
</li>
<li><p>Создание градиентов, добавление BitmapEffects, использование преобразований и набор основных свойств объектов.</p>
</li>
</ul>
<h2 id="see-also">См. также</h2>
<ul>
<li><a href="walkthrough-create-a-button-by-using-xaml.html">Создание кнопки с помощью XAML</a></li>
<li><a href="styling-and-templating.html">Стилизация и использование шаблонов</a></li>
<li><a href="../graphics-multimedia/animation-overview.html">Общие сведения об эффектах анимации</a></li>
<li><a href="../graphics-multimedia/painting-with-solid-colors-and-gradients-overview.html">Общие сведения о закраске сплошным цветом и градиентом</a></li>
<li><a href="../graphics-multimedia/bitmap-effects-overview.html">Общие сведения об эффектах для точечных рисунков</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
