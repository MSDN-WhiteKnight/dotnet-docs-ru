<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#1055;&#1086;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1077; &#1087;&#1088;&#1080; &#1088;&#1072;&#1079;&#1084;&#1077;&#1097;&#1077;&#1085;&#1080;&#1080; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1085;&#1086;&#1075;&#1086; &#1084;&#1077;&#1085;&#1102; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#1055;&#1086;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1077; &#1087;&#1088;&#1080; &#1088;&#1072;&#1079;&#1084;&#1077;&#1097;&#1077;&#1085;&#1080;&#1080; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1085;&#1086;&#1075;&#1086; &#1084;&#1077;&#1085;&#1102; | &#1053;&#1077;&#1086;&#1092;&#1080;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; .NET ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="popup-placement-behavior">Поведение при размещении контекстного меню</h1>

<p>Объект <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> управления отображает содержимое в отдельном окне, расположенном поверх приложения. Можно указать положение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> по отношению к элементу управления, мыши или экрана с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.horizontaloffset">HorizontalOffset</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a> свойства.  Эти свойства совместной работы позволяют гибко указывать положение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<div class="NOTE">
<h5>Note</h5>
<p><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.tooltip">ToolTip</a> И <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contextmenu">ContextMenu</a> классы также определяют эти пять свойств и ведут себя точно так же.</p>
</div>
<p><a name="Positioning"></a></p>
<h2 id="positioning-the-popup">Размещение всплывающего окна</h2>
<p>Размещение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> может быть относительно <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a> или на весь экран.  В следующем примере создается четыре <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> элементов управления, относящихся к <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.uielement">UIElement</a>— в данном случае это изображение. Все <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> элементы управления имеют <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> свойство значение <code>image1</code>, но каждый <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> имеет другое значение свойства размещения.</p>
<pre><code class="lang-xaml" name="PopupPositionSnippet#3">&lt;Canvas Width=&quot;200&quot; Height=&quot;150&quot;&gt;
  &lt;Image Name=&quot;image1&quot;
         Canvas.Left=&quot;75&quot; 
         Source=&quot;Water_lilies.jpg&quot; Height=&quot;200&quot; Width=&quot;200&quot;/&gt;
  &lt;Popup IsOpen=&quot;True&quot; PlacementTarget=&quot;{Binding ElementName=image1}&quot;
         Placement=&quot;Bottom&quot;&gt;
    &lt;TextBlock FontSize=&quot;14&quot; Background=&quot;LightGreen&quot;&gt;Placement=Bottom&lt;/TextBlock&gt;

  &lt;/Popup&gt;
  &lt;Popup IsOpen=&quot;True&quot; PlacementTarget=&quot;{Binding ElementName=image1}&quot;
         Placement=&quot;Top&quot;&gt;
    &lt;TextBlock FontSize=&quot;14&quot; Background=&quot;LightGreen&quot;&gt;Placement=Top&lt;/TextBlock&gt;

  &lt;/Popup&gt;
  &lt;Popup IsOpen=&quot;True&quot; PlacementTarget=&quot;{Binding ElementName=image1}&quot;
         Placement=&quot;Left&quot;&gt;
    &lt;TextBlock FontSize=&quot;14&quot; Background=&quot;LightGreen&quot;&gt;Placement=Left&lt;/TextBlock&gt;

  &lt;/Popup&gt;
  &lt;Popup IsOpen=&quot;True&quot; PlacementTarget=&quot;{Binding ElementName=image1}&quot;
         Placement=&quot;Right&quot;&gt;
    &lt;TextBlock FontSize=&quot;14&quot; Background=&quot;LightGreen&quot;&gt;Placement=Right&lt;/TextBlock&gt;

  &lt;/Popup&gt;
&lt;/Canvas&gt;
</code></pre>
<p>На следующем рисунке показано изображение и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> элементов управления</p>
<p><img src="media/popup-placement-behavior/popup-placement-intro.png" alt="Изображение с четырьмя элементами управления всплывающих окон" title="изображение с четырьмя всплывающими окнами"></p>
<p>В этом простом примере показано, как задать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> свойства, но с помощью <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.horizontaloffset">HorizontalOffset</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a> свойства, у вас есть еще большего контроля над where <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> находится.</p>
<p><a name="Definitions"></a></p>
<h2 id="definitions-of-terms-the-anatomy-of-a-popup">Определения терминов: Анатомия всплывающего окна</h2>
<p>Следующие термины полезны в понимании того как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.horizontaloffset">HorizontalOffset</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a> свойства связаны друг с другом и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>:</p>
<ul>
<li><p>Целевой объект</p>
</li>
<li><p>Целевая область</p>
</li>
<li><p>Исходная точка</p>
</li>
<li><p>Точка выравнивания всплывающего окна</p>
</li>
</ul>
<p>Эти термины предоставляют удобный способ для ссылки на различные аспекты <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> элементов управления, связанного с ним.</p>
<h3 id="target-object">Целевой объект</h3>
<p><em>Целевой объект</em> является элементом, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> связан. Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> свойство задано, оно указывает целевой объект.  Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> не задано и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> имеет родительский элемент, родительский объект — целевой объект.  Если не <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> значение и отсутствует родитель отсутствует целевой объект и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> располагается относительно экрана.</p>
<p>В следующем примере создается <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> то есть дочерний <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a>.  В примере задается <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> свойство <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>. Значение по умолчанию для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">PlacementMode.Bottom</a>, поэтому <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> отображается под <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a>.</p>
<pre><code class="lang-xaml" name="PopupPositionSnippet#1">&lt;Canvas Margin=&quot;5&quot; Background=&quot;Red&quot; Width=&quot;200&quot; Height=&quot;150&quot; &gt;

  &lt;Ellipse Canvas.Top=&quot;60&quot; Canvas.Left=&quot;50&quot;
           Height=&quot;85&quot; Width=&quot;60&quot; 
           Fill=&quot;Black&quot;/&gt;

  &lt;Popup IsOpen=&quot;True&quot; &gt;
    &lt;TextBlock Background=&quot;LightBlue&quot; FontSize=&quot;18&quot;&gt;This is a Popup&lt;/TextBlock&gt;
  &lt;/Popup&gt;
&lt;/Canvas&gt;
</code></pre>
<p>На следующем рисунке показано, что <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> расположено относительно <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-no-placement-target.png" alt="Элемент управления Popup без PlacementTarget" title="всплывающее окно без PlacementTarget."></p>
<p>В следующем примере создается <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> то есть дочерний <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a>, но на этот раз <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> присваивается <code>ellipse1</code>, поэтому появится всплывающее окно под <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.ellipse">Ellipse</a>.</p>
<pre><code class="lang-xaml" name="PopupPositionSnippet#2">&lt;Canvas Margin=&quot;5&quot; Background=&quot;Red&quot; Width=&quot;200&quot; Height=&quot;150&quot; &gt;

  &lt;Ellipse Name=&quot;ellipse1&quot;
           Canvas.Top=&quot;60&quot; Canvas.Left=&quot;50&quot;
           Height=&quot;85&quot; Width=&quot;60&quot; 
           Fill=&quot;Black&quot;/&gt;

  &lt;Popup IsOpen=&quot;True&quot; PlacementTarget=&quot;{Binding ElementName=ellipse1}&quot;&gt;
    &lt;TextBlock Background=&quot;LightBlue&quot; FontSize=&quot;18&quot;&gt;This is a Popup&lt;/TextBlock&gt;
  &lt;/Popup&gt;
&lt;/Canvas&gt;
</code></pre>
<p>На следующем рисунке показано, что <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> расположено относительно <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.ellipse">Ellipse</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-with-placement-target.png" alt="Размещение всплывающего окна относительно эллипса" title="всплывающее окно с PlacementTarget"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.tooltip">ToolTip</a>, значение по умолчанию <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> является <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Mouse">Mouse</a>.  Для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.contextmenu">ContextMenu</a>, значение по умолчанию <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> является <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_MousePoint">MousePoint</a>. Эти значения описаны дальше, в разделе &quot;Совместная работа свойств&quot;.</p>
</div>
<h3 id="target-area">Целевая область</h3>
<p><em>Целевая область</em> — это область на экране, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> определяется относительно. В предыдущих примерах <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> выравнивается в пределах границ целевого объекта, но в некоторых случаях <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> выравнивается по другим границам, даже если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> есть целевой объект.  Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> свойству, целевая область отличается от границ целевого объекта.</p>
<p>В следующем примере создается два <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a> объектов, каждый из которых содержит <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle">Rectangle</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.  В обоих случаях целевым объектом для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> является <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a>. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> В первом <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a> имеет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> задано с помощью его <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.rect.x">X</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.rect.y">Y</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.rect.width">Width</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.rect.height">Height</a> свойства, значение 50, 50, 50 и 100 соответственно. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> Во втором <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a> имеет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> значение.  Таким образом первый <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> находится ниже <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> , а второй <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> находится ниже <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a>. Каждый <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.canvas">Canvas</a> также содержит <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle">Rectangle</a> , имеет те же границы как <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> для первого <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.  Обратите внимание, что <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> не создает видимого элемента в приложении; в примере создается <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.shapes.rectangle">Rectangle</a> для представления <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a>.</p>
<pre><code class="lang-xaml" name="PopupPositionSnippet#4">&lt;StackPanel Orientation=&quot;Horizontal&quot; Margin=&quot;50,50,0,0&quot;&gt;

  &lt;Canvas Width=&quot;200&quot; Height=&quot;200&quot; Background=&quot;Red&quot;&gt;
    &lt;Rectangle Canvas.Top=&quot;50&quot; Canvas.Left=&quot;50&quot; 
               Width=&quot;50&quot; Height=&quot;100&quot;
               Stroke=&quot;White&quot; StrokeThickness=&quot;3&quot;/&gt;
    &lt;Popup IsOpen=&quot;True&quot; PlacementRectangle=&quot;50,50,50,100&quot;&gt;
      &lt;TextBlock FontSize=&quot;14&quot; Background=&quot;Yellow&quot;
                 Width=&quot;140&quot; TextWrapping=&quot;Wrap&quot;&gt;
        This is a popup with a PlacementRectangle.
      &lt;/TextBlock&gt;
    &lt;/Popup&gt;
  &lt;/Canvas&gt;
  
  &lt;Canvas Width=&quot;200&quot; Height=&quot;200&quot; Background=&quot;Red&quot; Margin=&quot;30,0,0,0&quot;&gt;
    &lt;Rectangle Canvas.Top=&quot;50&quot; Canvas.Left=&quot;50&quot; 
               Width=&quot;50&quot; Height=&quot;100&quot;
               Stroke=&quot;White&quot; StrokeThickness=&quot;3&quot;/&gt;
    &lt;Popup IsOpen=&quot;True&quot;&gt;
      &lt;TextBlock FontSize=&quot;14&quot; Background=&quot;Yellow&quot;
                 Width=&quot;140&quot; TextWrapping=&quot;Wrap&quot;&gt;
        This is a popup without a PlacementRectangle.
      &lt;/TextBlock&gt;
    &lt;/Popup&gt;
  &lt;/Canvas&gt;
  
&lt;/StackPanel&gt;
</code></pre>
<p>На следующем рисунке показан результат примера, приведенного выше.</p>
<p><img src="media/popup-placement-behavior/popup-placement-placement-rectangle.png" alt="Всплывающее окно с PlacementRectangle и без" title="контекстного меню с PlacementRectangle и без него."></p>
<h3 id="target-origin-and-popup-alignment-point">Исходная точка и точка выравнивания всплывающего окна</h3>
<p><em>Исходная точка</em> и <em>точка выравнивания всплывающего окна</em> являются опорными точками на целевой области и всплывающем окне соответственно, которые используются для позиционирования. Можно использовать <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.horizontaloffset">HorizontalOffset</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a> свойства для смещения всплывающего окна из целевой области.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.horizontaloffset">HorizontalOffset</a> И <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a> относительны началом координат целевого объекта и точкой выравнивания всплывающего окна. Значение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> свойство определяет, где находятся точка выравнивания всплывающего окна целевой объект.</p>
<p>В следующем примере создается <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> и задает <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.horizontaloffset">HorizontalOffset</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a> свойства до 20.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> Свойству <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">Bottom</a> (по умолчанию), поэтому исходная точка расположена в левом нижнем углу целевой области, и точка выравнивания всплывающего окна находится в левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<pre><code class="lang-xaml" name="PopupPositionSnippet#5">&lt;Canvas Width=&quot;200&quot; Height=&quot;200&quot; Background=&quot;Yellow&quot; Margin=&quot;20&quot;&gt;
  &lt;Popup IsOpen=&quot;True&quot; Placement=&quot;Bottom&quot;
         HorizontalOffset=&quot;20&quot; VerticalOffset=&quot;20&quot;&gt;
    &lt;TextBlock FontSize=&quot;14&quot; Background=&quot;#42F3FD&quot;&gt;
      This is a popup.
    &lt;/TextBlock&gt;
  &lt;/Popup&gt;
&lt;/Canvas&gt;
</code></pre>
<p>На следующем рисунке показан результат примера, приведенного выше.</p>
<p><img src="media/popup-placement-behavior/popup-placement-target-origin-alignment-point.png" alt="Размещение всплывающего окна в точке выравнивания начала цели" title="всплывающее окно с HorizontalOffset и VerticalOffset."></p>
<p><a name="How"></a></p>
<h2 id="how-the-properties-work-together">Совместная работа свойств</h2>
<p>Значения <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a>, и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> следует учитывать друг с другом, чтобы выяснить, правильную целевую область, исходная точка и точка выравнивания всплывающего окна.  Например если значение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Mouse">Mouse</a>, отсутствует целевой объект <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> игнорируется, и целевая область находится в границах указателя мыши. С другой стороны Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">Bottom</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент определяет целевой объект и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> определяет целевую область.</p>
<p>В следующей таблице описаны целевой объект, целевая область, исходная точка и точка выравнивания всплывающего окна и указывает ли <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> используются для каждого <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode">PlacementMode</a> значение перечисления.</p>
<table>
<thead>
<tr>
<th>PlacementMode</th>
<th>Целевой объект</th>
<th>Целевая область</th>
<th>Исходная точка</th>
<th>Точка выравнивания всплывающего окна</th>
</tr>
</thead>
<tbody>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Absolute">Absolute</a></td>
<td>Неприменимо. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> учитывается.</td>
<td>Экран или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Расположен относительно экрана.</td>
<td>Левый верхний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_AbsolutePoint">AbsolutePoint</a></td>
<td>Неприменимо. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> учитывается.</td>
<td>Экран или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Расположен относительно экрана.</td>
<td>Левый верхний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">Bottom</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Левый нижний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Center">Center</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Центр целевой области.</td>
<td>Центр <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Custom">Custom</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Определяется <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.custompopupplacementcallback">CustomPopupPlacementCallback</a>.</td>
<td>Определяется <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.custompopupplacementcallback">CustomPopupPlacementCallback</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Left">Left</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Левый верхний угол целевой области.</td>
<td>В правом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Mouse">Mouse</a></td>
<td>Неприменимо. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> учитывается.</td>
<td>Границы указателя мыши. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> учитывается.</td>
<td>Левый нижний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_MousePoint">MousePoint</a></td>
<td>Неприменимо. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> учитывается.</td>
<td>Границы указателя мыши. <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> учитывается.</td>
<td>Левый верхний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Relative">Relative</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Левый верхний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_RelativePoint">RelativePoint</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Левый верхний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Right">Right</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Правый верхний угол целевой области.</td>
<td>В левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Top">Top</a></td>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementtarget">PlacementTarget</a> или родительский элемент.</td>
<td>Целевой объект, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> если он задан.  <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placementrectangle">PlacementRectangle</a> Относительно целевого объекта.</td>
<td>Левый верхний угол целевой области.</td>
<td>В нижнем левом углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
</tbody>
</table>
<p>На следующих рисунках <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>, целевая область, исходная точка и выравнивания всплывающего окна точки для каждого <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode">PlacementMode</a> значение. На каждом рисунке целевая область закрашена желтым, а <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> — синий.</p>
<p><img src="media/popup-placement-behavior/popup-placement-absolute.png" alt="Всплывающее окно с абсолютным или AbsolutePoint размещением" title="размещение по абсолютным или AbsolutePoint."></p>
<p><img src="media/popup-placement-behavior/popup-placement-bottom.png" alt="Всплывающее окно с нижним размещением" title="размещение по нижнему краю."></p>
<p><img src="media/popup-placement-behavior/popup-placement-center.png" alt="Всплывающее окно с размещением по центру" title="размещения — центр."></p>
<p><img src="media/popup-placement-behavior/popup-placement-left.png" alt="Всплывающее окно с левым размещением" title="размещение по левому краю."></p>
<p><img src="media/popup-placement-behavior/popup-placement-mouse.png" alt="Всплывающее окно с размещением относительны мыши" title="размещение по мыши."></p>
<p><img src="media/popup-placement-behavior/popup-placement-mousepoint.png" alt="Всплывающее окно с размещением MousePoint" title="размещение относительно MousePoint."></p>
<p><img src="media/popup-placement-behavior/popup-placement-relative.png" alt="Всплывающее окно с относительным или RelativePoint размещением" title="размещения является относительным или RelativePoint."></p>
<p><img src="media/popup-placement-behavior/popup-placement-right.png" alt="Всплывающее окно с правым размещением" title="размещение по правому краю."></p>
<p><img src="media/popup-placement-behavior/popup-placement-top.png" alt="Всплывающее окно с верхним размещением" title="размещение по верхнему краю."></p>
<p><a name="When"></a></p>
<h2 id="when-the-popup-encounters-the-edge-of-the-screen">Когда всплывающее окно достигает края экрана</h2>
<p>По соображениям безопасности <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> не могут быть скрыты за краем экрана. Одно из следующих трех действий происходит при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> края экрана:</p>
<ul>
<li><p>Всплывающее окно располагается вдоль края экрана, который мог бы скрыть <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
</li>
<li><p>Всплывающее окно использует другую точку выравнивания.</p>
</li>
<li><p>Всплывающее окно использует другую исходную точку и точку выравнивания.</p>
</li>
</ul>
<p>Эти параметры будут описаны далее в данном разделе.</p>
<p>Поведение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> при обнаружении края экрана зависит от значения <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> свойства, а какие граница, всплывающее окно достигают экрана. В следующей таблице представлены поведения при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> края экрана для каждого <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode">PlacementMode</a> значение.</p>
<table>
<thead>
<tr>
<th>PlacementMode</th>
<th>Верхний край</th>
<th>Нижний край</th>
<th>Левый край</th>
<th>Правый край</th>
</tr>
</thead>
<tbody>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Absolute">Absolute</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Выравнивание по нижнему краю.</td>
<td>Выравнивание по левому краю.</td>
<td>Выравнивание по правому краю.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_AbsolutePoint">AbsolutePoint</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Точка выравнивания всплывающего окна изменяется на нижний левый угол элемента <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
<td>Выравнивание по левому краю.</td>
<td>Точка выравнивания всплывающего окна изменяется на верхний правый угол элемента <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">Bottom</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Началом координат целевого объекта изменяется в левый верхний угол целевой области, а точка выравнивания всплывающего окна изменяется в нижний левый угол <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
<td>Выравнивание по левому краю.</td>
<td>Выравнивание по правому краю.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Center">Center</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Выравнивание по нижнему краю.</td>
<td>Выравнивание по левому краю.</td>
<td>Выравнивание по правому краю.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Left">Left</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Выравнивание по нижнему краю.</td>
<td>Исходная точка изменяется на верхний правый угол целевой области и точкой выравнивания всплывающего окна изменяется в верхний левый угол <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
<td>Выравнивание по правому краю.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Mouse">Mouse</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Началом координат целевого объекта изменяется в левый верхний угол целевой области (границы указателя мыши), а точка выравнивания всплывающего окна изменяется в нижний левый угол <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
<td>Выравнивание по левому краю.</td>
<td>Выравнивание по правому краю.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_MousePoint">MousePoint</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Точка выравнивания всплывающего окна изменяется на нижний левый угол элемента <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
<td>Выравнивание по левому краю.</td>
<td>Точка выравнивания всплывающего окна переходит в верхний правый угол всплывающего окна.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Relative">Relative</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Выравнивание по нижнему краю.</td>
<td>Выравнивание по левому краю.</td>
<td>Выравнивание по правому краю.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_RelativePoint">RelativePoint</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Точка выравнивания всплывающего окна изменяется на нижний левый угол элемента <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
<td>Выравнивание по левому краю.</td>
<td>Точка выравнивания всплывающего окна переходит в верхний правый угол всплывающего окна.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Right">Right</a></td>
<td>Выравнивание по верхнему краю.</td>
<td>Выравнивание по нижнему краю.</td>
<td>Выравнивание по левому краю.</td>
<td>Началом координат целевого объекта изменяется в левый верхний угол целевой области, а точка выравнивания всплывающего окна изменяется в верхний правый угол <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</td>
</tr>
<tr>
<td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Top">Top</a></td>
<td>Началом координат целевого объекта изменяется в левый нижний угол целевой области, а точка выравнивания всплывающего окна изменяется в верхний левый угол <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>. По сути, это то же самое, как и при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> является <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">Bottom</a>.</td>
<td>Выравнивание по нижнему краю.</td>
<td>Выравнивание по левому краю.</td>
<td>Выравнивание по правому краю.</td>
</tr>
</tbody>
</table>
<h3 id="aligning-to-the-screen-edge">Выравнивание по краю экрана</h3>
<p>Объект <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> может выровняться по краю экрана путем изменения расположения, так что всего <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> отображается на экране.  В этом случае расстояние между точкой выравнивания всплывающего окна, целевой объект может отличаться от значения <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.horizontaloffset">HorizontalOffset</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a>. Когда <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Absolute">Absolute</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Center">Center</a>, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Relative">Relative</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> выравнивается по каждому краю экрана.  Например, предположим, что <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> имеет <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> присвоено <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Relative">Relative</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.verticaloffset">VerticalOffset</a> равным 100.  Если нижний край экрана скрывает полностью или частично <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> выравнивается вдоль нижнего края экрана и расстояние по вертикали между началом координат целевого объекта и всплывающее окно точка выравнивания находится меньше 100. Эта ситуация представлена на рисунке ниже.</p>
<p><img src="media/popup-placement-behavior/popup-placement-relative-screen-edge.png" alt="Всплывающее окно, выравниваемое по краю экрана" title="всплывающее окно выравнивается по границе экрана."></p>
<h3 id="changing-the-popup-alignment-point">Изменение точки выравнивания всплывающего окна</h3>
<p>Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_AbsolutePoint">AbsolutePoint</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_RelativePoint">RelativePoint</a>, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_MousePoint">MousePoint</a>, точка выравнивания всплывающего окна изменяется, когда всплывающее окно достигают нижнего или правого края экрана.</p>
<p>На следующем рисунке показано, что если нижний край экрана скрывает полностью или частично <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>, точка выравнивания всплывающего окна находится в нижнем левом углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-relative-point-screen-edge.png" alt="Новая точка выравнивания относительно нижнего края экрана" title="всплывающее окно достигает нижнего края экрана и меняет положение точки выравнивания."></p>
<p>На следующем рисунке показано, что при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> скрыт с правого края экрана, точка выравнивания всплывающего окна находится в правом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-relative-point-right-screen-edge.png" alt="Новая точка выравнивания всплывающего окна края экрана" title="всплывающее окно достигает правого края экрана и меняет положение точки выравнивания."></p>
<p>Если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> достигает нижнего и правого краев экрана, точка выравнивания всплывающего окна находится в правом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<h3 id="changing-the-target-origin-and-popup-alignment-point">Изменение положения исходной точки и точки выравнивания всплывающего окна</h3>
<p>Когда <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">Bottom</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Left">Left</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Mouse">Mouse</a>, <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Right">Right</a>, или <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Top">Top</a>, выравнивания всплывающего окна целевой точки изменений при обнаружении края экрана.  Зависит от края экрана, который вызывает изменение положения <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode">PlacementMode</a> значение.</p>
<p>На следующем рисунке показано, что при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Bottom">Bottom</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> достигает нижнего края экрана, исходная точка расположена в левом верхнем углу целевой области, и точка выравнивания всплывающего окна находится в нижнем левом углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-bottom-screen-edge.png" alt="Новая точка выравнивания относительно нижнего края экрана" title="размещение по нижнему краю и всплывающее окно достигают нижнего края экрана."></p>
<p>На следующем рисунке показано, что при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Left">Left</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> встречает левый край экрана, исходная точка расположена в правом верхнем углу целевой области, и точка выравнивания всплывающего окна находится в левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-left-screen-edge.png" alt="Новая точка выравнивания относительно левого края экрана" title="размещение по левому краю и всплывающее окно достигают левого края экрана."></p>
<p>На следующем рисунке показано, что при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Right">Right</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> встречает правый край экрана, исходная точка расположена в левом верхнем углу целевой области, и точка выравнивания всплывающего окна находится в правом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-right-screen-edge.png" alt="Новая точка выравнивания относительно правого края экрана" title="размещение по правому краю и всплывающее окно достигают правого края экрана."></p>
<p>На следующем рисунке показано, что при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Top">Top</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> встречает верхний край экрана, исходная точка расположена в левом нижнем углу целевой области, и точка выравнивания всплывающего окна находится в левом верхнем углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-top-screen-edge.png" alt="Новая точка выравнивания относительно верхнего края экрана" title="размещение по верхнему краю и всплывающее окно достигают верхнего края экрана."></p>
<p>На следующем рисунке показано, что при <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> — <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Mouse">Mouse</a> и <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> достигает нижнего края экрана, исходная точка расположена в левом верхнем углу целевой области (границы указателя мыши), а также выравнивания всплывающего окна точка находится в нижнем левом углу <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>.</p>
<p><img src="media/popup-placement-behavior/popup-placement-mouse-screen-edge.png" alt="Новая точка выравнивания относительно мыши возле края экрана" title="размещение относительно мыши и всплывающее окно достигают нижнего края экрана."></p>
<h3 id="customizing-popup-placement">Настройка размещения контекстного меню</h3>
<p>Точка выравнивания всплывающего окна целевой можно настроить, задав <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup.placement">Placement</a> свойства <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.placementmode#System_Windows_Controls_Primitives_PlacementMode_Custom">Custom</a>. Затем определите <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.custompopupplacementcallback">CustomPopupPlacementCallback</a> делегат, который возвращает набор возможных точек размещения и основные оси (в порядке предпочтения) для <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a>. Точка, в которой отображается наибольшую часть <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> выбран.  Положение <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> изменяется автоматически в том случае, если <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.windows.controls.primitives.popup">Popup</a> скрыто за краем экрана. См. пример в разделе <a href="how-to-specify-a-custom-popup-position.html">Указание пользовательского расположения контекстного меню</a>.</p>
<h2 id="see-also">См. также</h2>
<ul>
<li><a href="https://github.com/dotnet/samples/tree/master/snippets/csharp/VS_Snippets_Wpf/PopupPositionSnippet/CS">Пример размещения всплывающего окна</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru">Неофициальная документация по .NET на русском языке</a>. Лицензия: <a href="https://github.com/MSDN-WhiteKnight/dotnet-docs-ru/blob/main/LICENSE">CC-BY 4.0</a>. Основано на <a href="https://docs.microsoft.com/ru-ru/dotnet/">документации по .NET с Microsoft Docs</a><br>Generated by <strong>DocFX</strong></span><script type="text/javascript">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(65150713, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/65150713" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
